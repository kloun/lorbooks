<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head>
  <meta http-equiv="Content-Type" content="text/html; charset=windows-1251"><title>Installing GCC-3.2</title>
<meta name="GENERATOR" content="Modular DocBook HTML Stylesheet Version 1.73"><link rel="HOME" title="Linux From Scratch" href="http://www.linux.org.ru/books/Distro/lfsbook/chapter05/index.html"><link rel="UP" title="Preparing the LFS system" href="chapter05.html"><link rel="PREVIOUS" title="Installing Gawk-3.1.1" href="gawk.html"><link rel="NEXT" title="Installing Grep-2.5" href="grep.html"></head><body class="sect1" bgcolor="#ffffff" text="#000000" link="#0000ff" vlink="#840084" alink="#006000"><div class="NAVHEADER"><table summary="Header navigation table" width="100%" border="0" cellpadding="0" cellspacing="0"><tbody><tr><th colspan="3" align="Center">Linux From Scratch: бЕПЯХЪ 4.0</th></tr><tr><td width="10%" align="Left" valign="Bottom"><a href="gawk.html" accesskey="P">мЮГЮД</a></td><td width="80%" align="Center" valign="Bottom">цКЮБЮ 5. оНДЦНРНБЙЮ ЯХЯРЕЛШ LFS</td><td width="10%" align="Right" valign="Bottom"><a href="grep.html" accesskey="N">бОЕПЕД</a></td></tr></tbody></table><hr align="Left" width="100%"></div><div class="sect1"><h1 class="sect1"><a name="ch05-gcc">сЯРЮМНБЙЮ GCC-3.2</a></h1><table border="0" bgcolor="#e0e0e0" width="100%"><tbody><tr><td><pre class="screen">оПХАКХГХРЕКЭМНЕ БПЕЛЪ ЙНЛОХКЪЖХХ:           9.48 SBU<br>мЕНАУНДХЛНЕ ДХЯЙНБНЕ ОПНЯРПЮМЯРБН:  326 MB</pre></td></tr></tbody></table><div class="sect2"><h2 class="sect2"><a name="AEN1602">хМЯРЮККЪЖХЪ GCC</a></h2>
<p>оЕПЕД СЯРЮМНБЙНИ ОЮЙЕРЮ ОПХЛЕМХРЕ ОЮРВ. сДНЯРНБЕПЭРЕЯЭ, ВРН ОЮРВ Х ОЮЙЕР ПЮЯОЮЙНБЮМШ ОЕПЕД ХМЯРЮККЪЖХЕИ.</p>
<p>щРНР
ОЮЙЕР ХГБЕЯРЕМ ЯБНХЛ МЕЯРЮАХКЭМШЛ ОНБЕДЕМХЕЛ ОПХ ЙНЛОХКЪЖХХ Я ХГЛЕМЕММШЛХ
НОЖХЪЛХ НОРХЛХГЮЖХХ (БЙКЧВЮЪ НОЖХХ -march Х -mcpu). GCC ПЕЙНЛЕМДСЕРЯЪ
ЙНЛОХКХПНБЮРЭ Я МЮЯРПНИЙЮЛХ ОН СЛНКВЮМХЧ. яКЕДНБЮРЕКЭМН, ЕЯКХ БШ ГЮДЮКХ ОЕПЕЛЕММШЕ
РЮЙХЕ ЙЮЙ CFLAGS ХКХ CXXFLAGS, ХГЛЕМЪЧЫХЕ СПНБЕМЭ НОРХЛХГЮЖХХ ОН СЛНКВЮМХЧ,
ПЕЙНЛЕМДСЕРЯЪ САПЮРЭ ХУ ОПХ ЯАНПЙЕ ОЮЙЕРЮ GCC. хГЛЕМЪЪ НОРХЛХГЮЖХХ ДКЪ GCC, БШ ДЕИЯРБСЕРЕ МЮ ЯБНИ ЯРПЮУ Х ПХЯЙ.</p>
<p>дКЪ ХМЯРЮККЪЖХХ GCC БШОНКМХРЕ:</p><p><table border="0" bgcolor="#e0e0e0" width="100%"><tbody><tr><td><pre class="screen"><tt class="userinput"><b>patch -Np1 -i ../gcc-3.2.patch &amp;&amp;<br>patch -Np1 -i ../gcc-3.2-nofixincludes-2.patch &amp;&amp;<br>mkdir ../gcc-build &amp;&amp;<br>cd ../gcc-build &amp;&amp;<br>../gcc-3.2/configure --prefix=/static --enable-languages=c \<br>	--disable-nls --disable-shared &amp;&amp;<br>echo "#define HAVE_GAS_HIDDEN 1" &gt;&gt; gcc/auto-host.h &amp;&amp;<br>make BOOT_LDFLAGS=-static bootstrap &amp;&amp;<br>make prefix=$LFS/static install &amp;&amp;<br>ln -s gcc $LFS/static/bin/cc</b></tt></pre></td></tr></tbody></table></p></div><div class="sect2"><h2 class="sect2"><a name="AEN1610">нАЗЪЯМЕМХЪ ЙНЛЮМД</a></h2><p><tt class="userinput"><b>patch -Np1 -i ../gcc-3.2.patch:</b></tt>
щРНР ОЮРВ ХЯОПЮБКЪЕР МЕЙНРНПШЕ НЬХАЙХ, Б ВЮЯРМНЯРХ ЯНДЕПФХР "copy fix" Х
"var fix", ДНЙСЛЕМРХПНБЮММШЕ МЮ ЯЮИРЕ <a href="http://www.zipworld.com.au/%7Egschafer/lfs-tweaks.html" target="_top">http://www.zipworld.com.au/~gschafer/lfs-tweaks.html</a>.</p><p><tt class="userinput"><b>patch -Np1 -i ../gcc-3.2-nofixincludes-2.patch:</b></tt>
оПЕДНРБПЮЫЮЕР ГЮОСЯЙ ЯЙПХОРЮ fixincludes.</p><p><tt class="userinput"><b>--prefix=/static:</b></tt>
щРН ме НОЕВЮРЙЮ. оПХ ЙНЛОХКЪЖХХ, GCC ФЕЯРЙН ОПНОХЯШБЮЕР ОСРХ, Х МЮЛ МЕНАУНДХЛН
ОЕПЕДЮРЭ ОСРЭ /static Б ЙЮВЕЯРБЕ ОПЕТХЙЯЮ Й ЯЙПХОРС ./configure. пЕЮКЭМШИ
ОСРЭ ХМЯРЮККЪЖХХ ЛШ СЙЮФЕЛ ЙНЛЮМДЕ make install.</p><p><tt class="userinput"><b>--enable-languages=c:</b></tt>
сЙЮГЮМХЕ ЯНАПЮРЭ ЙНЛОХКЪРНП яХ. йНЛОХКЪРНП C++ АСДЕР ЯНАПЮМ ОНГФЕ, Б цКЮБЕ
6, ЙНЦДЮ ЛШ АСДЕЛ ОЕПЕЙНЛОХКХПНБЮРЭ GCC. дКЪ ЯАНПЙХ ДПСЦХУ ЙНЛОХКЪРНПНБ,
НОСЯРХРЕ ОЮПЮЛЕРП --enable-languages.</p><p><tt class="userinput"><b>echo "#define HAVE_GAS_HIDDEN 1":</b></tt>
нОПЕДЕКЪЛ ДХПЕЙРХБС ЮЯЯЕЛАКЕПЮ .hidden, ДКЪ РНЦН ВРНАШ БОНЯКЕДЯРБХХ ЯЙНЛОХКХПНБЮРЭ Glibc ОПЮБХКЭМН.</p><p><tt class="userinput"><b>make BOOT_LDFLAGS=-static:</b></tt>
щРН ЩЙБХБЮКЕМР НОЖХХ LDFLAGS=-static, ЙНРНПШИ ЛШ ГЮДЮЕЛ ДКЪ ХЯОНКЭГНБЮМХЪ ЯРЮРХВЕЯЙХУУ ЯЯШКНЙ ОПХ ЙНЛОХКЪЖХХ.</p><p><tt class="userinput"><b>ln -s gcc $LFS/static/bin/cc:</b></tt> яНГДЮМХЕ ЯХЛБНКХВЕЯЙНИ ЯЯШКЙХ $LFS/static/bin/gcc, МЕНАУНДХЛНИ ДКЪ МЕЙНРНПШУ ОЮЙЕРНБ.</p></div><div class="sect2">
<div class="sect2"><h2 class="sect2"><a name="AEN6805">яНДЕПФХЛНЕ GCC</a></h2><p>оНЯКЕДМЪЪ ОПНБЕПЙЮ: БЕПЯХЪ 3.1.</p><div class="sect3"><h3 class="sect3"><a name="AEN6808">оПНЦПЮЛЛШ</a></h3><p>c++, c++filt, cc (link to gcc), cc1, cc1plus, collect2, cpp, cpp0, g++,
gcc, gccbug, gcov Х tradcpp0</p></div><div class="sect3"><h3 class="sect3"><a name="AEN6811">нОХЯЮМХЪ</a></h3><div class="sect4"><h4 class="sect4"><a name="AEN6813">cc, cc1, cc1plus, gcc</a></h4><p>йНЛОХКЪРНП C. йНЛОХКЪРНП ОЕПЕБНДХР ЙНД ХГ РЕЙЯРНБНЦН ТНПЛЮРЮ Б ТНПЛЮР,
ОНМЪРМШИ ЙНЛОЭЧРЕПС. оНЯКЕ РНЦН, ЙЮЙ ХЯУНДМШИ ЙНД ЯЙНЛОХКХПНБЮМ Б НАЗЕЙРМШИ
ТЮИК, КХМЙЕП ЯНГДЮЯР ХЯОНКМЪЕЛШИ ТЮИК ХГ НДМНЦН ХКХ МЕЯЙНКЭЙХУ НАЗЕЙРМШУ.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN6816">c++, cc1plus, g++</a></h4><p>йНЛОХКЪРНП C++, ЩЙБХБЮКЕМР cc,  gcc etc.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN6819">c++filt</a></h4><p>ъГШЙ C++ ОНГБНКЪЕР НЯСЫЕЯРБКЪРЭ ОЕПЕГЮЦПСГЙС ТСММЙЖХИ, ДЕКЮЪ БНГЛНФМШЛ
МЮОХЯЮМХЕ ЛМНЦХУ ТСМЙЖХИ Я НДМХЛ ХЛЕМЕЛ (Я ПЮГМШЛ МЮАНПНЛ ОЮПЮЛЕРПНЛ). бЯЕ
ХЛЕМЮ ТСМЖХИ C++ ГЮЙНДХПНБЮМШ Б МХГЙНСПНБМЕБШЕ ЛЕРЙХ ЮЯЯЕЛАКЕПЮ (ЩРНР ОПНЖЕЯЯ
ХГБЕЯРЕМ ЙЮЙ mangling). c++filt ЯНБЕПЬЮЕР НАПЮРМНЕ ДЕИЯРБХЕ: МХГЙНСПНБМЕБШЕ
ХЛЕМЮ ОЕПЕБНДЪРЯЪ (demangling) Б ХЛЕМЮ, ОНМЪРМШЕ ОНКЭГНБЮРЕКЧ, РЮЙ ВРН КХМЙЕП
ХГАЕЦЮЕР ЙНМТКХЙРЮ ЛЕФДС ОЕПЕГЮЦПСФЕММШЛХ ТСМЙЖХЪЛХ.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN6822">collect2</a></h4><p>collect2 ОНЛНЦЮЕР Б ЙНЛОХКЪЖХХ ЙНМЯРПСЙРНПНБ.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN6825">cpp, cpp0</a></h4><p>cpp НЯСЫЕЯРБКЪЕР ОПЕОПНЖЕЯЯХМЦ ХЯУНДМШУ ТЮИКНБ, МЮОПХЛЕП БЙКЧВЮЕР Б МХУ
ЯНДЕПФХЛНЕ ГЮЦНКНБНВМШУ ТЮИКНБ. оПНЯРН ДНАЮБЭРЕ Б БЮЬ ХЯУНДМШИ ТЮИК ЯРПНЙС
БПНДЕ #include &lt;filename&gt;. оПЕОПНЖЕЯЯНП БЯРЮБХР ЯНДЕПФХЛНЕ ГЮЦНКНБНВМНЦН
ТЮИКЮ.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN6828">gccbug</a></h4><p>gccbug - ЯЙПХОР, НАКЕЦВЮЧЫХИ ЯНГДЮМХЕ ЯННАЫЕМХИ НА НЬХАЙЮУ.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN6831">gcov</a></h4><p>gcov ЮМЮКХГХПСЕР ОПНЦПЮЛЛШ, ВРНАШ ОНЛНВЭ Б ЯНГДЮМХХ АНКЕЕ ЩТТЕЙРХБМНЦН
Х АШЯРПНЦН ЙНДЮ ОСРЕЛ ЕЦН НОРХЛХГЮЖХХ.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN6834">tradcpp0</a></h4><p>мЮ ДЮММШИ ЛНЛЕМР НОХЯЮМХЪ МЕР.</p></div></div><div class="sect3"><h3 class="sect3"><a name="AEN6837">аХАКХНРЕЙХ</a></h3><p>libgcc.a, libgcc_eh.a, libgcc_s.so, libiberty.a, libstdc++.[a,so],  libsupc++.a</p></div><div class="sect3"><h3 class="sect3"><a name="AEN6840">нОХЯЮМХЪ</a></h3><div class="sect4"><h4 class="sect4"><a name="AEN6842">libgcc, libgcc_eh, libgcc_s</a></h4><p>тЮИКШ ОНДДЕПФЙХ gcc БПЕЛЕМХ ХЯОНКМЕМХЪ.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN6845">libiberty</a></h4><p>libiberty - ЙНККЕЙЖХЪ ОНДОПНЦПЮЛЛ, ХЯОНКЭГСЕЛШУ ПЮГКХВМШЛХ ОПНЦПЮЛЛЮЛХ
GNU, БЙКЧВЮЪ getopt, obstack, strerror, strtol Х strtoul.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN6848">libstdc++</a></h4><p>libstdc++ - АХАКХНРЕЙЮ C++. нМЮ ХЯОНКЭГСЕРЯЪ ОПНЦПЮЛЛЮЛХ МЮ C++ Х ЯНДЕПФХР
ВЮЯРН ХЯОНКЭГСЕЛШЕ ТСМЙЖХХ. рЮЙХЛ НАПЮГНЛ, ОПНЦПЮЛЛХЯРС МЕ МСФМН ОХЯЮРЭ ЯРЮМДЮПРМШЕ
ТСМЖХХ (МЮОПХЛЕП, БШБНД ЯРПНЙХ РЕЙЯРЮ МЮ ЩЙПЮМ) Я МСКЪ ОПХ ЙЮФДНЛ ЯНГДЮМХХ
ОПНЦПЮЛЛШ.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN6851">libsupc++</a></h4><p>libsupc++ ОПЕДНЯРЮБКЪЕР ОНДДЕПФЙС ЪГШЙЮ ОПНЦПЮЛЛХПНБЮМХЪ C++. оНЛХЛН ОПНВЕЦН,
libsupc++ ЯНДЕПФХР ТСМЙЖХХ ДКЪ НАПЮАНРЙХ ХЯЙКЧВЕМХИ.</p></div></div></div>
<div class="sect2"><h2 class="sect2"><a name="AEN6854">гЮБХЯХЛНЯРХ GCC</a></h2><p>оНЯКЕДМЪЪ ОПНБЕПЙЮ: БЕПЯХЪ 2.95.3.</p><p class="literallayout">Bash:═sh<br>
 Binutils:═ar,═as,═ld,═nm,═ranlib<br>
 Diffutils:═cmp<br>
 Fileutils:═chmod,═cp,═ln,═ls,═mkdir,═mv,═rm,═touch<br>
 Find:═find<br>
 Gcc:═cc,═cc1,═collect2,═cpp0,═gcc<br>
 Grep:═egrep,═grep<br>
 Make:═make<br>
 Patch:═patch<br>
 Sed:═sed<br>
 Sh-utils:═basename,═dirname,═echo,═expr,═hostname,═sleep,═true,═uname<br>
 Tar:═tar<br>
 Texinfo:═install-info,═makeinfo<br>
 Textutils:═cat,═tail,═tr</p></div>
<h2 class="sect2"></h2></div></div><div class="NAVFOOTER"><hr align="Left" width="100%"><table summary="Footer navigation table" width="100%" border="0" cellpadding="0" cellspacing="0"><tbody><tr><td width="33%" align="Left" valign="Top"><a href="gawk.html" accesskey="P">мЮГЮД</a></td><td width="34%" align="Center" valign="Top"><a href="../index.html" accesskey="H">дНЛНИ</a></td><td width="33%" align="Right" valign="Top"><a href="grep.html" accesskey="N">бОЕПЕД</a></td></tr><tr><td width="33%" align="Left" valign="Top">сЯРЮМНБЙЮ Gawk-3.1.1</td><td width="34%" align="Center" valign="Top"><a href="chapter05.html" accesskey="U">мЮБЕПУ</a></td><td width="33%" align="Right" valign="Top">сЯРЮМНБЙЮ Grep-2.5</td></tr></tbody></table></div><br>
</body></html>