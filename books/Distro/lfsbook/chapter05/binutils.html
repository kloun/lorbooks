<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head>
  <meta http-equiv="Content-Type" content="text/html; charset=windows-1251"><title>Installing Binutils-2.13</title>
<meta name="GENERATOR" content="Modular DocBook HTML Stylesheet Version 1.73"><link rel="HOME" title="Linux From Scratch" href="http://www.linux.org.ru/books/Distro/lfsbook/chapter05/index.html"><link rel="UP" title="Preparing the LFS system" href="chapter05.html"><link rel="PREVIOUS" title="Installing Bash-2.05a" href="bash.html"><link rel="NEXT" title="Installing Bzip2-1.0.2" href="bzip2.html"></head><body class="sect1" bgcolor="#ffffff" text="#000000" link="#0000ff" vlink="#840084" alink="#006000"><div class="NAVHEADER"><table summary="Header navigation table" width="100%" border="0" cellpadding="0" cellspacing="0"><tbody><tr><th colspan="3" align="Center">Linux From Scratch: Версия 4.0</th></tr><tr><td width="10%" align="Left" valign="Bottom"><a href="bash.html" accesskey="P">Назад</a></td><td width="80%" align="Center" valign="Bottom">Глава 5. Подготовка системы LFS</td><td width="10%" align="Right" valign="Bottom"><a href="bzip2.html" accesskey="N">Вперед</a></td></tr></tbody></table><hr align="Left" width="100%"></div><div class="sect1"><h1 class="sect1"><a name="ch05-binutils">Установка Binutils-2.13</a></h1><table border="0" bgcolor="#e0e0e0" width="100%"><tbody><tr><td><pre class="screen">Приблизительное время компиляции:           2.05 SBU<br>Необходимое дисковое пространство:  160 MB</pre></td></tr></tbody></table><div class="sect2"><h2 class="sect2"><a name="AEN1244">Установка of Binutils</a></h2><p>Этот
пакет известен своим нестабильным поведением при компиляции с измененными
опциями оптимизации (включая опции -march и -mcpu). Binutils рекомендуется
компилировать с настройками по умолчанию. Следовательно, если вы задали переменные
такие как CFLAGS или CXXFLAGS, изменяющие уровень оптимизации по умолчанию,
рекомендуется убрать их при сборке пакета binutils. Изменяя оптимизации для
binutils, вы действуете на свой страх и риск.</p><p>Для инсталляции Binutils выполните:</p><p><table border="0" bgcolor="#e0e0e0" width="100%"><tbody><tr><td><pre class="screen"><tt class="userinput"><b>mkdir ../binutils-build &amp;&amp;<br>cd ../binutils-build &amp;&amp;<br>../binutils-2.13/configure --prefix=$LFS/static --disable-nls &amp;&amp;<br>make LDFLAGS=-all-static &amp;&amp;<br>make install</b></tt></pre></td></tr></tbody></table></p></div><div class="sect2"><h2 class="sect2"><a name="AEN1251">Пояснения команд</a></h2><p><tt class="userinput"><b>mkdir ../binutils-build:</b></tt>
В инструкциях установки Binutils рекомендуется создать отдельную директорию
для сборки, вместо того, чтобы компилировать программу в директории исходников.
Итак, мы создаем директорию binutils-build и будем работать из нее.</p><p><tt class="userinput"><b>--disable-nls:</b></tt>
Эта опция выключает поддержку интернационализации (или i18n), которая не
нужна нам на стадии статически связанных программ, т.к. часто дает сбои при
использовании статических ссылок.</p><p><tt class="userinput"><b>LDFLAGS=-all-static:</b></tt> Присваиваем переменной LDFLAGS
значение -all-static для того, чтобы использовать статические ссыдки.</p></div><div class="sect2">
<div class="sect2"><h2 class="sect2"><a name="AEN6278">Содержимое Binutils</a></h2><p>Последняя проверка: версия 2.12.1.</p><div class="sect3"><h3 class="sect3"><a name="AEN6281">Программы</a></h3><p>addr2line, ar, as, gasp, gprof, ld, nm, objcopy, objdump,  ranlib, readelf, 
 size, strings and strip</p></div><div class="sect3"><h3 class="sect3"><a name="AEN6284">Описания</a></h3><div class="sect4"><h4 class="sect4"><a name="AEN6286">addr2line</a></h4><p>addr2line переводит программные адреса в имена файлов и номера строк. 
Given an address and an executable, используется отладочная информация исполняемого
файла, чтобы определить, какое имя файла и номер строки связаны с данным
адресом.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN6289">ar</a></h4><p>ar создает и изменяет архивы, а также производит их распаковку. Архив
- файл, содержащий несколько файлов в виде, позволяющем восстановить оригинал.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN6292">as</a></h4><p>as используется для ассемблирования вывода the GNU C Compiler,    gcc
для использования с линкером ld.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN6295">gasp</a></h4><p>gasp - Assembler Macro Preprocessor.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN6298">gprof</a></h4><p>gprof отображает статистику системных вызовов.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN6301">ld</a></h4><p>ld объединяет несколько объектных и архивных файлов и устанавливает символьные
отношения. Последний шаг в сборке скомпилированной программы - запуск ld.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN6304">nm</a></h4><p>nm перечисляет символы из объектных файлов.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN6307">objcopy</a></h4><p>objcopy utility копирует содержимое одного объектного файла в другой.
objcopy использует библиотеку GNU BFD для чтения/записи объектных файлов.
Возможна запись конечного объектного файла в формате, отличном от исходного.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN6310">objdump</a></h4><p>objdump выводит информацию об одном или нескольких объектных файлах. Опции
указываеют, какую информацию выводить. Эта информация полезна для программистов,
разрабатывающих компиляторы, в противоположность тем, кому нужно просто скомпилировать
и запустить программу.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN6313">ranlib</a></h4><p>ranlib генерирует оглавление содержимого архива и сохраняет его в архиве.
Список будет содержать все символы, определенные членами архива, that is
a relocatable object file.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN6316">readelf</a></h4><p>readelf выводит информацию об бинарных файлах типа elf.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN6319">size</a></h4><p>size выводит размеры секций --и общий размер-- каждого указанного объектного
файла. По умолчанию, генерируется одна строка для каждого объектного файла
или модуля в архиве.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN6322">strings</a></h4><p>Для каждого задананного файла strings выводит последовательность отображаемых
символов длиной минимум 4 знака (или указанной длины), завершающуюся непечатным
символом. По умолчанию, выводятся лишь строки из инициализированных и загруженных
частей объектных файлов. Для других типов файлов выводятся строки из всего
файла.</p><p>strings зачастую используется для определения содержимого нетекстовых
файлов.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN6326">strip</a></h4><p>strip удаляет все или указанные символы из объектных файлов. Список объектных 
файлов может включать архивы. Должен быть задан как минимум один объектный 
файл. Модификация указанных файлов приоритетнее, чем запись модифицированных 
копий под другими именами.</p></div></div><div class="sect3"><h3 class="sect3"><a name="AEN6329">Библиотеки</a></h3><p>libbfd.[a,so] и libopcodes.[a,so]</p></div><div class="sect3"><h3 class="sect3"><a name="AEN6332">Описания</a></h3><div class="sect4"><h4 class="sect4"><a name="AEN6334">libbfd</a></h4><p>libbfd - библиотека Binary File Descriptor.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN6337">libopcodes</a></h4><p>libopcodes - библиотека для работы с опкодами, используется в сборке утилит 
вроде objdump. Опкоды - "читаемые" версии инструкций процессора.</p></div></div></div>
<div class="sect2"><h2 class="sect2"><a name="AEN6340">Зависимости Binutils</a></h2><p>Последняя проверка: версия 2.11.2.</p><p class="literallayout">Autoconf: autoconf, autoheader<br>
    Automake: aclocal, automake<br>
    Bash: sh<br>
    Binutils: ar, as, ld, nm, ranlib, strip<br>
    Diffutils: cmp<br>
    Fileutils: chmod, cp, ln, ls, mkdir, mv, rm, rmdir, touch<br>
    Flex: flex<br>
    Gcc: cc, cc1, collect2, cpp0, gcc<br>
    Glibc: ldconfig<br>
    Grep: egrep, fgrep, grep<br>
    M4: m4<br>
    Make: make<br>
    Gawk: gawk<br>
    Sed: sed<br>
    Sh-utils: basename, echo, expr, hostname, sleep, true, uname<br>
    Texinfo: install-info, makeinfo<br>
    Textutils: cat, sort, tr, uniq</p></div>
<h2 class="sect2"><a name="AEN1259"></a></h2></div></div><div class="NAVFOOTER"><hr align="Left" width="100%"><table summary="Footer navigation table" width="100%" border="0" cellpadding="0" cellspacing="0"><tbody><tr><td width="33%" align="Left" valign="Top"><a href="bash.html" accesskey="P">Назад</a></td><td width="34%" align="Center" valign="Top"><a href="../index.html" accesskey="H">Домой</a></td><td width="33%" align="Right" valign="Top"><a href="bzip2.html" accesskey="N">Вперед</a></td></tr><tr><td width="33%" align="Left" valign="Top">Установка Bash-2.05a</td><td width="34%" align="Center" valign="Top"><a href="chapter05.html" accesskey="U">Наверх</a></td><td width="33%" align="Right" valign="Top">Установка Bzip2-1.0.2</td></tr></tbody></table></div><br>
</body></html>