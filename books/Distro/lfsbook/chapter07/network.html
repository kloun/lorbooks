<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head><title>Настройка сетевых скриптов</title><meta name="GENERATOR" content="Modular DocBook HTML Stylesheet Version 1.73" /=""><link rel="HOME" title="Linux From Scratch" href="../index.html" /=""><link rel="UP" title="Setting up system boot scripts" href="../chapter07/chapter07.html" /=""><link rel="PREVIOUS" title="Creating the /etc/hosts file" href="../chapter07/hosts.html" /=""><link rel="NEXT" title="Making the LFS system bootable" href="../chapter08/chapter08.html" /=""></head><body class="sect1" bgcolor="#ffffff" text="#000000" link="#0000ff" vlink="#840084" alink="#006000"><div class="NAVHEADER"><table summary="Header navigation table" width="100%" border="0" cellpadding="0" cellspacing="0"><tbody><tr><th colspan="3" align="Center">Linux From Scratch: Версия 4.0</th></tr><tr><td width="10%" align="Left" valign="Bottom"><a href="hosts.html" accesskey="P">Назад</a></td><td width="80%" align="Center" valign="Bottom">Глава 7. Конфигурация загрузочных скриптов.</td><td width="10%" align="Right" valign="Bottom"><a href="../chapter08/chapter08.html" accesskey="N">Вперед</a></td></tr></tbody></table><hr align="Left" width="100%" /=""></div><div class="sect1"><h1 class="sect1"><a name="ch07-network">Настройка сетевых скриптов</a></h1><p>Эта часть нужна для настройки сетевой карты.
</p><p>Если у вас нет сетевой карты, вам не требуется создавать или настраивать
файлы, относящиеся к сетевой карте. В этом случае удалите симлинк
<tt class="filename">network</tt> из всех директорий 
(<tt class="filename">/etc/rc.d/rc*.d</tt>)</p><div class="sect2"><h2 class="sect2"><a name="AEN5929">Настройка шлюза по умолчанию.</a></h2><p>Если ваш компьютер является частью сети вам потребуется указать шлюз
используемыу по умолчанию для вашего компьютера. Это делается добaвлением следующих
значений в файл <b>/etc/sysconfig/network</b>. Запустите такую комманду:</p><p><table border="0" bgcolor="#e0e0e0" width="100%"><tbody><tr><td><pre class="screen"><tt class="userinput"><b>cat &gt;&gt; /etc/sysconfig/network &lt;&lt; "EOF"</b></tt>
GATEWAY=192.168.1.2
GATEWAY_IF=eth0
<tt class="userinput"><b>EOF</b></tt></pre></td></tr></tbody></table></p><p>Значения для GATEWAY и GATEWAY_IF надо изменить на установки вашей сети.
GATEWAY должени содержать IP адрес шлюза по умалчанию, и GATEWAY_IF указывать на
интерфейс сетевой карты через который испоьзовать доступ к шлюзу по умолчанию.
</p></div><div class="sect2"><h2 class="sect2"><a name="AEN5937">
Создание конфигурационных файлов для сетевой карты
</a></h2><p>
Какой сетевой интерфейс будет запускаться и останавливаться сетевыми скриптами
зависит от файлов расположенных в директории /etc/sysconfig/network-devices.
Эта директория должна содержать файлы в формате ifconfig.xyz, где xyz-
имя сетевого интерфейса (например eth0 или eth0:1).
</p><p>
Если вы решили переименовать или переместить директорию /etc/sysconfig/network-devices
, убедитесь, что вы поправили файлы в /etc/sysconfig/rc на предмет новых
путей к сетевым устройствам в скриптах.
</p><p>
Теперь, новые файлы созданные в директории /etc/sysconfig/network-devices
содержат следующее. Этой командой создадим пример файла ifconfig.eth0
Now, new files are created in that directory containing the following.
:
</p><p><table border="0" bgcolor="#e0e0e0" width="100%"><tbody><tr><td><pre class="screen"><tt class="userinput"><b>cat &gt; /etc/sysconfig/network-devices/ifconfig.eth0 &lt;&lt; "EOF"</b></tt>
ONBOOT=yes
IP=192.168.1.1
NETMASK=255.255.255.0
BROADCAST=192.168.1.255
<tt class="userinput"><b>EOF</b></tt></pre></td></tr></tbody></table></p><p>
Естественно, значения этих переменных должны быть изменены в каждом файле на 
правильные настройки. Евсли переменная ONBOOT установлена yes, то скрипт выполнится
 при загрузке системы. Если установлено что нить отличное от yes, то скрипт не
 выполнится.
</p></div></div><div class="NAVFOOTER"><hr align="Left" width="100%" /=""><table summary="Footer navigation table" width="100%" border="0" cellpadding="0" cellspacing="0"><tbody><tr><td width="33%" align="Left" valign="Top"><a href="hosts.html" accesskey="P">Назад</a></td><td width="34%" align="Center" valign="Top"><a href="../index.html" accesskey="H">Домой</a></td><td width="33%" align="Right" valign="Top"><a href="../chapter08/chapter08.html" accesskey="N">Вперед</a></td></tr><tr><td width="33%" align="Left" valign="Top">Создание файла /etc/hosts</td><td width="34%" align="Center" valign="Top"><a href="chapter07.html" accesskey="U">Наверх</a></td><td width="33%" align="Right" valign="Top">Делаем систему LFS загрузочной</td></tr></tbody></table></div></body></html>