<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head><title>Installing Sh-utils-2.0</title><meta name="GENERATOR" content="Microsoft FrontPage 4.0" /=""><link rel="HOME" title="Linux From Scratch" href="http://www.linuxfromscratch.org/view/4.0/index.html" /=""><link rel="UP" title="Installing basic system software" href="http://www.linuxfromscratch.org/view/4.0/chapter06/chapter06.html" /=""><link rel="PREVIOUS" title="Installing Fileutils-4.1" href="http://www.linuxfromscratch.org/view/4.0/chapter06/fileutils.html" /=""><link rel="NEXT" title="Installing Gettext-0.11.5" href="http://www.linuxfromscratch.org/view/4.0/chapter06/gettext.html" /=""></head><body class="sect1" bgcolor="#ffffff" text="#000000" link="#0000ff" vlink="#840084" alink="#006000"><div class="NAVHEADER"><table summary="Header navigation table" width="100%" border="0" cellpadding="0" cellspacing="0"><tbody><tr><th colspan="3" align="Center">Linux From Scratch: Версия 4.0</th></tr><tr><td width="10%" align="Left" valign="Bottom"><a href="fileutils.html" accesskey="P">Назад</a></td><td width="80%" align="Center" valign="Bottom">Глава 6. Установка основных компонентов
        системы</td><td width="10%" align="Right" valign="Bottom"><a href="gettext.html" accesskey="N">Вперед</a></td></tr></tbody></table><hr align="Left" width="100%" /=""></div><div class="sect1"><h1 class="sect1"><a name="ch06-shutils">Установка Sh-utils-2.0</a></h1><table border="0" bgcolor="#e0e0e0" width="100%"><tbody><tr><td><pre class="screen">Приблизительное время компиляции:           0.42 SBU<br>Необходимое дисковое пространство:  12 MB</pre></td></tr></tbody></table><div class="sect2"><h2 class="sect2"><a name="AEN3565">Инсталляция Sh-utils</a></h2><p>Перед установкой пакета примените hostname-патч.
    Удостоверьтесь, что патч и пакет
    распакованы перед инсталляцией.</p><p>Для инсталляции Sh-utils выполните:</p><table border="0" bgcolor="#e0e0e0" width="100%"><tbody><tr><td><pre class="screen"><tt class="userinput"><b>patch -Np1 -i ../sh-utils-2.0-hostname.patch &amp;&amp;<br>./configure --prefix=/usr &amp;&amp;<br>make &amp;&amp;<br>make install &amp;&amp;<br>mv /usr/bin/{basename,date,echo,false,pwd} /bin &amp;&amp;<br>mv /usr/bin/{sleep,stty,su,test,true,uname} /bin &amp;&amp;<br>mv /usr/bin/chroot /usr/sbin</b></tt></pre></td></tr></tbody></table></div><div class="sect2"><h2 class="sect2">Замечания по соответствию <a name="AEN2765">FHS</a></h2><p>В составе данного пакета присутствует
    команда test. Она часто используется
    скриптами оболочки для оценки условия, и
    чаще встречается в виде <b class="command">[ условие ]</b>. Квадратные скобки встроены в
    интерпретатор команд bash, однако по
    стандарту FHS должна присутствовать
    команда
<tt class="filename">[</tt>. Создадим ее:</p><table border="0" bgcolor="#e0e0e0" width="100%"><tbody><tr><td><pre class="screen"><tt class="userinput"><b>ln -s test /bin/[</b></tt></pre></td></tr></tbody></table></div><div class="sect2"><h2 class="sect2"><a name="AEN3580">Пояснения команд</a></h2><p><tt class="userinput"><b>patch -Np1 -i ../sh-utils-2.0-hostname.patch:</b></tt>  Этот патч запрещает компиляцию программы hostname,
    которая будет установлена позже, в рамках
    пакета net-tools. Программа hostname из пакета net-tools
    является предпочтительной (а в некоторых
    случаях обязательной, т.к. поддерживает
    опции требуемые некоторыми программами,
    например XFree86).</p></div><div class="sect2">
<div class="sect2"><h2 class="sect2"><a name="AEN8386">Содержимое Sh-utils</a></h2><p>Последняя проверка: версия 2.0.</p><div class="sect3"><h3 class="sect3"><a name="AEN8389">Программы</a></h3><p>basename, chroot, date, dirname, echo, env, expr, factor, false,
groups, hostid, id, logname, nice, nohup, pathchk, pinky, printenv,
printf, pwd, seq, sleep, stty, su, tee, test, true, tty, uname, uptime,
users, who, whoami и yes</p></div><div class="sect3"><h3 class="sect3"><a name="AEN8392">Описания</a></h3><div class="sect4"><h4 class="sect4"><a name="AEN8394">basename</a></h4><p>basename удаляет каталоги и суффиксы из имен файлов.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN8397">chroot</a></h4><p>chroot запускает команду или оболочку в указанном корневом каталоге.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN8400">date</a></h4><p>date выводит текущее время в указанном формате или устанавливает.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN8403">dirname</a></h4><p>dirname удаляет суффиксы, не относящиеся к каталогам, из имен файлов.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN8406">echo</a></h4><p>echo выводит строку текста.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN8409">env</a></h4><p>env запускает программу в измененном окружении.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN8412">expr</a></h4><p>expr вычисляет выражения.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN8415">factor</a></h4><p>factor выводит разложение на простые множители всех указанных целых
чисел.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN8418">false</a></h4><p>false всегда завершается с кодом "ошибка".</p></div><div class="sect4"><h4 class="sect4"><a name="AEN8421">groups</a></h4><p>groups выводит группу, к которой принадлежит пользователь.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN8424">hostid</a></h4><p>hostid выводит числовой идентификатор (шестандцатеричный) текущего
хоста.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN8427">id</a></h4><p>id выводит пользовательский и групповой ID текущего или заданного
пользователя.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN8430">logname</a></h4><p>logname выводит регистрационное имя текущего пользователя.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN8433">nice</a></h4><p>nice запускает программу с заданным приоритетом.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN8436">nohup</a></h4><p>nohup выполняет команду, защищенную от зависаний, с выводом в
журнальный файл.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN8439">pathchk</a></h4><p>pathchk проверяет наличие файла.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN8442">pinky</a></h4><p>pinky - простая утилита finger, показывающая информацию о конкретном
пользователе.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN8445">printenv</a></h4><p>printenv выводит значения переменных окружения.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN8448">printf</a></h4><p>printf выводит форматированные данные (аналогично функции printf в
C).</p></div><div class="sect4"><h4 class="sect4"><a name="AEN8451">pwd</a></h4><p>pwd выводит имя текужего каталога.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN8454">seq</a></h4><p>seq выводит числа в заданном диапазоне с заданным шагом.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN8457">sleep</a></h4><p>sleep делает задержку на указанное количество времени.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN8460">stty</a></h4><p>stty выводит и изменяет настройки терминала.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN8463">su</a></h4><p>su запускает командный интерпретатор с правами указанного
пользователя и группы.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN8466">tee</a></h4><p>tee считывает данные со стандартного ввода и записывает их на
стандартый вывод и в файлы.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN8469">test</a></h4><p>test проверяет типы файлов и сравнивает значения.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN8472">true</a></h4><p>true всегда завершается с кодом "успех".</p></div><div class="sect4"><h4 class="sect4"><a name="AEN8475">tty</a></h4><p>tty выводит файловое имя терминала, подключенного к стандартному
вводу.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN8478">uname</a></h4><p>uname выводит информацию о системе.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN8481">uptime</a></h4><p>uptime сообщает, как долго активна система.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN8484">users</a></h4><p>users выводит имена пользователей, зарегистрированных на локальном
хосте.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN8487">who</a></h4><p>who показывает зарегистрированных пользователей.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN8490">whoami</a></h4><p>whoami выводит имя пользователя, ассоциированное с текущим
пользовательским ID.</p></div><div class="sect4"><h4 class="sect4"><a name="AEN8493">yes</a></h4><p>yes выводит 'y' или заданную строку до принудительного завершения.</p></div></div></div>
<div class="sect2"><h2 class="sect2"><a name="AEN8496">Зависимости Sh-utils</a></h2><p>Последняя проверка: версия 2.0.</p><p class="literallayout">Autoconf: autoconf, autoheader<br>
Automake: aclocal, automake<br>
Bash: sh<br>
Binutils: ar, as, ld, ranlib<br>
Diffutils: cmp<br>
Fileutils: chmod, chown, install, ls, mv, rm<br>
Gettext: msgfmt, xgettext<br>
Gcc: cc, cc1, collect2, cpp0, gcc<br>
Glibc: getconf<br>
Grep: egrep, fgrep, grep<br>
M4: m4<br>
Make: make<br>
Gawk: gawk<br>
Perl: perl<br>
Sed: sed<br>
Sh-utils: basename, echo, expr, hostname, sleep, uname<br>
Tar: tar<br>
Texinfo: install-info, makeinfo<br>
Textutils: cat, tr</p></div>
<h2 class="sect2"></h2></div></div><div class="NAVFOOTER"><hr align="Left" width="100%" /=""><table summary="Footer navigation table" width="100%" border="0" cellpadding="0" cellspacing="0"><tbody><tr><td width="33%" align="Left" valign="Top"><a href="fileutils.html" accesskey="P">Назад</a></td><td width="34%" align="Center" valign="Top"><a href="../index.html" accesskey="H">Домой</a></td><td width="33%" align="Right" valign="Top"><a href="gettext.html" accesskey="N">Вперед</a></td></tr><tr><td width="33%" align="Left" valign="Top">Установка Fileutils-4.1</td><td width="34%" align="Center" valign="Top"><a href="chapter06.html" accesskey="U">Наверх</a></td><td width="33%" align="Right" valign="Top">Установка Gettext-0.11.5</td></tr></tbody></table></div></body></html>