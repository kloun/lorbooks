 <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html LANG=ru>
<meta name="GENERATOR" content="TtH 2.89">
<table width="100%"  CELLSPACING="1" CELLPADDING="1" >
<tr>
<td align="left"><a href="use_2.html">Предыдущий</a></td>
<td align="center"><a href="index.html">Содержание</a></td>
<td align="right"><a href="use_4.html">Следующий</a></td>
</table>
<hr />

<p>
 <h2><a name="tth_sEc5.3">
5.3</a>&nbsp;&nbsp;Управление файлами и каталогами</h2> <a name="file">
</a>

<p>
Slackware Linux организованна таким образом, чтобы быть настолько Unix подобной, насколько это возможно. Традиционно ОС Unix ориентирована на интерфейс командной строки. В Slackware есть так же и графический интерфейс, но командная строка остаётся основным способом управления системой. Поэтому очень важно понимать основные команды управления файлами.

<p>
Этот раздел объясняет основные команды для управления файлами и примеры их использования. Помимо команд описанных здесь существует множество других, но для начала вам хватит и этих. Команды лишь коротко описаны здесь. Для получения дополнительной информации обращайтесь к соответствующим man страницам.

<p>
     <h3><a name="tth_sEc5.3.1">
5.3.1</a>&nbsp;&nbsp;<b>ls</b></h3>

<p>
Эта команда выводит список файлов в каталоге. Пользователи Windows и
DOS найдут её аналогичной команде <b>dir</b>. При простом выполнении <b>ls</b>(1)
выведет список файлов в текущем каталоге. Для того, чтобы просмотреть содержимое
корневого каталога, вам необходимо выполнить следующие команды:

<p>

<table>
<tr><td><tt>$ </tt><b>cd /</b></td></tr>
<tr><td><tt>$ </tt><b>ls</b></td></tr></table>


<p>

<table>
<tr><td>bin    </td><td>cdrom </td><td>home          </td><td>mnt   </td><td>sbin  </td><td>usr</td></tr>
<tr><td>boot   </td><td>dev   </td><td>lib           </td><td>proc  </td><td>suncd </td><td>var</td></tr>
<tr><td>cdr    </td><td>etc   </td><td>lost+found    </td><td>root  </td><td>tmp   </td><td>vmlinuz
</td></tr></table>


<p>
В таком выводе неудобно то, что вы не можете определить, где файлы, а где
каталоги. Многие пользователи предпочитают, чтобы <b>ls</b> выводила так же
идентификатор типа, что-то вроде этого:

<p>

<table>
<tr><td><tt>$ </tt><b>ls -FC</b></td></tr></table>


<p>

<table>
<tr><td>bin/ 	</td><td>cdrom/ </td><td>home/ 		</td><td>mnt/ 	</td><td>sbin/ 	</td><td>usr/</td></tr>
<tr><td>boot/ 	</td><td>dev/ 	</td><td>lib/ 		</td><td>proc/  </td><td>suncd/ </td><td>var/</td></tr>
<tr><td>cdr/ 	</td><td>etc/ 	</td><td>lost+found/ 	</td><td>root/	</td><td>tmp/	</td><td>vmlinuz
</td></tr></table>


<p>
Эта команда добавляет слэш после имён каталогов, звезду после имён выполняемых
файлов, и т.д.

<p>
<b>ls</b> так же может быть использована для получения более подробной информации
о файлах. Например, чтобы увидеть, даты создания, имена владельцев, права
доступа, вы воспользуетесь подробным списком:

<p>

<table>
<tr><td><tt>$ </tt><b>ls -l</b></td></tr></table>


<p>

<table>
<tr><td>drwxr-xr-x </td><td align="right">2 </td><td>root </td><td>bin </td><td align="right">4096 </td><td>May </td><td align="right">7 </td><td align="right">1994 </td><td>bin/</td></tr>
<tr><td>drwxr-xr-x </td><td align="right">2 </td><td>root </td><td>root </td><td align="right">4096 </td><td>Feb </td><td align="right">24 </td><td align="right">03:55 </td><td>boot/</td></tr>
<tr><td>drwxr-xr-x </td><td align="right">2 </td><td>root </td><td>root </td><td align="right">4096 </td><td>Feb </td><td align="right">18 </td><td align="right">01:10 </td><td>cdr/</td></tr>
<tr><td>drwxr-xr-x </td><td align="right">14 </td><td>root </td><td>root </td><td align="right">6144 </td><td>Oct </td><td align="right">23 </td><td align="right">18:37 </td><td>cdrom/</td></tr>
<tr><td>drwxr-xr-x </td><td align="right">4 </td><td>root </td><td>root </td><td align="right">28672 </td><td>Mar </td><td align="right">5 </td><td align="right">18:01 </td><td>dev/</td></tr>
<tr><td>drwxr-xr-x </td><td align="right">10 </td><td>root </td><td>root </td><td align="right">4096 </td><td>Mar </td><td align="right">8 </td><td align="right">03:32 </td><td>etc/</td></tr>
<tr><td>drwxr-xr-x </td><td align="right">8 </td><td>root </td><td>root </td><td align="right">4096 </td><td>Mar </td><td align="right">8 </td><td align="right">03:31 </td><td>home/</td></tr>
<tr><td>drwxr-xr-x </td><td align="right">3 </td><td>root </td><td>root </td><td align="right">4096 </td><td>Jan </td><td align="right">23 </td><td align="right">21:29 </td><td>lib/</td></tr>
<tr><td>drwxr-xr-x </td><td align="right">2 </td><td>root </td><td>root </td><td align="right">16384 </td><td>Nov </td><td align="right">1 </td><td align="right">08:53 </td><td>lost+found/</td></tr>
<tr><td>drwxr-xr-x </td><td align="right">2 </td><td>root </td><td>root </td><td align="right">4096 </td><td>Oct </td><td align="right">6 </td><td align="right">1997 </td><td>mnt/</td></tr>
<tr><td>dr-xr-xr-x </td><td align="right">62 </td><td>root </td><td>root </td><td align="right">0 </td><td>Mar </td><td align="right">4 </td><td align="right">15:32 </td><td>proc/</td></tr>
<tr><td>drwxr-x-x </td><td align="right">12 </td><td>root </td><td>root </td><td align="right">4096 </td><td>Feb </td><td align="right">26 </td><td align="right">02:06 </td><td>root/</td></tr>
<tr><td>drwxr-xr-x </td><td align="right">2 </td><td>root </td><td>bin </td><td align="right">4096 </td><td>Feb </td><td align="right">17 </td><td align="right">02:02 </td><td>sbin/</td></tr>
<tr><td>drwxr-xr-x </td><td align="right">5 </td><td>root </td><td>root </td><td align="right">2048 </td><td>Oct </td><td align="right">25 </td><td align="right">10:51 </td><td>suncd/</td></tr>
<tr><td>drwxrwxrwt </td><td align="right">4 </td><td>root </td><td>root </td><td align="right">487424 </td><td>Mar </td><td align="right">7 </td><td align="right">20:42 </td><td>tmp/</td></tr>
<tr><td>drwxr-xr-x </td><td align="right">21 </td><td>root </td><td>root </td><td align="right">4096 </td><td>Aug </td><td align="right">24 </td><td align="right">1999 </td><td>usr/</td></tr>
<tr><td>drwxr-xr-x </td><td align="right">18 </td><td>root </td><td>root </td><td align="right">4096 </td><td>Mar </td><td align="right">8 </td><td align="right">03:32 </td><td>var/</td></tr>
<tr><td>-rw-r-r- </td><td align="right">1 </td><td>root </td><td>root </td><td align="right">461907 </td><td>Feb </td><td align="right">22 </td><td align="right">20:04 </td><td>vmlinuz
</td></tr></table>


<p>
Предположим, вы хотите увидеть список скрытых фалов в текущем каталоге. Для
этого воспользуйтесь такой командой:

<p>

<table>
<tr><td><tt>$ </tt><b>ls -a</b></td></tr></table>


<p>

<table>
<tr><td>.  		</td><td>bin </td><td>cdrom </td><td>home 		</td><td>mnt 	</td><td>sbin	</td><td>usr</td></tr>
<tr><td>.. 		</td><td>boot </td><td>dev 	</td><td>lib 		</td><td>proc	</td><td>suncd </td><td>var</td></tr>
<tr><td>.pwrchute_tmp </td><td>cdr </td><td>etc 	</td><td>lost+found	</td><td>root 	</td><td>tmp 	</td><td>vmlinuz
</td></tr></table>


<p>
Файлы, имя которых начинается с точки (так называемые ''dot файлы'') не показываются при простом выполнении <b>ls</b>, поэтому называются ''скрытыми''.  Вы увидите их только, если добавите опцию <b>-a</b>.

<p>
Существует ещё множество других опций, описание которых вы можете найти в man странице. И не забудьте, что вы можете комбинировать их.

<p>
     <h3><a name="tth_sEc5.3.2">
5.3.2</a>&nbsp;&nbsp;<b>cd</b></h3>

<p>
Команда <b>cd</b> используется для смены рабочего каталога. Просто наберите <b>cd</b> и затем имя каталога, в который вы хотите перейти. Вот несколько примеров:

<p>

<table>
<tr><td><tt>darkstar:&nbsp;$ </tt><b>cd /bin</b></td></tr>
<tr><td><tt>darkstar:/bin$ </tt><b>cd usr</b></td></tr>
<tr><td>bash: cd: usr: No such file or directory</td></tr>
<tr><td><tt>darkstar:/bin$ </tt><b>cd /usr</b></td></tr>
<tr><td><tt>darkstar:/usr$ </tt></td></tr></table>


<p>
Обратите внимание, что если вы не указываете слэш в начале пути, команда пытается переместится в под-каталог текущего каталога.

<p>
Команда <b>cd</b> отличается от остальных тем, что она встроена в оболочку.  Команды, встроенные в оболочку обсуждаются в разделе&nbsp;<a href="use_1.html#shell">5.1</a>. Возможно, это ничего для вас не значит сейчас. В общем, это означает, что для этой команды нет man страницы. Вместо этого вам надо обратиться к <b>help</b> вашей оболочки. Например:

<p>

<table>
<tr><td><tt>$ </tt><b>help cd</b>
</td></tr></table>


<p>
Эта команда выдаст вам опции команды <b>cd</b>.

<p>
     <h3><a name="tth_sEc5.3.3">
5.3.3</a>&nbsp;&nbsp;<b>more</b></h3>

<p>
<b>more</b>(1) это то, что мы называем утилитой для разбиения на страницы. Часто вывод определённой команды больше, чем размер экрана. Отдельные команды не знают, как разбить свой вывод на несколько экранов. Они предоставляют это утилите разбиения на страницы.

<p>
Команда <b>more</b> разбивает вывод на отдельные экраны и ждёт, пока вы нажмёте пробел до того, как выводить следующий экран. Нажатие ввода сместит экран на одну строчку вниз. Вот хороший пример:

<p>

<table>
<tr><td><tt>$ </tt><b>cd /usr/bin</b></td></tr>
<tr><td><tt>$ </tt><b>ls -l</b></td></tr></table>


<p>
Вывод будет гораздо больше экрана. Чтобы разбить вывод на экраны, просто пропустите (pipe) команду через <b>more</b>:

<p>

<table>
<tr><td><tt>$ </tt><b>ls -l | more</b>
</td></tr></table>


<p>
Это pipe символ (<b>Shift и бэкслэш</b>). В двух словах, pipe означает ''возьми вывод команды <b>ls</b> и пропусти его через <b>more</b>''. Вы можете пропускать практически всё через <b>more</b>, не только <b>ls</b>. pipe описана в разделе&nbsp;<a href="use_1.html#pipe">5.1.2</a>.

<p>
     <h3><a name="tth_sEc5.3.4">
5.3.4</a>&nbsp;&nbsp;<b>less</b></h3>

<p>
Команда <b>more</b> очень удобна, но зачастую вы встретитесь с ситуацией, когда вы пропустили тот экран, который вам необходим. <b>more</b> не позволяет вернуться. Команда <b>less</b>(1) позволяет вам сделать это. Она используется так же, как и <b>more</b> команда, так что примеры, приведённые выше справедливы и для неё. В общем, less больше, чем more.

<p>
     <h3><a name="tth_sEc5.3.5">
5.3.5</a>&nbsp;&nbsp;<b>cat</b></h3>

<p>
<b>cat</b>(1) это сокращение от ''concatenate'' (сцеплять, связывать). Изначально была разработана для объединения нескольких текстовых файлов в один, но может быть использована и для других целей.

<p>
Чтобы объединить два или несколько файлов в один, просто перечислите файлы после <b>cat</b> команды и пере направьте вывод в новый файл. <b>cat</b> работает со стандартным вводом и выводом, поэтому вам надо воспользоваться символами оболочки для пере направления. Например:

<p>

<table>
<tr><td><tt>$ </tt><b>cat file1 file2 file3  &gt;  bigfile</b>
</td></tr></table>


<p>
Эта команда возьмёт содержимое фалов <tt>file1</tt>, <tt>file2</tt> и <tt>file3</tt> и объединит их в файл <tt>bigfile</tt>.

<p>
Вы можете также использовать <b>cat</b> для просмотра содержимого фалов. Многие
пользователи для просмотра текстовых фалов выполняют <b>cat</b>, имя фала, и
затем пропускают вывод через <b>more</b> или <b>less</b>:

<p>

<table>
<tr><td><tt>$ </tt><b>cat file1 | more</b>
</td></tr></table>


<p>
Так же <b>cat</b> часто используется для копирования фалов. Вы можете скопировать
любой файл, выполнив:

<p>

<table>
<tr><td><tt>$ </tt><b>cat /bin/bash &#62; &#126;/mybash</b>
</td></tr></table>


<p>
Файл <tt>/bin/bash</tt> будет скопирован в ваш домашний каталог, под именем
<tt>mybash</tt>.

<p>
Обсуждённые здесь примеры, это лишь несколько из возможных вариантов применения <b>cat</b>. Так как <b>cat</b> предоставляет расширенный контроль за стандартным вводом и выводом, она идеальна для применения в shell скриптах, и для использования в качестве части более сложных команд.

<p>
     <h3><a name="tth_sEc5.3.6">
5.3.6</a>&nbsp;&nbsp;<b>touch</b></h3>

<p>
<b>touch</b>(1) используется для изменения временных атрибутов файла. С помощью этой команды вы можете изменить отметку времени доступа и отметку времени изменения файла. Если указанный файл не существует, то <b>touch</b> создаст пустой файл с указанным именем. Чтобы пометить файл текущим системным временем, выполните такую команду:

<p>

<table>
<tr><td><tt>$ </tt><b>touch file1</b>
</td></tr></table>


<p>
Эта команда имеет несколько опций, включая опции для уточнения, какую временную метку изменить, какое время использовать, и ещё много других. man станица содержит описание всех этих опций.

<p>
     <h3><a name="tth_sEc5.3.7">
5.3.7</a>&nbsp;&nbsp;<b>echo</b></h3>

<p>
Команда <b>echo</b>(1) выводит указанный текст на экран. Строку, которую вы хотите вывести, следует указать после <b>echo</b> команды. По умолчанию <b>echo</b> выведет текст и символ перевода строки после него. Вы можете указать опцию <b>-n</b>, чтобы строка не переводилась. Опция <b>-e</b> укажет команде искать эскейп символы в строке и выполнить их.

<p>
     <h3><a name="tth_sEc5.3.8">
5.3.8</a>&nbsp;&nbsp;<b>mkdir</b></h3>

<p>
<b>mkdir</b>(1) создаёт новый каталог. Просто укажите имя каталога, который вы хотите создать после имени команды. Вот пример создания под-каталога <tt>hejaz</tt> в текущем каталоге:

<p>

<table>
<tr><td><tt>$ </tt><b>mkdir hejaz</b>
</td></tr></table>


<p>
Так же вы можете указать путь:

<p>

<table>
<tr><td><tt>$ </tt><b>mkdir /usr/local/hejaz</b>
</td></tr></table>


<p>
Опция <b>-p</b> укажет <b>mkdir</b> создавать ''вложенные'' каталоги. Так, если в выше приведённом примере каталог <tt>/usr/local</tt> не существует, то программа выдаст сообщение об ошибке. Указание параметра <b>-p</b> заставить программу создать <tt>/usr/local</tt> и <tt>hejaz</tt> каталоги:

<p>

<table>
<tr><td><tt>$ </tt><b>mkdir -p /usr/local/hejaz</b>
</td></tr></table>


<p>
     <h3><a name="tth_sEc5.3.9">
5.3.9</a>&nbsp;&nbsp;<b>ln</b></h3>

<p>
<b>ln</b>(1) используется для создания ссылок на файлы. Это могут быть как
жёсткие&nbsp;- hard, так и гибкие или символические&nbsp;-soft, symbolic ссылки.
Разница между двумя типами ссылок обсуждалась в разделе<a href="use_2.html#links">5.2.3</a>. Если вы хотите создать символическую ссылку на каталог
<tt>/var/media/mp3</tt> и расположить ссылку в вашем домашнем каталоге, вам
необходимо выполнить такую команду:

<p>

<table>
<tr><td><tt>$ </tt><b>ln -s /var/media/mp3 &#126;/mp3</b>
</td></tr></table>


<p>
Опция <b>-s</b> указывает команде <b>ln</b>, что ссылка должна быть символическая.  Затем задаётся цель ссылки, и в конце указывается как она будет называться. В приведённом случае будет создан файл <tt>mp3</tt>, указывающий на <tt>/var/media/mp3</tt>. Вы можете назвать ссылку как вам заблагорассудиться, просто изменив последний из параметров команды <b>ln</b>.

<p>
Создание жёстких ссылок производится аналогично. Только опускается опция <b>-s</b>. Для примера, создадим жёсткую ссылку на тот же каталог, что и в примере выше:

<p>

<table>
<tr><td><tt>$ </tt><b>ln /var/media/mp3 &#126;/mp3</b>
</td></tr></table>


<p>
     <h3><a name="tth_sEc5.3.10">
5.3.10</a>&nbsp;&nbsp;<b>cp</b></h3>

<p>
<b>cp</b>(1) применяется для копирования файлов. Пользователи DOS найдут её похожей на команду <b>copy</b>. Эта команда имеет очень много опций. Загляните в man страницу, если вам интересно.

<p>
Обычный вариант использования команды это копирование файла из одного места в другое. Например:

<p>

<table>
<tr><td><tt>$ </tt><b>cp hejaz /tmp</b>
</td></tr></table>


<p>
Эта команда создать копию файла <tt>hejaz</tt> из текущего каталога в <tt>/tmp</tt> каталог.

<p>
Многие пользователи предпочитают сохранять временные отметки файлов при копировании. Вот вам пример:

<p>

<table>
<tr><td><tt>$ </tt><b>cp -a hejaz /tmp</b>
</td></tr></table>


<p>
Это сохранит все временные отметки оригинального файла для копии.

<p>
Для того, чтобы рекурсивно скопировать содержимое каталога в другой каталог, вы
воспользуетесь такой командой:

<p>

<table>
<tr><td><tt>$ </tt><b>cp -R adirectory /tmp</b>
</td></tr></table>


<p>
Это скопирует <tt>adirectory</tt> в каталог <tt>/tmp</tt>.

<p>
<b>cp</b> имеет гораздо больше опций, которые детально описаны в man странице.

<p>
     <h3><a name="tth_sEc5.3.11">
5.3.11</a>&nbsp;&nbsp;<b>mv</b></h3>

<p>
<b>mv</b>(1) перемещает файлы из одного места в другое. Пользователи DOS
найдут её похожей на <b>move</b> команду. При использовании команды надо
указывать источник и назначение. Вот пример обычного использования <b>mv</b>:

<p>

<table>
<tr><td><tt># </tt><b>mv myfile /usr/local/share/hejaz</b>
</td></tr></table>


<p>
<b>mv</b> имеет несколько опций, которые так же обсуждаются в man странице.

<p>
     <h3><a name="tth_sEc5.3.12">
5.3.12</a>&nbsp;&nbsp;<b>rm</b></h3>

<p>
<b>rm</b>(1) удаляет файлы и деревья каталогов. Аналогия для пользователей DOS&nbsp;- <b>del</b> и <b>deltree</b>. Использование <b>rm</b> может быть очень опасным, если вы не отдаёте себе отчёта в том, что вы делаете. В отличие от DOS и Windows в Linux удалённые файлы восстановлению не подлежат.

<p>
Чтобы удалить отдельный файл, укажите его имя после имени команды:

<p>

<table>
<tr><td><tt>$ </tt><b>rm file1</b>
</td></tr></table>


<p>
Если у вас нет прав записи для этого файла, то вы получите сообщение об ошибке доступа. Чтобы удалить файл, несмотря ни на что, воспользуйтесь <b>-f</b> опцией:

<p>

<table>
<tr><td><tt>$ </tt><b>rm -f file1</b>
</td></tr></table>


<p>
Чтобы целиком удалить каталог, воспользуйтесь обеими <b>-r</b> и <b>-f</b> опциями. Вот вам хороший пример того, как удалить всё содержание вашего диска.  Надеемся, вы не захотите выполнить такую команду. В любом случае, вот пример команды:

<p>

<table>
<tr><td><tt># </tt><b>rm -rf /</b>
</td></tr></table>


<p>
Будьте очень осторожны при использовании <b>rm</b>; вы можете подстрелить себя в ногу. За получением дополнительных опций, обращайтесь к man страничке.

<p>
     <h3><a name="tth_sEc5.3.13">
5.3.13</a>&nbsp;&nbsp;<b>rmdir</b></h3>

<p>
<b>rmdir</b>(1) удаляет каталоги из файловой системы. Каталог должен быть пустым, иначе команда не сможет удалить его. Синтаксис прост:

<p>

<table>
<tr><td><tt>$ </tt><b>rmdir &lt;directory&#62;</b>
</td></tr></table>


<p>
Этот пример удалит <tt>hejaz</tt> под-каталог в текущем рабочем каталоге:

<p>

<table>
<tr><td><tt>$ </tt><b>rmdir hejaz</b>
</td></tr></table>


<p>
Если этот каталог не существует, <b>rmdir</b> скажет вам об этом. Вы так же
можете указать полный путь к каталогу, который хотите удалить:

<p>

<table>
<tr><td><tt>$ </tt><b>rmdir /tmp/hejaz</b>
 </td></tr></table>


<p>
Этот пример попробует удалить <tt>hejaz</tt> каталог, являющийся под-каталогом
<tt>/tmp</tt> каталога.

<p>
Вы так же можете удалить каталог, и все его родительские каталоги, указав <b>
-p</b> опцию.

<p>

<table>
<tr><td><tt>$ </tt><b>rmdir -p /tmp/hejaz</b>
</td></tr></table>


<p>
Эта команда вначале попытается удалить каталог <tt>hejaz</tt>, внутри <tt>/tmp</tt>.
Если это удастся, команда попытается удалить <tt>/tmp</tt> каталог. <b>rmdir</b>
продолжит удаление указанных каталогов, пока не столкнуться с ошибкой, или не
удалит все указанные каталоги.

<p>
     <h3><a name="tth_sEc5.3.14">
5.3.14</a>&nbsp;&nbsp;Итог</h3>

<p>
В этом разделе описано множество программ для манипулирования фалами и
каталогами. Вы должны были научиться создавать, удалять, и перемещать файлы и
каталоги. Вы так же должны были научиться, отображать содержимое каталогов и
файлов и изменять их временные метки. Ну и наконец, вы должны
понимать, почему <b>rm -rf /</b> это очень и очень плохая идея.

<hr />
<table width="100%"  CELLSPACING="1" CELLPADDING="1" >
<tr>
<td align="left"><a href="use_2.html">Предыдущий</a></td>
<td align="center"><a href="index.html">Содержание</a></td>
<td align="right"><a href="use_4.html">Следующий</a></td>
</table>
<hr /><small>File translated from
T<sub><font size="-1">E</font></sub>X
by <a href="http://hutchinson.belmont.ma.us/tth/">
T<sub><font size="-1">T</font></sub>H</a>,
version 2.89.<br />On 24 Apr 2001, 16:43.</small>
</html>