<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<TITLE>Руководство по kppp : PAP и CHAP</TITLE>
<META HTTP-EQUIV="content-type" CONTENT="text/html; charset=koi8-r">
<META NAME="keywords" CONTENT="kppp russian Russian translation KDE Mozzherin Dmitry перевод русский Мозжерин Дмитрий документация documentation">
<META NAME="description" CONTENT="Russian translation of KDE kppp documentation, translator Dmitry Mozzherin">
</HEAD>
<BODY BGCOLOR="#ffffff" LINK="#aa0000" TEXT="#000000" > 
<?php include("/home/maxcom/linux_html/books/head.php3") ?>
<FONT FACE="Helvetica">
<A HREF="http://www.kde.org/"><IMG SRC="http://books.gnu.technology/books/kde/network/kppp/logotp3.gif" BORDER="0" ALT="The K Desktop Environment"></A>
<HR WIDTH="100%" SIZE=2 ALIGN="CENTER" NOSHADE>

 
<P ALIGN="RIGHT">

<A HREF="index-7.html"> Вперед </A>
<A HREF="index-5.html"> Назад </A>
<A HREF="index.html#toc6"> Содержание </A>
</P>
<H3><A NAME="s6">6. PAP и CHAP</A></H3>

<P>
<P>Начиная с версии 0.9.1, <EM>kppp</EM> поддерживает напрямую наиболее распространенную
форму авторизации в PAP. Раздел 'PAP и CHAP c <EM>kppp</EM>' опишет в целом, как
заставить PAP и CHAP работать с <EM>kppp</EM>, в то время как раздел 
'PAP c <EM>kppp</EM>' опишет более детально как использовать преимущество от 
встроенной в <EM>kppp</EM> поддержки наиболее распространенной версии PAP, которая
широко используется коммерческими провайдерами.
<P>
<H3><A NAME="ss6.1">6.1 PAP с <EM>kppp</EM></A>
</H3>

<P>
<P>Существует два различных пути использования PAP:
<P>
<H4>Авторизация со стороны клиента</H4>

<P> 
Этот вариант используется многими коммерческими провайдерами. В общих чертах, он
означает, что вы (или ваш компьютер) должен зарегистрироваться на PPP сервере
провайдера услуг Интернета. PPP сервер не должен при этом регистрироваться на
вашем компьютере, но, обычно, это и не нужно, так как вы знаете к какому
компьютеру вы подсоединяетесь (так как вы сами устанавливаете соединение). Так
что это не является большим риском. <EM>kppp</EM> напрямую поддерживает этот
вариант. Ниже приведены инструкции по этому методу.
<P>
<P>Если ваш провайдер просто дает вам имя пользователя и пароль и говорит вам использовать
авторизацию PAP -- вы должны использовать этот вариант.
<P>
<H4>Двухсторонняя авторизация</H4>

<P> 
Тоже самое, что описанное выше, но ваш компьютер требует авторизации со стороны
PPP сервера вашего провайдера. Для того, чтобы установить соединение, вы должны выбрать
метод авторизации <I>основанный на сценарии</I> а не на 
<I>PAP</I>,  и вы должны вручную отредактировать файл 
<CODE>/etc/ppp/pap-secrets</CODE>. Хоть <EM>kppp</EM> и не имеет встроенной поддержки
для этого варианта, тем не менее, установить соединение используя этот вариант
PAP и <EM>kppp</EM> -- достаточно просто. Детали описаны  в предыдущем разделе
'Использование PAP и CHAP с <EM>kppp</EM>'.
<P>
<P>
<H4>Подготовка <EM>kppp</EM> для PAP</H4>

<P>
<OL>
<LI> Убедитесь, что <CODE>/etc/ppp/options</CODE> (и <CODE>~/.ppprc</CODE>, если
у вас есть такой файл) <B>не</B> содержат таких аргументов:
<UL>
<LI>+pap</LI>
<LI>-pap</LI>
<LI>papcrypt</LI>
<LI>+chap</LI>
<LI>+ua</LI>
<LI>remotename</LI>
</UL>
<P>То, что один из этих аргументов уже там находится -- очень маловероятно, но,
проверьте, тем неменее, чтобы быть уверенным.
<P>
</LI>
<LI>Запустите <EM>kppp</EM></LI>
<LI>Щелкните на <I>Настройка</I></LI>
<LI>Выберите аккаунт, для которого вы хотите использовать PAP и щелкните на
<I>Изменить...</I></LI>
<LI>Щелкните на раздел <I>Дозвон</I>.</LI>
<LI>Выберите <I>PAP</I> из списка <I>Авторизация</I></LI>
<LI>Если вы не хотите набирать пароль при каждом соединении, отметьте 
<I>Сохранить пароль</I>. Ваш пароль будет сохранен. Убедитесь, что никто
кроме вас не имеет доступа к вашему аккаунту, иначе кто-то другой будет иметь
доступ к вашему паролю.</LI>
<LI>Вот и все. Закройте диалоги, впишите имя пользователя и пароль, которые вы
получили от вашего провайдера и звоните.</LI>
</OL>
<P>
<P>
<H3><A NAME="PAP"></A> <A NAME="ss6.2">6.2 PAP и CHAP с <EM>kppp</EM></A>
</H3>

<P>Следующий вариант основан на электронном письме от 
<A HREF="http://www.linux.org.ru/books/kde/network/kppp/kbrown@pdq.net">Keith Brown</A> и
объясняет, как заставить <EM>kppp</EM> работать с обычными PAP или CHAP аккаунтами.
Если ваш провайдер просто дал вам user id и пароль для вашего PAP аккаунта -- скорее
всего, вы можете пропустить этот раздел и руководствоваться 
'PAP с <EM>kppp</EM>'.
<P>
<P>PAP с первого взгляда выглядит более сложным, чем он есть на самом деле.
Сервер (машина к которой вы подсоединяетесь),  говорит клиенту (вашей
машине) получить авторизацию используя PAP. Клиент (pppd) ищет в определенном
файле запись, которая содержит совпадающее имя сервера и имя для соединения и,
затем, посылает пароль, который нашел в файле. Вот, в общем, и все! Теперь, как
сделать так, чтобы все это произошло. Я подразумеваю наличие pppd версии 2.2.0 и
стандартную  установку файлов настройки в <CODE>/etc/ppp</CODE>.
<P>
<P>Предположим, что у меня есть аккаунт в Интернет в 'glob.net', с именем
пользователя 'booger', и паролем 'foobar'.
Сначала я должен добавить все это в файл <CODE>/etc/ppp/pap-secrets </CODE>. 
Вот правильный формат для этой записи
<P>
<P>
<BLOCKQUOTE><CODE>
<PRE>
USERNAME  SERVERNAME   PASSWORD
(ИМЯ_ПОЛЬЗОВАТЕЛЯ ИМЯ_СЕРВЕРА ПАРОЛЬ)
</PRE>
</CODE></BLOCKQUOTE>
<P>
<P>так что я добавляю следующую строку:
<P>
<BLOCKQUOTE><CODE>
<PRE>
booger  glob  foobar
</PRE>
</CODE></BLOCKQUOTE>
<P>
<P>в файл и сохраняю его. Примечание: я могу использовать любое имя для сервера
если только я использую то же самое имя в аргументах для pppd, как мы вскоре
увидим. Я сократил его до 'glob'. Это имя используется тольк для того, чтобы 
найти правильный пароль.
<P>
<P>Теперь я должен настроить мое соединение в <EM>kppp</EM>. В целом, это делается
так же, как и для любого другого соединения и я не буду здесь углубляться в
детали, за исключением того, что вам лучше убедиться, что файл 
<CODE>/etc/ppp/options</CODE> -- пуст, и, вы также вряд ли захотите иметь 
регистрационный сценарий. Теперь: в нижней части диалога настройки есть кнопка
аргументов pppd. Она показывает диалог, аналогичный тому, который использовался
для создания сценария регистрации. Здесь мы вводим значения, которые будут
посланы как аргументы командной строки в pppd и, в случае аргументов с
несколькими значениями, мы должны ввести каждое значение как отдельную запись в
список соблюдая правильный порядок. 
<P>
<P>Мы здесь можем ввести любые другие аргументы, которые мы хотим иметь первыми.
Теперь мы должны добавить аргументы, которые pppd требует для того, чтобы
справиться с авторизацией PAP. В этом примере я собираюсь добавить 
'user', 'booger', 'remotename', 'glob',
именно в этом порядке. Аргумент user говорит pppd имя пользователя, которое нужно найти
в файле pap-secrets, и послать на сервер.  Remotename используется 
pppd только для проверки соответствия его и записи в файле the pap-secrets, оно не
посылается на сервер, так что, повторяю снова, оно может быть любым, лишь бы
только оно соответствовало записи в файле pap-secrets.
<P>
<P>Это все. Теперь вы должны быть способны настроить ваше собственное соединение с
сервером с использованием авторизации PAP. Настройка CHAP не должен сильно 
отличаться от вышеизложенной. Обратитесь к Руководству Администраторов Сети под
Linux, для того, чтобы ознакомиться с форматом файла 
chap-secrets и используемых для него аргументов pppd. Остальное должно быть
просто, но для вашего конкретного случая... ну, вы знаете, что я имею в виду
<P>
<P ALIGN="RIGHT">

<A HREF="index-7.html"> Вперед </A>
<A HREF="index-5.html"> Назад </A>
<A HREF="index.html#toc6"> Содержание </A>
</P>
<CENTER>
<HR WIDTH="100%" SIZE=3 ALIGN=CENTER NOSHADE>
</CENTER>    
</FONT>

 
</BODY>
</HTML>
