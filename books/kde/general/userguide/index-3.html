<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<TITLE>K Desktop Environment : Установка </TITLE>
<META HTTP-EQUIV="content-type" CONTENT="text/html; charset=koi8-r">
<META NAME="keywords" CONTENT="KDE, User Guide, Dmitry Mozzherin, manual, userguide, Russian, russian, translation, documentation, handbook, перевод, Дмитрий Мозжерин, русский, руководство, пользователь, документация, документации">
<META NAME="description" CONTENT="Russian translation of KDE User Guide. Translator - Dmitry Mozzherin">
</HEAD>
<BODY BGCOLOR="#ffffff" LINK="#aa0000" TEXT="#000000" > 
<?php include("/home/maxcom/linux_html/books/head.php3") ?>
<FONT FACE="Helvetica">
<A HREF="http://www.kde.org/"><IMG SRC="http://books.gnu.technology/books/kde/general/userguide/logotp3.gif" BORDER="0" ALT="The K Desktop Environment"></A>
<HR WIDTH="100%" SIZE=2 ALIGN="CENTER" NOSHADE>

 
<P ALIGN="RIGHT">

<A HREF="index-4.html"> Вперед </A>
<A HREF="index-2.html"> Назад </A>
<A HREF="index.html#toc3"> Содержание </A>
</P>
<H3><A NAME="s3">3. Установка </A></H3>

<P> 
<EM>"Core dumping fsck's ужасно раздражает."</EM><BR> 
(Линус Торвальдс после обнаружения, что одна из его файловых систем уничтожена
новой Бета-версией ядра.)
<P> 
Не волнуйтесь! Использование программного обеспечения в стадии
Бета-тестирования может иногда вызвать значительное расстройство нервной 
системы. Однако, то, что установка KDE выведет из строя ваш жесткий диск -- 
маловероятно. На самом 
деле, эта глава написана, чтобы помочь вам в процессе инсталляции и дать вам
возможность увидеть ваш новый рабочий стол в среде KDE настолько быстро, и с 
наименьшими бедами на вашу голову, насколько это только возможно. Также, как и 
при установке любого менеджера окон, рекомендуется, чтобы вы сделали резервную
копию всех ваших файлов настройки, касающихся X11, до того как вы начнете 
инсталляцию. Если вы не знаете где эти файлы находятся -- просмотрите все 
скрытые файлы (.*) в вашем домашнем каталоге и, также, каталоге
/usr/X11/lib/X11/xdm.  
<P> 
<B>Поскольку это программное обеспечение на данный момент находится на стадии
Бета-тестирования -- мы также рекомендуем сделать резервные копии ВСЕХ важных
файлов на вашем жестком диске. Мы НЕ отвечаем за любое повреждение, вызванное
установкой и использованием KDE!</B> 
<P> 
<P>
<H3><A NAME="ss3.1">3.1 Требования </A>
</H3>

<P> 
Перед установкой KDE убедитесь, что ваша система отвечает следующим требованиям:
<UL>
<LI>Ваша система UNIX совместима со стандартом POSIX. UNIX'ы, про которые 
известно, что KDE в них работает, включают: Linux, FreeBSD, Solaris, HP-UX, и 
MkLinux. Мы работаем над тем, чтобы вскоре отладить KDE и для других систем.  </LI>
<LI>Требуется некоторое количество свободного меcта на жестком диске там, где
будет создан каталог /opt/kde. Мы рекомендуем вам зарезервировать примерно
50 мегабайт, если ваша система поддерживает shared libraries, или, значительно
больше, если не поддерживает. 
<B>Поскольку это программное обеспечение на данный момент находится в состоянии
Бета-тестирования, предъявляемые требования могут изменяться от недели к неделе.
Я рекомендую вам оставить дополнительное место для будущих программ KDE.</B> 
Если вам нужно (или хочется) скомпилировать KDE из исходных файлов, пожалуйста, не забудьте
зарезервировать около 100 Мгб в /usr/src.</LI>
<LI>Необходима работающая система X11 с или без xdm. Если вы все еще не 
установили систему X Window, первым делом проверьте ваш дистрибутив UNIX'а на 
наличие установочной версии этой системы. Если вы не можете найти таковую -- 
обратитесь на 
<A HREF="http://www.xfree86.org">страницу XFree86</A> 
для получения информации как получить и установить систему X Window, 
или свяжитесь со службой поддержки пользователей вашего дистрибутива UNIX. </LI>
<LI>Qt-libraries, версии 1.31 или выше. Вы можете найти их на 
<A HREF="ftp://ftp.troll.no/pub/qt">FTP-сервере компании Troll Tech</A> как в 
rpm, так и tgz форматах.  </LI>
<LI><B>Предупреждение перед стартом:</B>   
Прежде чем делать обновление предыдущих версий KDE, мы рекомендуем вам сделать
следующее:  
<BLOCKQUOTE><CODE>
<PRE>
 
cd /opt/kde 
tar cfvz ~/KDE-old-version-backup.tar.gz * 
</PRE>
</CODE></BLOCKQUOTE>
 </LI>
</UL>
 
<P>
<H3><A NAME="ss3.2">3.2 Linux: Установка RPM пакетов для RedHat, Caldera и SuSE.</A>
</H3>

<P> 
Использование RPM пакетов -- это наиболее простой метод установки KDE. Сначала
зайдите в ваше любимое зеркало, и найдите каталог  /pub/kde/stable/distribution/rpm.  
Там вы увидите несколько подкаталогов для различных операционных систем. На данный момент
поддерживаются архитектуры i386, alpha и sparc. Также, пакеты rpm могут быть
найдены на сайтах contrib (сотрудничества) с Red Hat, таких как sunsite.unc.edu или ftp.redhat.com. 
<P> 
Основа системы состоит из файлов 
<B>kde-(component).(architecture).rpm</B> По меньшей мере вам будут 
необходимы kdesupport, kdelibs и kdebase.  
После переноса на ваш компьютер базового дистрибутива вы можете взять и все 
прочие rpm-файлы, которые, могут вам пригодиться.
<P> 
Теперь вы можете приступить к инсталляции. Начинайте с базовых пакетов. Если
вы устанавливаете KDE в первый раз, используйте
<BLOCKQUOTE><CODE>
<PRE>
 
rpm -i kdesupport.arch.rpm 
rpm -i kdelibs.arch.rpm 
rpm -i kdebase.arch.rpm 
</PRE>
</CODE></BLOCKQUOTE>
 
<B>Примечание:</B> Это важно, чтобы компоненты были установлены именно в
этом порядке, и, чтобы они были установлены до остальных компонентов KDE.
<P>Если вы осуществляете апгрейд предыдущей версии, попытайтесь использовать 
<BLOCKQUOTE><CODE>
<PRE>
 
rpm -Uvh kde-component.arch.rpm 
</PRE>
</CODE></BLOCKQUOTE>
 
Опять же, придерживайтесь указанной выше последовательности и не забывайте, что
базовые компоненты должны быть установлены прежде всех других.
<P>В результате вы распакуете базовый дистрибутив и установите eго в /opt/kde.   
Если инсталляция базовых пакетов прошла успешно, вы можете тем же образом 
установить все 
оставшиеся пакеты (используя снова <B>-Uvh</B> вместо -i, если это апгрейд 
более старых версий). 
<P> 
<H3><A NAME="ss3.3">3.3 Linux: Установка поверх Debian/GNU дистрибутива </A>
</H3>

<P> 
<B>Важное замечание, прежде чем вы начнете:</B> 
Из-за различных проблем, вытекающих из стандарта файловой системы в 
Linux, создание пакетов в формате .deb -- очень сложная задача. Поэтому, вы, 
возможно, не найдете пакетов с самой последней версией. Если вы хотите 
использовать самый последний вариант KDE, мы рекомендуем вам
найти дистрибутив в виде кода (для подробностей смотрите 
<A HREF="index-3.html#source-distribution">Использование TGZ для установки поверх   других систем</A>) . 
<P> 
Скачайте следующие файлы в указанном порядке, чтобы установить KDE 
на вашу Debian/GNU Linux систему. Вы можете найти их в /pub/kde/unstable/distribution/dpkg. 
<P>
<UL>
<LI>libgif2_2.3-1_i386.deb </LI>
<LI>libkde0_0.10.01-1_i386.deb </LI>
<LI>kdeapps_0.10.01-2_i386.deb </LI>
</UL>
 
<P>Кроме этого, KDE требует компоненты из следующих пакетов.  Убедитесь, что они
установлены, прежде чем начинать инсталляцию KDE:
<UL>
<LI>qt1.31</LI>
<LI>libjpeg6</LI>
<LI>libg++27</LI>
<LI>Мы также очень рекомендуем установить пакет 'debian menu' перед инсталляцией KDE (в этом случае kpanel будет много приятнее). </LI>
</UL>
<P>Для установки kde используйте dselect или сделайте это вручную, используя 
следующее: 
<BLOCKQUOTE><CODE>
<PRE>
 
dpkg -i libgif2_2.3-1_i386.deb 
dpkg -i libkde0_0.10.01-1_i386.deb 
dpkg -i kdeapps_0.10.01-2_i386.deb 
</PRE>
</CODE></BLOCKQUOTE>
 
<P>Если dpkg выдает сообщения об ошибках зависимости от других пакетов, вы должны
найти пакеты, перечисленные выше, установить их, и, затем, снова запустить
команды dpkg.
<P> 
<A NAME="source-distribution"></A>  
<H3><A NAME="ss3.4">3.4 Использование TGZ для установки поверх других систем </A>
</H3>

<P> 
Если ваш дистрибутив Linux не поддерживает форматы RPM или DEB для установочных архивов, или вы вообще не используете Linux, вы должны компилировать KDE сами. 
В будущем, мы планируем поставлять бинарный дистрибутив, который будет иметь 
свою собственную программу инсталляции.  
<P>Для того, чтобы правильно скомпилировать и установить KDE, вым нужно
установить на ваш жесткий диск следующие программы:
<P>
<UL>
<LI>Компилятор ANSI-C, например, GNU C компилятор. </LI>
<LI>Компилятор ANSI-C++ например, GNU C++. </LI>
<LI>Приложение make. </LI>
<LI>Qt для разработчиков версии 1.41 или выше.</LI>
<LI>X11 для разработчиков ('include' файлы часто отсутствуют) </LI>
</UL>
 
<P>Если вы установили все необходимое -- посетите ваше любимое зеркало KDE и 
возьмите следующие файлы из каталога /pub/kde/stable/(последняя версия):
<P>
<UL>
<LI>kdesupport-(version).tar.gz </LI>
<LI>kdelibs-(version).tar.gz </LI>
<LI>kdebase-(version).tar.gz </LI>
<LI>и все прочие пакеты, которые вы хотите установить. Мы советуем, по меньшей
мере, взять kdeutils. </LI>
</UL>
 
<P>где  (последняя версия) означает номер новейшей      версии. Когда вы скачате 
все необходимое, разархивируйте все эти файлы в /usr/src.  В результате вы
должны получить следующую структуру каталогов: 
<P>
<UL>
<LI>/usr/src/kdesupport </LI>
<LI>/usr/src/kdelibs </LI>
<LI>/usr/src/kdebase </LI>
<LI>/usr/src/... (any other packages) </LI>
</UL>
 
<P>Убедитесь, что у вас есть разрешение записывать в каталог /opt/kde.  
Следующим этапом, вы должны компилировать и установить  пакеты используя
следующее:  
<P>
<BLOCKQUOTE><CODE>
<UL>
<LI>cd в каталог пакета, который вы хотите установить (см. выше)</LI>
<LI>./configure (c такими параметрами, с какими вам нужно)</LI>
<LI>make</LI>
<LI>make install</LI>
</UL>
</CODE></BLOCKQUOTE>

Повторите все эти шаги для каждого пакета, который вы хотите установить.
(Примечание: Эти инструкции могут быть использованы почти для каждого пакета с
кодом.)
<P>Каждый файл-сценарий 'configure' имеет несколько возможных параметров.
Некоторые из них -- общие для всех пакетов, в то время как некоторые -- уникальны
для конкретного пакета. Вот, например, распечатка параметров kdebase, 
которую можно увидеть набрав <CODE>configure</CODE> <EM>--help</EM>, находясь в соответствующем каталоге:
<P>
<PRE>
  --enable-debug          создает код для отладки [по умолчанию=no]
  --disable-nls           не использовать Поддержку Родного Языка
  --with-qt-dir           указывает корень куда установлен qt
  --with-qt-includes      указывает где находятся 'include' файлы qt.
  --with-qt-libraries     указывает куда установлена библиотека qt.
  --with-extra-includes   добавляет нестандартный путь к 'include'
  --with-extra-libs       добавляет нестандартный путь к библиотеке
  --disable-path-check    отключается предварительная проверка каталога для 
инсталляции
  --with-install-root     корень, куда устанавливать [по умолчанию=/]
  --disable-rpath         не использовать параметр rpath в ld
  --with-xdmdir           если xdm config dir не может быть автоматически 
найдено  
  --without-pam           отмена Pluggable Authentication Modules
  --with-shadow           если вы хотите поддержку теневого пароля
  --without-gl            отмена режимов 3D GL 
  --without-xpm           отмена тестов цветных растровых изображений XPM 
</PRE>
<P>Некоторые параметры не критичны и используются лишь для обхода некоторых 
известных проблем (например, <EM>--disable-path-check</EM>). Но некоторые
параметры действительно важны, поэтому лучше ознакомиться с 
имеющимися параметрами до компиляции. 
<P>Важным параметром является также <EM>--prefix</EM>. Он определяет путь, куда
configure установит (для desupport и kdelibs) или где будет искать библиотеки
(для других пакетов). По умолчанию, confiugure будет искать их в /usr/local/kde.
Если вы хотите установить KDE  в /opt/kde, вы должны использовать  
<CODE>configure</CODE> <EM>--prefix /opt/kde</EM>.
<P>Если вы установили библиотеки Qt в нестандартном месте, например в
$HOME/src/qt, вы должны использовать 
<CODE>configure</CODE> <EM>--with-qt-dir=$HOME/src/qt</EM>. 
По умолчанию, configure ищет QT только в наиболее обычных местах, и, затем,
отказывается от поисков.
Если у вас возникли проблемы, которые вы не смогли решить, пошлите  копию файла
<EM>config.log</EM> по адресу указанному в файле <EM>README</EM>
из неподдающегося пакета.
<P>Вы должны устанавливать KDE в следующем порядке: kdesupport, kdelibs,
затем пакеты приложений (например, kdebase). Все эти приложения должны
зависеть только от kdelibs, так что вы можете их компилировать все одновременно
(если у вас мощная машина).
<P>Если вы хотите преимущества от использования системы в многопроцессорном 
режиме, попробуйте
<CODE>make</CODE> -j<EM>&lt;</EM><B>Число процессоров</B><EM>&gt;</EM> вместо
<CODE>make</CODE>. 
<P>Если вам удалось установить KDE в вариант UNIX'а, в который KDE до сих пор еще
не был успешно установлен, пожалуйста,
<A HREF="mailto:andi@bonn-online.com">пошлите мне email с описанием как вы это сделали.</A> Ваша информация будет включена в этот документ.
<P>
<P> 
<H4>Примечания по компиляции, специфические для конкретных платформ </H4>

<P> 
<H4>Linux </H4>

<P> 
Для Linux вы можете найти большинство необходимых средств для компилирования
KDE на 
<A HREF="ftp://sunsite.unc.edu/pub/Linux/GCC">ftp://sunsite.unc.edu/pub/Linux/GCC</A> иди 
<A HREF="ftp://sunsite.unc.edu/pub/GNU">ftp://sunsite.unc.edu/pub/GNU</A>. 
Библиотеки Qt можно найти на 
<A HREF="ftp://ftp.troll.no/pub/qt/linux">ftp://ftp.troll.no/pub/qt/linux</A>, как в кодовом так и в RPM форматах Linux. 
Оба содержат детальную информацию по их установке. Файлы 'include' для X11
программ должны быть доступны на  
<A HREF="ftp://ftp.xfree86.org">ftp://ftp.xfree86.org</A> в разделе xdevel.  
<P> 
Если вы хотите запускать вашу систему в runlevel 3 используя kdm, вы должны
заменить вызов xdm в /etc/rc.d/xdm на /opt/kde/bin/kdm. В любом случае,
вот версия, которая должна работать: 
<BLOCKQUOTE><CODE>
<PRE>
 
#! /bin/sh 
# Copyright (c) 1996 S.u.S.E. GmbH Fuerth, Germany.  All rights reserved. 
# 
# Author: Florian La Roche &lt;florian@suse.de>, 1996 
#         Werner Fink &lt;werner@suse.de>, 1996 
# 
# Modified on October, 13th by  
#       Andreas Buschka &lt;andi@bonn-online.com>, 1997 
# for the KDE documentation project. 
# 
# /sbin/init.d/xdm 
# 
 
. /etc/rc.config 
 
case "$1" in 
    start) 
        echo "Starting kdm." 
        /opt/kde/bin/kdm 
        ;; 
    stop) 
        echo -n "Shutting down kdm:" 
        killproc -TERM /opt/kde/bin/kdm 
        echo 
        ;; 
    *) 
        echo "Usage: $0 {start|stop}" 
        exit 1 
esac 
 
exit 0 
</PRE>
</CODE></BLOCKQUOTE>
 
Также вам нужно будет сменить заданный по умолчанию  runlevel в /etc/inittab на
3 для того, чтобы запустить kdm при инициализации системы.
<P> 
<B>Не забудьте заново войти в свой аккаунт для того, чтобы система смогла 
прочитать введенные вами изменения!</B> 
<P> 
<H3><A NAME="ss3.5">3.5 Требуемые изменения в файлах настройки </A>
</H3>

<P> 
После того, как вы разместили исполняемые файлы KDE в их каталоги, необходимо
изменить некоторые из них для запуска стартовых сценариев.  
<P> 
<A NAME="suse-install"></A>  
<P> 
Следующая процедура была проверена на SuSE Linux 5.0, и, должна быть в такой
же мере совместима с другими популярными вариантами UNIX.
<B>Всегда сохраняйте настроечные файлы перед их изменением! </B> Добавьте следующее в конец вашего файла /etc/profile: 
<P> 
<BLOCKQUOTE><CODE>
<PRE>
export PATH=$PATH:/opt/kde/bin 
export KDEDIR=/opt/kde
</PRE>
</CODE></BLOCKQUOTE>
 
<P>Затем, измените .xinitrc файл вашего домашнего каталога. Найдите
строку, которая вызывает ваш менеджер окон и замените ее на <CODE>startkde</CODE>.
<P>Теперь, все что вам нужно для запуска KDE -- сделано. Вы можете перейти к части
4, где описано как запускать KDE в первый раз. Если что-то не получилось -- вам
придется компилировать KDE самим. Читайте<EM>  
<A HREF="index-3.html#source-distribution">Использование TGZ для установки поверх других систем</A> </EM>для дальнейшей информации.  
<P>Мы постарались сделать установку настолько надежной, насколько это возможно. 
Если ваша конфигурация не безумно экзотична -- вы не должны встретить 
никаких серьезных проблем. Если, тем не менее, вы столкнулись с 
проблемами, мы советуем вам обратиться за помощью в 
<A HREF="index-14.html#mailing-lists">список рассылки KDE</A>    
<P>
<P>
<P ALIGN="RIGHT">

<A HREF="index-4.html"> Вперед </A>
<A HREF="index-2.html"> Назад </A>
<A HREF="index.html#toc3"> Содержание </A>
</P>
<CENTER>
<HR WIDTH="100%" SIZE=3 ALIGN=CENTER NOSHADE>
</CENTER>    
</FONT>

 
</BODY>
</HTML>
