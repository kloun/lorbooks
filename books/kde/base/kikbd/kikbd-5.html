<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<TITLE>Описание национальной клавиатуры: Создание новой раскладки</TITLE>
<META HTTP-EQUIV="content-type" CONTENT="text/html; charset=koi8-r">
<META NAME="keywords" CONTENT="KDE multilanguage X11">
<META NAME="description" CONTENT="KDE International Keyboard">
</HEAD>
<BODY BGCOLOR="#ffffff" LINK="#aa0000" TEXT="#000000" > 
<?php include("/home/maxcom/linux_html/books/head.php3") ?>
<FONT FACE="Helvetica">
<A HREF="http://www.kde.org/"><IMG SRC="logotp3.gif" BORDER="0" ALT="The K Desktop Environment"></A>
<HR WIDTH="100%" SIZE=2 ALIGN="CENTER" NOSHADE>

 
<P ALIGN="RIGHT">

<A HREF="kikbd-6.html">Next</A>
<A HREF="kikbd-4.html">Previous</A>
<A HREF="kikbd.html#toc5">Table of Contents</A>
</P>
<H3><A NAME="create"></A> <A NAME="s5">5. Создание новой раскладки</A></H3>

<P>
<P>Все системные раскладки находятся в директории
<I>$KDEDIR/share/apps/kikbd</I>
и персональные в
<I>$HOME/.kde/share/apps/kikbd</I>.
Индивидуальность раскладки определяется именем файла без расширения
<I>.kimap</I>. Файл в персональной директории скрывает файл с
таким же именем в системной директории.
<P>Для создания новой раскладки стоит взять за основу одну из существующих
раскладок. Файл раскладки содержит два раздела:
<P>
<OL>
<LI><B>International Keyboard</B><BR>
В этой секции можно определить следующее:
<UL>
<LI>Authors - список авторов
в формате "имя фамилия &lt; email адрес&gt;",
авторы в списке разделяются запятыми;</LI>
<LI>Comment** - дополнительный комментарий;</LI>
<LI>Language** - язык для которого предназначена эта раскладка;</LI>
<LI>Charset - charset;</LI>
<LI>Locale - локализация для которой предназначена эта раскладка;</LI>
<LI>Label* - метка этой раскладки.</LI>
</UL>

* - необходимо<BR>
** - может быть представлено в переводе на другие языки
<P>
</LI>
<LI><B>KeyboardMap</B><BR>
Эта секция описывает соответствие между основными символами клавиатуры и
двумя, тремя или четырьмя новыми символами по форме:
<PRE>
    keysym&lt;num> = &lt;default sym>,&lt;sym1>,&lt;sym2>,&lt;sym3>,&lt;sym4>,
  
</PRE>

и соответсвие кодов символам:
<PRE>
    keycode&lt;num> = &lt;key code>,&lt;sym1>,&lt;sym2>,&lt;sym3>,&lt;sym4>,
  
</PRE>


Где <I>num</I> означает любое уникальное число, <I>sym</I> означает
символ в форме шестнадцатиричного числа или форме которую понимает X,
<I>key code</I> означает десятичное число, <I>default sym</I>
означает основной символ или символ до запуска KiKbd.
Символа <I>sym1, sym2</I> определяют <I>национальные</I> 
символы
и <I>sym3, sym4</I> определяют <I>альтернативные</I> символы.
При описании раскладки предпочтительно использовать описание 
<I>keysym</I>. 
<P>В дополнение в этой секции можно описать <I>CapsSymbols</I>
как список символов разделенных запятой используемых при эмуляции Caps Lock.
</LI>
</OL>
<P>После создания и тестирования новой раскладки можно отправить ее
команде разработчиков KDE или напрямую автору.
<P>
<P ALIGN="RIGHT">

<A HREF="kikbd-6.html">Next</A>
<A HREF="kikbd-4.html">Previous</A>
<A HREF="kikbd.html#toc5">Table of Contents</A>
</P>
<CENTER>
<HR WIDTH="100%" SIZE=3 ALIGN=CENTER NOSHADE>
</CENTER>    
</FONT>

 
</BODY>
</HTML>
