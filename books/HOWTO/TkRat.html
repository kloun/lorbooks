<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML
><HEAD
><TITLE
>Мини-HOWTO: TkRat </TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.57"></HEAD
><BODY
CLASS="ARTICLE"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="ARTICLE"
><DIV
CLASS="TITLEPAGE"
><H1
CLASS="TITLE"
><A
NAME="AEN2"
>Мини-HOWTO: TkRat</A
></H1
><DIV
CLASS="AUTHORGROUP"
><A
NAME="AEN4"
></A
><H3
CLASS="AUTHOR"
><A
NAME="AEN5"
>Dave Whitinger</A
></H3
><DIV
CLASS="AFFILIATION"
><DIV
CLASS="ADDRESS"
><P
CLASS="ADDRESS"
>&nbsp;&nbsp;&nbsp;&nbsp;     dave@linuxtoday.com
    <br>
&nbsp;&nbsp;&nbsp;</P
></DIV
></DIV
><H3
CLASS="CORPAUTHOR"
> Перевод: <A
HREF="mailto:ave@asp-linux.com"
TARGET="_top"
>Александр Ермолаев</A
>,
 <A
HREF="http://www.asplinux.com"
TARGET="_top"
>SWSoft Pte Ltd.</A
>
 </H3
></DIV
><P
CLASS="PUBDATE"
>версия 1.2, 15 сентября 1999 года<BR></P
><DIV
><DIV
CLASS="ABSTRACT"
><A
NAME="AEN15"
></A
><P
></P
><P
>Этот докумет предназначен тем, кому интересно использовать свой компьютер под Linux для посылки и приема электронной почты (E-Mail) </P
><P
></P
></DIV
></DIV
><HR></DIV
><DIV
CLASS="TOC"
><DL
><DT
><B
>Содержание</B
></DT
><DT
>1. <A
HREF="TkRat.html#AEN17"
>Введение</A
></DT
><DT
>2. <A
HREF="TkRat.html#AEN34"
>Установка TkRat</A
></DT
><DT
>3. <A
HREF="TkRat.html#AEN55"
>Получение почты</A
></DT
><DT
>4. <A
HREF="TkRat.html#AEN63"
>Конфигурирование TkRat</A
></DT
><DT
>5. <A
HREF="TkRat.html#AEN88"
>Использование TkRat</A
></DT
><DT
>6. <A
HREF="TkRat.html#AEN114"
>Автоматическая сортировка почты по каталогам</A
></DT
><DT
>7. <A
HREF="TkRat.html#AEN146"
>Copyright</A
></DT
><DT
>8. <A
HREF="TkRat.html#AEN149"
>Авторские права</A
></DT
><DT
>9. <A
HREF="TkRat.html#AEN158"
>Благодарности</A
></DT
></DL
></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="AEN17"
>1. Введение</A
></H1
><P
>Этот документ поддерживает Dave Whitinger (<A
HREF="mailto:dave@linuxtoday.com"
TARGET="_top"
>dave@linuxtoday.com</A
>).
Пожалуйста, шлите мне письма с любыми вопросами или идеями, которые у вас
появятся после прочтения этого HOWTO.
&#13;</P
><P
>В этом документе я попытаюсь описать следующее: </P
><P
>&#13;<P
></P
><OL
TYPE="1"
><LI
><P
>Сортировка почты в каталогах </P
></LI
><LI
><P
>Установка программы TkRat для работы с электронной почтой. </P
></LI
><LI
><P
>Получение почты от интернет-провайдера. </P
></LI
><LI
><P
>Чтение, сохранение и посылка почты. </P
></LI
></OL
>&#13;</P
><P
>Документ предполагает, что у вас есть Linux с системой X-Windows; вы имеете уже установленное соединение с интернет-провайдером, а также имеете почтовую учетную запись у этого провайдера. </P
><P
>Ответственность: Автор не несет никакой ответственности за любое (неправильное) использование информации, приведенной в этом документе. Данный документ может содержать в себе ошибки и неточности. Автор создает его документ отдельно от любого объекта, с которым этот документ может быть связан. Читая его, вы соглашаетесь не вызывать у автора никаких проблем или неприятностей. :) &#13;</P
></DIV
><DIV
CLASS="SECT1"
><HR><H1
CLASS="SECT1"
><A
NAME="AEN34"
>2. Установка TkRat</A
></H1
><P
>Я хотел бы подчеркнуть, что имеется много превосходных программ электронной почты, предназначенных для Linux. Вы сами выбираете необходимую программу. Я пользуюсь программой "TkRat" более двух лет, и она мне нравится. Это графическая программа, имеющая все возможности, которые должны быть в качественной почтовой программе. Она проста в изучении, мощна и свободно распространяется. По этим причинам в данном HOWTO я буду описывать только программу TkRat. </P
><P
>Первое, что вы должны сделать - скачать архив TkRat. Вы можете либо получить исходные тексты программы и скомпилировать их, либо получить уже готовую собранную версию</P
><P
>Архив можно взять по следующим адресам: </P
><P
>&#13;<P
></P
><UL
><LI
><P
><A
HREF="ftp://ftp.md.chalmers.se/pub/tkrat/tkrat-2.0b3.tar.gz"
TARGET="_top"
>ftp://ftp.md.chalmers.se/pub/tkrat/tkrat-2.0b3.tar.gz</A
> (загрузка через ftp) </P
></LI
><LI
><P
><A
HREF="http://www.dtek.chalmers.se/~maf/ratatosk/tkrat-2.0b3.tar.gz"
TARGET="_top"
>http://www.dtek.chalmers.se/~maf/ratatosk/tkrat-2.0b3.tar.gz</A
> (загрузка через http) </P
></LI
><LI
><P
><A
HREF="http://www.dtek.chalmers.se/~maf/ratatosk/download.html"
TARGET="_top"
>http://www.dtek.chalmers.se/~maf/ratatosk/download.html</A
> (загрузить страницу, чтобы узнать номер последней версии продукта!) </P
></LI
></UL
>&#13;</P
><P
>Когда загрузите архив (файл tar), вы будете готовы установить программу на вашу систему. </P
><P
>Чтобы установить программу, используйте команды: 

<PRE
CLASS="PROGRAMLISTING"
>tar -zcvpf tkrat-2.0b3.tar.gz
cd tkrat-2.0b3
./configure
make
make install</PRE
>

Если что-нибудь будет не так, смотрите файлы INSTALL и README, расположенные в каталоге tkrat-2.0b3. Обратите внимание, что для сборки программы вам будет нужна библиотека tcl версии выше 8.1. Самую свежую версию tcl вы можете найти на сайте <A
HREF="http://www.scriptics.com/"
TARGET="_top"
>scriptics.com</A
>.</P
><P
>Примите мои поздравления - TkRat установлен в вашей системе. &#13;</P
></DIV
><DIV
CLASS="SECT1"
><HR><H1
CLASS="SECT1"
><A
NAME="AEN55"
>3. Получение почты</A
></H1
><P
>Чтобы читать электронную почту, обычно лучше всего загрузить ее в вашу машину; для этого существует программа "fetchmail". Приведенные ниже команды рассчитаны на fetchmail версии 2.2 - хотя они должны работать и в более новых версиях. </P
><P
>(Обратите внимание: Fetchmail, скорее всего, уже установлен в вашей системе, поскольку он включен во все дистрибутивы Linux, которые мне известны - если кто знает о том, что это не совсем так, пожалуйста, сообщите мне!) </P
><P
>Выполните следующие шаги: </P
><P
>&#13;<PRE
CLASS="PROGRAMLISTING"
>echo "server pop.com protocol pop3 username dave password foo" &#62; ~/.fetchmailrc

(Замените "pop.com" на имя почтового сервера вашего провайдера. Замените "dave" на ваше имя пользователя и замените "foo" на ваш пользовательский пароль.)</PRE
>&#13;</P
><P
>Теперь, всякий раз, когда вы захотите проверить свою почту, введите "fetchmail" в командную строку и нажмите Enter. Fetchmail загрузит всю вашу почту и сохранит ее в вашем локальном каталоге почты. &#13;</P
></DIV
><DIV
CLASS="SECT1"
><HR><H1
CLASS="SECT1"
><A
NAME="AEN63"
>4. Конфигурирование TkRat</A
></H1
><P
>В командной строке введите "tkrat" и нажмите Enter. Щелкните по "Create". Прочитайте сообщение, затем нажмите "Continue". Теперь вы перейдете к главному окну программы TkRat. Первое, что вы должны сделать - настроить программу под свою систему. </P
><P
>&#13;<P
></P
><OL
TYPE="1"
><LI
><P
>Перейдите в меню Admin, и выберите Preferences. </P
></LI
><LI
><P
>Щелкните на "Sending" </P
></LI
><LI
><P
>Введите свой адрес электронной почты (E-Mail) в поле "Default Reply-To". </P
></LI
><LI
><P
>Введите свой E-Mail, в поле "Use from address". например dave@linuxtoday.com (Dave Whitinger) </P
></LI
><LI
><P
>Введите имя своего домена в поле "Domain". Если ваш E-Mail - "user@xyz.com", то вы должны ввести "xyz.com". </P
></LI
><LI
><P
>Щелкните по "Apply". </P
></LI
><LI
><P
>Щелкните на "Method". </P
></LI
><LI
><P
>Для "Send Via" выберите "SMTP". </P
></LI
><LI
><P
>В поле "SMTP host:", введите адрес SMTP-сервера вашего интернет-провайдера. (его должен дать вам ваш провайдер). </P
></LI
><LI
><P
>Щелкните "Apply", затем "Dismiss". </P
></LI
></OL
>&#13;</P
></DIV
><DIV
CLASS="SECT1"
><HR><H1
CLASS="SECT1"
><A
NAME="AEN88"
>5. Использование TkRat</A
></H1
><P
>После запуска TkRat вы будете находится в папке, называемой "INBOX". Используйте fetchmail для того, чтобы скачать всю новую почту. Новая почта появится в этом каталоге INBOX. </P
><P
>В TkRat интуитивно понятный интерфейс. В верхней части экрана список пришедших вам сообщений. В нижней части экрана - содержимое сообщения. </P
><P
>Вы можете читать почту, просто щелкая по любому сообщению в списке. </P
><P
>Когда вы закончите чтение сообщения, то можете перейти к следующему сообщению, ответить на первое сообщение, написать новое сообщение или переместить сообщение в другую папку. </P
><P
>У вас может быть несколько папок почты. В них можно держать полученные письма, рассортировав их по темам. 
&#13;</P
><P
>Для создания новой почтовой папки сделайте следующее: 

<P
></P
><OL
TYPE="1"
><LI
><P
>Щелкните по Admin, затем New/Edit Folders </P
></LI
><LI
><P
>Вы увидите окошко с папкой "INBOX". Щелкните левой клавишей мыши по нему. </P
></LI
><LI
><P
>В появившемся меню выберите пункт "New File Folder". </P
></LI
><LI
><P
>Вам будет выдано диалоговое окно для ввода информации. </P
></LI
><LI
><P
>В первом текстовом поле введите имя новой папки. </P
></LI
><LI
><P
>Во втором текстовом поле введите имя файла, в котором вы будете хранить сообщения (подсказка: используйте имя, подобное этому - /home/username/mail/name_of_folder. Так, если в первом поле записано "Personal", во втором поле запишите "/home/dave/mail/personal" (предполагая, что username - dave)) </P
></LI
><LI
><P
>Щелкните OK. Обратите внимание, что ваша новая папка появилась в списке папок. Затем выберите "Window" и "Close". </P
></LI
></OL
>&#13;</P
><P
>Вы можете перемещать сообщения в новую папку и переключаться на эту папку, выбрав имя папки в меню "Folders". </P
><P
>Посылать почту очень просто. Щелкните "Compose", введите почтовый адрес получателя, введите тему сообщения (subject) и напишите письмо. </P
><P
>Когда вы закончите, щелкните по Send. &#13;</P
></DIV
><DIV
CLASS="SECT1"
><HR><H1
CLASS="SECT1"
><A
NAME="AEN114"
>6. Автоматическая сортировка почты по каталогам</A
></H1
><P
>Если ваша ситуация подобна моей, то вы получаете около 3,500 тысяч сообщений в день. Каждый раз после получения почты, вам придется просмотреть все сообщения, выбрав те, которые вас интересуют. </P
><P
>Эта проблема разрешима с помощью  Procmail. </P
><P
>Procmail работает примерно так: Procmail проверяет каждое приходящее сообщение и выполняет над ними действия, основанные на некоторых, определенных вами правилах. </P
><P
>Скажем, например, что каждый день я получаю приблизительно 200 сообщений от некоторого списка рассылки (в этом примере я использую список рассылки под названием linux-foo). Все эти сообщения прямиком попадают в мою главную папку входящих сообщений (inbox), а я бы хотел, что они были автоматически отфильтровывались в папку под названием "foo-list". </P
><P
>На первом шаге должен обрабатываться заголовок письма. </P
><P
>В каждом сообщение, приходящем из этого списка рассылки, есть строка, в которой написано следующее: </P
><P
>Sender: owner-linux-foo@bar.foogers.com</P
><P
>Теперь я могу указать procmail перемещать каждое сообщение, содержащее эту строку, в некоторую папку. Это делается при помощи файла ".procmailrc". </P
><P
>Я буду использовать мой любимый текстовый редактор, чтобы создать текстовый файл под названием ".procmailrc" в моем домашнем каталоге. </P
><P
>Файл будет выглядеть примерно так: </P
><P
>&#13;<PRE
CLASS="PROGRAMLISTING"
>LOGFILE=$HOME/.pmlog
MAILDIR=$HOME/mail
VERBOSE

# linux-foo list
:0 Hw
* ^.*[Ss]ender: owner-linux-foo@bar.foogers.edu
foo-list

# if it got to this point, put it in my new mail folder
:0 Hw
newmail&#13;</PRE
>&#13;</P
><P
>Рассмотрим подробнее строку "[Ss]ender". Заметьте, что эта строка есть во всех сообщениях от нашего списка рассылки. </P
><P
>Эта строка указывает procmail перемещать все сообщения, содержащие эту строку, в каталог "foo-list". </P
><P
>Следующая строка означает, что если сообщение не соответствовало ничему, описанному выше, то его необходимо поместить в newmail. </P
><P
>Теперь предположим, что я получаю сообщение от моего хорошего друга, EJ, и я хочу, чтобы оно попало в папку по имени "EJ". </P
><P
>Я добавлю новый раздел в мой файл .procmailrc. </P
><P
>&#13;<PRE
CLASS="PROGRAMLISTING"
>LOGFILE=$HOME/.pmlog
MAILDIR=$HOME/mail
VERBOSE

# список рассылки linux-foo
:0 Hw
* ^.*[Ss]ender: owner-linux-foo@bar.foogers.edu
foo-list

# Сообщение от E.J.!
:0 Hw
* ^.*[Ff]rom: ej@mypal.com
ej

# если добрались до этой точки, помещаем в каталог для новой почты
:0 Hw
newmail&#13;</PRE
>&#13;</P
><P
>Обратите внимание на новую секцию EJ. Когда приходит сообщение с его адресом в поле "From", оно автоматически помещается в каталог "ej".  </P
><P
>Теперь, скажем, имеется некоторый ламер, который шлет мне письма. Я не хочу получать сообщения от него, но он постоянно шлет их. Еще раз спасает procmail. </P
><P
>Так, предположим, что я не хочу получать почту от Билла Гейтса. Я могу добавить в файл .procmailrc раздел, удаляющий любую почту, приходящую БГ: </P
><P
>&#13;<PRE
CLASS="PROGRAMLISTING"
>LOGFILE=$HOME/.pmlog
MAILDIR=$HOME/mail
VERBOSE

# Это пришло от Билла Гейтса? Если да, то УДАЛИТЬ ЕГО!!!
:0 Hw
* ^.*[Ff]rom: bgates@microsoft.com
/dev/null

# список рассылки linux-foo
:0 Hw
* ^.*[Ss]ender: owner-linux-foo@bar.foogers.edu
foo-list

# Сообщение от E.J.!
:0 Hw
* ^.*[Ff]rom: ej@mypal.com
ej

# если добрались до этой точки, помещаем в каталог для новой почты
:0 Hw
newmail&#13;</PRE
>&#13;</P
><P
>Теперь у меня есть хороший файл .procmailrc. Давайте посмотрим на то, что procmail будет делать с каждым приходящим сообщением</P
><P
>Во-первых, он проверит, пришло ли это письмо от "bgates@microsoft.com". Если это так, то procmail удалит его. </P
><P
>Если письмо прошло через первую проверку, то procmail будет искать в его заголовке строку "owner-linux-foo@bar.foogers.edu". Если она есть, то procmail поместит сообщение в папку "foo-list". </P
><P
>Если сообщение прошло через предыдущие проверки, procmail проверяет, пришло ли оно от EJ. Если так, то procmail помещает его в папку "ej". </P
><P
>Теперь, если сообщение прошло через все проверки, то оно просто помещается в мою папку новой почты newmail. </P
><P
>После того, как вы настроили этот файл, и procmail должным образом фильтрует почту, можно войти в TkRat, выбрать "Admin - New/Edit Folder" и создать папки для каждого файла. Они будут расположены в /home/username/mail/foldername. &#13;</P
></DIV
><DIV
CLASS="SECT1"
><HR><H1
CLASS="SECT1"
><A
NAME="AEN146"
>7. Copyright</A
></H1
><P
>This HOWTO is copyright 1998, 1999 by Dave Whitinger, and is a free document.  You can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2 of the License, or any later version.</P
></DIV
><DIV
CLASS="SECT1"
><HR><H1
CLASS="SECT1"
><A
NAME="AEN149"
>8. Авторские права</A
></H1
><P
>Авторские права на русский перевод этого текста принадлежат &copy; 2000 SWSoft Pte Ltd.
Все права зарезервированы.</P
><P
>Этот документ является частью проекта Linux HOWTO.</P
><P
>Авторские права на документы Linux HOWTO принадлежат их авторам, если явно
не указано иное. Документы Linux HOWTO, а также их переводы, могут
быть воспроизведены и распространены полностью или частично на любом
носителе, физическом или электронном, при условии сохранения этой заметки об
авторских правах на всех копиях. Коммерческое распространение разрешается и
поощряется; но, так или иначе, автор текста и автор перевода желали бы знать о
таких дистрибутивах.</P
><P
>Все переводы и производные работы, выполненные по документам Linux HOWTO,
должны сопровождаться этой заметкой об авторских правах. Это делается в
целях предотвращения случаев наложения дополнительных ограничений на
распространение документов HOWTO. Исключения могут составить случаи
получения специального разрешения у координатора Linux HOWTO, с которым
можно связаться по адресу приведенному ниже.</P
><P
>Мы бы хотели распространить эту информацию по всем возможным каналам. Но
при этом сохранить авторские права и быть уведомленными о всех планах
распространения HOWTO. Если у вас возникли вопросы, пожалуйста, обратитесь
к координатору проекта Linux HOWTO по электронной почте:
<TT
CLASS="EMAIL"
>&#60;<A
HREF="mailto:linux-howto@metalab.unc.edu"
>linux-howto@metalab.unc.edu</A
>&#62;</TT
> или к координатору русского
перевода Linux HOWTO компании SWSoft Pte Ltd. по адресу
<TT
CLASS="EMAIL"
>&#60;<A
HREF="mailto:linux-howto@asplinux.ru"
>linux-howto@asplinux.ru</A
>&#62;</TT
></P
></DIV
><DIV
CLASS="SECT1"
><HR><H1
CLASS="SECT1"
><A
NAME="AEN158"
>9. Благодарности</A
></H1
><P
>Большое спасибо Martin'у Forssen'у (maf@dtek.chalmers.se) - автору программы TkRat. </P
><P
>Также моя благодарность North Texas Linux User's Group в Dallas - этот документ я писал для них в начале 1998 года. Никаким другим группам пользователей послать благодарности я не могу, поскольку я живу в горах на востоке штата Теннесси, где, я верю, что я - единственный пользователь Linux (и компьютеров вообще) в пределах 50 миль. </P
><P
>Примечание:  <A
HREF="mailto:nic@postilion.org"
TARGET="_top"
>Nic Bernstein</A
> расширил возможности TkRat, создав почтовую программу  <A
HREF="http://www.postilion.org/"
TARGET="_top"
>Postilion</A
> В него встроено большое количество новых возможностей, не присутствующих в TkRat, но я все равно продолжаю использовать TkRat. </P
></DIV
></DIV
></BODY
></HTML
>