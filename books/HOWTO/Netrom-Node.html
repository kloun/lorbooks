<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML
><HEAD
><TITLE
>Netrom-Node mini-Howto</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.57"></HEAD
><BODY
CLASS="ARTICLE"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="ARTICLE"
><DIV
CLASS="TITLEPAGE"
><H1
CLASS="TITLE"
><A
NAME="AEN2"
>Netrom-Node mini-Howto</A
></H1
><DIV
CLASS="AUTHORGROUP"
><A
NAME="AEN4"
></A
><H3
CLASS="AUTHOR"
><A
NAME="AEN5"
>Karl Larsen</A
></H3
><DIV
CLASS="AFFILIATION"
><DIV
CLASS="ADDRESS"
><P
CLASS="ADDRESS"
>&nbsp;&nbsp;&nbsp;&nbsp;     k5di@yahoo.com
    <br>
&nbsp;&nbsp;&nbsp;</P
></DIV
></DIV
><H3
CLASS="CORPAUTHOR"
> Перевод: <A
HREF="mailto:ave@asp-linux.com"
TARGET="_top"
>Александр Ермолаев</A
>,
 <A
HREF="http://www.asplinux.com"
TARGET="_top"
>SWSoft Pte Ltd.</A
>
 </H3
></DIV
><P
CLASS="PUBDATE"
>v1.10, 19 October 1998<BR></P
><DIV
><DIV
CLASS="ABSTRACT"
><A
NAME="AEN15"
></A
><P
></P
><P
>В этом документе описывается установка пакета утилит ax25 для Amateur
Radio, который создает Netrom Nodes для программы Node и программного
обеспечения BBS от John-Paul Roubelat (F6FBB). Переключатель пакетов G8BPQ
для DOS создает узел bbs. Возможно, у утилит Linux ax25 будет такая же
способность. John Ackerman (N8UR) поместил сообщение на Linux-Ham SIG о
том, что он создал узел BBS, а информация находится на его веб-сайте! Когда
эта информация была испытана, не все работало должным образом, но многое из
этой методики было изучено. Tomi Manninen: (OH2BNS) сделал подсказки. Узлы
для BBS, Node и  DX Cluster были сделаны и прекрасно работают.</P
><P
></P
></DIV
></DIV
><HR></DIV
><DIV
CLASS="TOC"
><DL
><DT
><B
>Содержание</B
></DT
><DT
>1. <A
HREF="Netrom-Node.html#AEN17"
>Введение</A
></DT
><DT
>2. <A
HREF="Netrom-Node.html#AEN21"
>Как начать</A
></DT
><DT
>3. <A
HREF="Netrom-Node.html#AEN27"
>Некоторые подробности об утилитах AX.25</A
></DT
><DT
>4. <A
HREF="Netrom-Node.html#AEN59"
>Установка Netrom</A
></DT
><DT
>5. <A
HREF="Netrom-Node.html#AEN82"
>Установка FBB и DXNet</A
></DT
><DT
>6. <A
HREF="Netrom-Node.html#AEN91"
>Авторские права</A
></DT
></DL
></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="AEN17"
>1. Введение</A
></H1
><P
>Возможно, что надо использовать именно утилиты ax25, чтобы генерировать
списки узлов для приложения Node, FBB BBS и для DXNet DX Cluster. Это
происходит путем изменения файлов настройки для Netrom и созданием записи
Netrom для каждого приложения. В настоящее время существует ядро, которое
накладывает лимит на 4 записи Netrom. Ожидается, что новые ядра не будут
иметь это ограничение.</P
><P
>Сейчас пользователей ищут в CRUCES:K5DI-4, LCBBS:K5DI-3 и LCDX:K5DI-5 на
многих узлах в Нью- Мехико, Техасе и Аризоне, и они имеют возможность
связываться между собой.</P
></DIV
><DIV
CLASS="SECT1"
><HR><H1
CLASS="SECT1"
><A
NAME="AEN21"
>2. Как начать</A
></H1
><P
>Получите и прочтите AX25-HOWTO: </P
><P
><TT
CLASS="LITERAL"
>ftp:</TT
>/sunsite.unc.edu/pub/Linux/docs/HOWTO/AX25-HOWTO/</P
><P
>Используя AX25-HOWTO, установите Amateur Radio ax.25 и систему Netrom, и
убедитесь, что они работают должным образом. Тогда программное обеспечение
может использоваться для соединения через ax.25 или Netrom с удаленным
узлом, система готова перейти к использованию списков узлов типа BPQ
Switch.</P
></DIV
><DIV
CLASS="SECT1"
><HR><H1
CLASS="SECT1"
><A
NAME="AEN27"
>3. Некоторые подробности об утилитах AX.25</A
></H1
><P
>Ниже приводится список всех приложений и файлов, которые необходимы для
установки работающей системы ax.25. Все приложения находятся в директории
/usr/sbin/, а файлы настройки- в  /etc/ax25/. Примечание: Kissattach
используется в случае, если у вас есть TNC (Контроллер пакетной связи) в
режиме Kiss.</P
><P
>&#13;<P
></P
><UL
><LI
><P
>Приложение kissattach 
 </P
></LI
><LI
><P
>Приложение call </P
></LI
><LI
><P
>Приложение ax25d </P
></LI
><LI
><P
>Файл настройки ax25d.conf </P
></LI
><LI
><P
>Приложение axspawn </P
></LI
><LI
><P
>Файл настройки axspawn.conf </P
></LI
><LI
><P
>Файл настройки axports</P
></LI
></UL
>&#13;</P
><P
>Пользователь ax25 должен придумать несколько имен. Можно сделать список этих имен.</P
><P
>&#13;<PRE
CLASS="SCREEN"
>Имя Позывной Псевдоним Остальное 

ax0 k5di-9 ax25 9600 baud
ax1 k5di-10 ax25 1200 baud
Netromk5di-1 #CRUCE Real Netrom 
netnodk5di-4 CRUCES Node node-list
netbbsk5di-3 LCBBS BBS  node-list
netdxk5di-5 LCDXDX-Cluster&#13;</PRE
>
Хорошая идея - создать список, подобный данному, прежде чем вы начнете
что-то изменять. Легко дать неправильное имя в контрольном файле.</P
><P
>Kissattach - это приложение, которое соединяет ядро с TNC, устанавливает
адрес tcp/ip, скорость соединения, все это подготавливает последовательный
порт для использования.</P
><P
>Axports - это файл, который определяет имя для портов ax.25 и говорит
kissattach, какой использовать позывной, а также скорость и окно. Ниже приводится
пример системы TNC.</P
><P
>&#13;<PRE
CLASS="SCREEN"
># /etc/ax25/axports
# Будьте очень внимательны при установке скорости. Это скорость в
# бит/сек, с которой эти данные передаются из компьютера на TNC, и она не 
# имеет отношение к скорости передачи
#
# Формат этого файла такой:
# имя позывной скорость разм.пакета окно описание
#
ax0 	K5DI-9		9600	255	3	445.1 (9600 bps)
ax1	K5DI-10		9600	255	1	145.07 (1200 bps)&#13;</PRE
></P
><P
>AX25D - это приложение, которое читает файл настройки ax25d и отвечает на
вызовы, направленные к этой системе. Ниже приводится образец ax25d.conf, у
которого нет определенного Netrom. В действительности, все, что он будет
делать, - это и есть ответы, направленные к k5di-9 и k5di-10. Отвечая, он
запускает Node приложение и впускает в пользователя систему.</P
><P
>&#13;<PRE
CLASS="SCREEN"
># /etc/ax25/ax25d.conf
#
# Файл настройки AX25D.
# Порты AX.25 начинаются с '['
#
[k5di-4 VIA ax0]
default	 * *    *   *   *    0 - root	/usr/sbin/node	node 
[k5di-4 VIA ax1]
default	 * *    *   *   *     0 - root	/usr/sbin/node	node</PRE
>
Следующий шаг - получение ax25d, чтобы заставить ответить на вызов,
направленный CRUCES. Это легко сделать, как показано ниже
<PRE
CLASS="SCREEN"
># /etc/ax25/ax25d.conf
#
# Файл настройки AX25D.
# Порты AX.25 начинаются с '['
#
[CRUCES VIA ax0]
default	 * *    *   *   *    0 - root	/usr/sbin/node	node
[k5di-4 VIA ax0]
default	 * *    *   *   *    0 - root	/usr/sbin/node	node 
[CRUCES VIA ax1]
default	 * *    *   *   *    0 - root	/usr/sbin/node	node
[k5di-4 VIA ax1]
default	 * *    *   *   *     0 - root	/usr/sbin/node	node </PRE
>&#13;</P
><P
>Если у вас случились неприятности, как root удалите процесс ax25d, если он
запускается, и затем введите команду ax25d &#38;. Так как ax25d загружает файл
ax25d.conf, на экран будут выведены любые ошибки и строки, в которых
встречаются эти ошибки, обнаруженые им.</P
><P
>Соединение от любого соседнего узла к k5di-4 или CRUCES, связывает с узлом
k5di. Но Netrom не передает список узлов для CRUCES или k5di-4. Это
происходит при изменении некоторых файлов настройки Netrom.</P
></DIV
><DIV
CLASS="SECT1"
><HR><H1
CLASS="SECT1"
><A
NAME="AEN59"
>4. Установка Netrom</A
></H1
><P
>Netrom имеет приложения и файлы, которые управляют им. Ниже приведен список
этих составляющих Netrom:</P
><P
>&#13;<P
></P
><UL
><LI
><P
>Приложение nrattach </P
></LI
><LI
><P
>Приложение netromd </P
></LI
><LI
><P
>Файл настройки nrports </P
></LI
><LI
><P
>Файл настройки nrbroadcast </P
></LI
></UL
>
Nrattach- это приложение, которое работает с ядром, и устанавливает порты и
tcp-ip, используемые Netrom. Чтобы использовать nrattach, нужно поместить
его в файл автозапуска. Например так:</P
><P
>&#13;<PRE
CLASS="SCREEN"
>&#13;/usr/sbin/nrattach -i 44.30.2.5 netrom
/usr/sbin/nrattach -i 44.30.2.5 netnod</PRE
>&#13;</P
><P
>Nrattach получает некоторую информацию из файла настройки, именуемый
nrports. Этот файл показан ниже:</P
><P
>&#13;<PRE
CLASS="SCREEN"
># /etc/ax25/nrports
#
# Формат этого файл:
#
# name call-sign alias paclen description
# имя позывной псевдоним разм.пакета описание
#
netrom          K5DI-1  #CRUCE   235    Switch
netnod          K5DI-4  CRUCES   235    Real Node&#13;</PRE
>&#13;</P
><P
>Без всяких изменений остается файл nrbroadcast так, что остальные изменения
будут происходить с файлом ax25d.conf. В этот файл обычно вставляется
настоящее приложение netrom, именуемое k5di-1. Но при вызове, идущем к
k5di-1 или #CRUCE, он получит нежелательные результаты. Уберите эту запись
из файла ax25d.conf, и пользователь будет "занят", когда его вызывают.</P
><P
>Вместо этого поместите его в netnod. Это позволит ax25d ответить на вызов,
направленный к CRUCES. Это показано на примере ниже:&#13;</P
><P
>&#13;<PRE
CLASS="SCREEN"
># /etc/ax25/ax25d.conf
#
# Файл настройки AX25D.
#
# Порты AX.25 начинаются с '['.
#
[CRUCES VIA ax0]
default	 * *    *   *   *    0 - root	/usr/sbin/node	node
[k5di-4 VIA ax0]
default	 * *    *   *   *    0 - root	/usr/sbin/node	node 
[CRUCES VIA ax1]
default	 * *    *   *   *    0 - root	/usr/sbin/node	node
[k5di-4 VIA ax1]
default	 * *    *   *   *     0 - root	/usr/sbin/node	node 
#
# Порты NET/ROM начинаются с '&#60;'.
#
&lt;netnod&gt;
default 	* *     *   *   *   * -  root   /usr/sbin/node node&#13;</PRE
>&#13;</P
><P
>С этими изменениями широковещательный узел netrom включит узел
K5DI-4:CRUCES и K5DI-1:#CRUCE. С помощью тестирования было определено, что
вызов, идущий из любого узла к k5di-1 или #CRUCE, был занят, а вызов,
идущий к k5di-4 или CRUCES, соединился с узлом на системе.</P
></DIV
><DIV
CLASS="SECT1"
><HR><H1
CLASS="SECT1"
><A
NAME="AEN82"
>5. Установка FBB и DXNet</A
></H1
><P
>Пакет FBB для BBS и программное обеспечение DXNet для Linux написаны для
того, чтобы отвечать на вызовы, направленные к позывному, определенному в
файлах настройки. В этих примерах позывной для FBB - k5di-3, а  для DXNet -
k5di-5.</P
><P
>Как только другое программное обеспечение ответит на вызовы k5di-3 и
k5di-5, ax25d перестанет использоваться, а эти вызовы никогда не будут
найдены в файле ax25d.conf. Но файл nrports нуждается в том, чтобы иметь
дополнительную информацию, а еще 2 строки nrattach добавляются к файлу
автозапуска. Стоки  nrattach и файл "nrports" показаны ниже:</P
><P
>&#13;<PRE
CLASS="SCREEN"
>usr/sbin/nrattach -i 44.30.2.5 netrom
/usr/sbin/nrattach -i 44.30.2.5 netbbs
/usr/sbin/nrattach -i 44.30.2.5 netnod
/usr/sbin/nrattach -i 44.30.2.5 netdx

# /etc/ax25/nrports
#
# Формат этого файла:
#
# имя позывной псевдоним разм.пакета описание
#
netrom          K5DI-1  #CRUCE   235    Switch
netnod          K5DI-4  CRUCES   235    Real Node
netbbs		K5DI-3	LCBBS	 235	FBB BBS
netdx		K5DI-5	LCDX	 235	DXNet DX Cluster</PRE
>&#13;</P
><P
>Эти изменения составят желаемый список узлов, но вызов, направленный к
LCBBS, не сработает. Запомните, что FBB отвечает на вызов, направленный к
k5di-3, но не на псевдоним. Чтобы достичь этого, требуются изменения файла
/usr/local/fbb/system/port.sys. Перед этими изменениями port.sys имел
список для имени "netrom". С учетом этих изменений поменяйте местами
"netrom" и "netbbs". Эта секция  port.sys показана ниже:
<PRE
CLASS="SCREEN"
>&#13;#TNC NbCh Com MultCh Pacln Maxfr NbFwd MxBloc M/P-Fwd Mode  Freq
 0   0    0   0      0     0     0     0      00/01   ----  File-fwd.
 1   8    1   ax0    250   4     1     10     30/60   XUWY  UHF port
 2   2    1   ax1    250   4     1     10     00/60   XUWY  VHF port
 3   6    1 netbbs   250   4     4     10     30/60   XUWY  BPQ look
 4   8    2   0      250   5     4     1000    5/15   TUWY  Telnet
#</PRE
>&#13;</P
><P
>Похожее изменение произошло с файлом  "dxnet.cfg", где netrom поменялось
местами с netdx. Когда эти изменения произойдут, и при этом прошло несколько
часов, которые позволили Netrom отправить списки узлов, у любого соседнего
узла будут составлены списки узлов к вашему Netrom для CRUCES и LCBBS и
LCDX, и они все будут работать так же, как и при использовании G8BPQ Switch
в DOS.&#13;</P
></DIV
><DIV
CLASS="SECT1"
><HR><H1
CLASS="SECT1"
><A
NAME="AEN91"
>6. Авторские права</A
></H1
><P
>Авторские права на русский перевод этого текста принадлежат &copy; 2000 SWSoft Pte Ltd.
Все права зарезервированы.</P
><P
>Этот документ является частью проекта Linux HOWTO.</P
><P
>Авторские права на документы Linux HOWTO принадлежат их авторам, если явно
не указано иное. Документы Linux HOWTO, а также их переводы, могут
быть воспроизведены и распространены полностью или частично на любом
носителе, физическом или электронном, при условии сохранения этой заметки об
авторских правах на всех копиях. Коммерческое распространение разрешается и
поощряется; но, так или иначе, автор текста и автор перевода желали бы знать о
таких дистрибутивах.</P
><P
>Все переводы и производные работы, выполненные по документам Linux HOWTO,
должны сопровождаться этой заметкой об авторских правах. Это делается в
целях предотвращения случаев наложения дополнительных ограничений на
распространение документов HOWTO. Исключения могут составить случаи
получения специального разрешения у координатора Linux HOWTO, с которым
можно связаться по адресу приведенному ниже.</P
><P
>Мы бы хотели распространить эту информацию по всем возможным каналам. Но
при этом сохранить авторские права и быть уведомленными о всех планах
распространения HOWTO. Если у вас возникли вопросы, пожалуйста, обратитесь
к координатору проекта Linux HOWTO по электронной почте:
<TT
CLASS="EMAIL"
>&#60;<A
HREF="mailto:linux-howto@metalab.unc.edu"
>linux-howto@metalab.unc.edu</A
>&#62;</TT
> или к координатору русского
перевода Linux HOWTO компании SWSoft Pte Ltd. по адресу
<TT
CLASS="EMAIL"
>&#60;<A
HREF="mailto:linux-howto@asplinux.ru"
>linux-howto@asplinux.ru</A
>&#62;</TT
></P
></DIV
></DIV
></BODY
></HTML
>