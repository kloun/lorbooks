<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>SMB HOWTO: Установка</TITLE>
 <LINK HREF="SMB-HOWTO-5.html" REL=next>
 <LINK HREF="SMB-HOWTO-3.html" REL=previous>
 <LINK HREF="SMB-HOWTO.html#toc4" REL=contents>
</HEAD>
<BODY>
<A HREF="SMB-HOWTO-5.html">Следующий</A>
<A HREF="SMB-HOWTO-3.html">Предыдущий</A>
<A HREF="SMB-HOWTO.html#toc4">Содержание</A>
<HR>
<H2><A NAME="s4">4. Установка</A></H2>

<P>Сначала, для того чтобы использовать Samba ваша машина должна находится
в одиночном ethernet-сегменте локальной сети, используя протокол TCP/IP.
Samba не будет работать используя другие сетевые протоколы. Это в общем
легко, поскольку Linux и Windows 95/98/NT поставляются с поддержкой
TCP/IP. Однако если вы используете машины с Windows 3.X, то вам необходимо
добавит поддержку TCP/IP. Один из самых распространенных вопросов, который
я получаю---почему Samba "не работает", когда машины с Windows не
используют TCP/IP.
<P>Для того, чтобы установить TCP/IP на машине с Windows 95/98 , выберите
Control Panel | Network, затем добавьте и настройте Microsoft TCP/IP. В
Windows NT, выберите Control Panel | Network | Protocols.
<P>
<P>Для того, чтобы получить исходные тексты последней версии Samba, свяжите 
с указанным URL и выберите ближайший к вам сервер-зеркало: 
<A HREF="ftp://ftp.samba.org/">ftp://ftp.samba.org/</A>. 
<P>В большинстве случаев ваш дистрибутив Linux поставляется с пакетом, который 
содержит свежую версию Samba.
<P>Следующие два демона необходимы для работы пакета Samba. Они обычно
устанавливаются в /usr/sbin и запускаются либо при загрузке из
системных скриптов, либо из  inetd.  Примеры скриптов даны в разделе
<A HREF="SMB-HOWTO-5.html#sec-daemons">Запуск демонов</A>. 
<P>
<HR>
<PRE>
        smbd (Демон SMB)
        nmbd (Обеспечивает поддержку сервера имен NetBIOS для клиентов)
</PRE>
<HR>
<P>Заметим, что сервис имен, предоставляемый демоном nmbd является отличным от 
сервиса имен, предоставляемого Domain Name Service (DNS). Сервис имен
NetBIOS является сервисом имен в стиле Windows, используемым для
SMB. Другими словами, имеющийся сервис имен DNS ничего не скажет о
возможности Samba для нахождения имен машин. 
<P>Обычно следующие двоичные файлы Samba устанавливаются в директорию
/usr/bin, хотя их расположение опционально.
<P>
<HR>
<PRE>
        smbclient       (Клиент SMB для UNIX-машин)
        smbprint        (скрипт для печати на принтер на SMB-машине)
        smbprint.sysv   (такое как выше, но для машин с SVR4 UNIX)
        smbstatus       (Перечисляет текущие SMB-соединения для локальной машины) 
        smbrun          ('glue' скрипт для запуска приложений на SMB-машине)
</PRE>
<HR>
<P>Двоичные файлы относящиеся к поддержке файловой системы smbfs обсуждаются
далее в этом документе.
<P>Дополнительно с этим документом включен скрипт, названный 'print',
который служит как полезная надстройка над скриптом smbprint. 
<P>Пакет Samba очень прост в установке. Просто получите исходные
тексты по адресу, указанному выше, и прочитайте файл README в
дистрибутиве. Также в дистрибутиве есть файл называемый
docs/INSTALL.txt, который дает простой набор пошаговых
инструкций.
<P>Последующая установка, поместит демоны в /usr/sbin и
двоичные файлы в /usr/bin. Установите справочные
страницы в /usr/local/man.  
<P>При установке пакета Samba, вы должны указать в Makefile расположение файла
конфигурации, smb.conf. Обычно это /etc, но вы
можете поместить его куда угодно. Для этих указаний, мы будем предполагать,
что вы указали расположение файла конфигурации как
/etc/smb.conf, расположение файла протокола как <CODE>log file =
/var/log/samba-log.%m</CODE> и блокировочной директории как <CODE>lock
directory = /var/lock/samba</CODE>.
<P>Установите файл конфигурации smb.conf.  Перейдите в директорию, где была
скомпилирована Samba.  Посмотрите в поддиректории
examples/simple и прочитайте файл README.
Скопируйте файл smb.conf найденный в этой директории в
директорию /etc.  <B>БУДЬТЕ ОСТОРОЖНЫ!</B> Если у вас
дистрибутив Linux с уже установленной Samba, у вас уже может быть файл
конфигурации Samba в /etc.  Вероятно вы можете начать работать
с каким-то из них.
<P>Если вы не хотите устанавливать файл конфигурации в директорию
/etc, то поместите его куда вы хотите, а затем поместите
символическую ссылку на него в директорию /etc:
<P>
<HR>
<PRE>
        ln -s /path/to/smb.conf /etc/smb.conf
</PRE>
<HR>
<P>
<HR>
<A HREF="SMB-HOWTO-5.html">Следующий</A>
<A HREF="SMB-HOWTO-3.html">Предыдущий</A>
<A HREF="SMB-HOWTO.html#toc4">Содержание</A>
</BODY>
</HTML>
