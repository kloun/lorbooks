<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML
><HEAD
><TITLE
>The BTTV Mini-HOWTO </TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.57"></HEAD
><BODY
CLASS="ARTICLE"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="ARTICLE"
><DIV
CLASS="TITLEPAGE"
><H1
CLASS="TITLE"
><A
NAME="AEN2"
>The BTTV Mini-HOWTO</A
></H1
><DIV
CLASS="AUTHORGROUP"
><A
NAME="AEN4"
></A
><H3
CLASS="AUTHOR"
><A
NAME="AEN5"
>Eric Sandeen</A
></H3
><DIV
CLASS="AFFILIATION"
><DIV
CLASS="ADDRESS"
><P
CLASS="ADDRESS"
>eric_sandeen@bigfoot.com</P
></DIV
></DIV
><H3
CLASS="CORPAUTHOR"
> Перевод: <A
HREF="mailto:kmic@asp-linux.com"
TARGET="_top"
>Михаил Корепанов</A
>,
 <A
HREF="http://www.asplinux.com"
TARGET="_top"
>SWSoft Pte Ltd.</A
>
 </H3
></DIV
><P
CLASS="PUBDATE"
>версия 0.3, Февраль 2000<BR></P
><DIV
><DIV
CLASS="ABSTRACT"
><A
NAME="AEN15"
></A
><P
></P
><P
>В этом документе дается описание всего программного и аппаратного обеспечения,
необходимого для использования в Linux карты оцифровки видеоизображения или ТВ-тюнера,
основанных на чипсете bt8x8.</P
><P
></P
></DIV
></DIV
><HR></DIV
><DIV
CLASS="TOC"
><DL
><DT
><B
>Содержание</B
></DT
><DT
>1. <A
HREF="BTTV-Mini-HOWTO-0.3.html#AEN17"
>Введение</A
></DT
><DD
><DL
><DT
>1.1. <A
HREF="BTTV-Mini-HOWTO-0.3.html#AEN21"
>Copyright of this document</A
></DT
><DT
>1.2. <A
HREF="BTTV-Mini-HOWTO-0.3.html#AEN29"
>Авторские права</A
></DT
><DT
>1.3. <A
HREF="BTTV-Mini-HOWTO-0.3.html#AEN38"
>Где можно взять этот документ</A
></DT
><DT
>1.4. <A
HREF="BTTV-Mini-HOWTO-0.3.html#AEN42"
>Благодарности</A
></DT
><DT
>1.5. <A
HREF="BTTV-Mini-HOWTO-0.3.html#AEN47"
>Ответственность</A
></DT
></DL
></DD
><DT
>2. <A
HREF="BTTV-Mini-HOWTO-0.3.html#AEN52"
>Требования к аппаратному обеспечению</A
></DT
><DT
>3. <A
HREF="BTTV-Mini-HOWTO-0.3.html#AEN145"
>Требования к программному обеспечению</A
></DT
><DT
>4. <A
HREF="BTTV-Mini-HOWTO-0.3.html#AEN154"
>Настройка системы</A
></DT
><DD
><DL
><DT
>4.1. <A
HREF="BTTV-Mini-HOWTO-0.3.html#AEN156"
>Установка аппаратного обеспечения</A
></DT
><DT
>4.2. <A
HREF="BTTV-Mini-HOWTO-0.3.html#AEN164"
>Настройка ядра</A
></DT
><DT
>4.3. <A
HREF="BTTV-Mini-HOWTO-0.3.html#AEN179"
>Использование версий 0.6.x</A
></DT
><DT
>4.4. <A
HREF="BTTV-Mini-HOWTO-0.3.html#AEN196"
>Создание файлов <TT
CLASS="LITERAL"
>/dev</TT
></A
></DT
><DT
>4.5. <A
HREF="BTTV-Mini-HOWTO-0.3.html#AEN231"
>Загрузка модулей</A
></DT
><DT
>4.6. <A
HREF="BTTV-Mini-HOWTO-0.3.html#AEN268"
>Автоматизация процесса</A
></DT
></DL
></DD
><DT
>5. <A
HREF="BTTV-Mini-HOWTO-0.3.html#AEN275"
>Проигрыватели</A
></DT
><DT
>6. <A
HREF="BTTV-Mini-HOWTO-0.3.html#AEN333"
>Приложение - значения аргументов для всех модулей</A
></DT
></DL
></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="AEN17"
>1. Введение</A
></H1
><P
>Возможность оцифровки и последующего воспроизведения являются одним из
приоритетов мультимедиа под Linux. Множество устройств поддерживается через
API video4linux (<A
HREF="http://roadrunner.swansea.uk.linux.org/v4l.shtml"
TARGET="_top"
>http://roadrunner.swansea.uk.linux.org/v4l.shtml</A
>), включая
несколько ТВ карт, основанных на чипсетах Conexant bt848 и bt878. Этот
документ объясняет, как их использовать под Linux.</P
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="AEN21"
>1.1. Copyright of this document</A
></H2
><P
>This HOWTO is copyrighted 1999 Eric Sandeen.</P
><P
>Unless otherwise stated, Linux HOWTO documents are copyrighted by their
respective authors. Linux HOWTO documents may be reproduced and distributed
in whole or in part, in any medium physical or electronic, as long as this
copyright notice is retained on all copies. Commercial redistribution is
allowed and encouraged; however, the author would like to be notified of any
such distributions.</P
><P
>All translations, derivative works, or aggregate works incorporating any
Linux HOWTO documents must be covered under this copyright notice. That is,
you may not produce a derivative work from a HOWTO and impose additional
restrictions on its distribution. Exceptions to these rules may be granted
under certain conditions; please contact the Linux HOWTO co-ordinator at the
address given below.</P
><P
>In short, we wish to promote dissemination of this information through as
many channels as possible. However, we do wish to retain copyright on the
HOWTO documents, and would like to be notified of any plans to redistribute
the HOWTOs.</P
><P
>If you have questions, please contact Tim Bynum, the Linux HOWTO
co-ordinator, at <I
CLASS="EMPHASIS"
>linux-howto@metalab.unc.edu</I
> via email.</P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="AEN29"
>1.2. Авторские права</A
></H2
><P
>Авторские права на русский перевод этого текста принадлежат &copy; 2000 SWSoft Pte Ltd.
Все права зарезервированы.</P
><P
>Этот документ является частью проекта Linux HOWTO.</P
><P
>Авторские права на документы Linux HOWTO принадлежат их авторам, если явно
не указано иное. Документы Linux HOWTO, а также их переводы, могут
быть воспроизведены и распространены полностью или частично на любом
носителе, физическом или электронном, при условии сохранения этой заметки об
авторских правах на всех копиях. Коммерческое распространение разрешается и
поощряется; но, так или иначе, автор текста и автор перевода желали бы знать о
таких дистрибутивах.</P
><P
>Все переводы и производные работы, выполненные по документам Linux HOWTO,
должны сопровождаться этой заметкой об авторских правах. Это делается в
целях предотвращения случаев наложения дополнительных ограничений на
распространение документов HOWTO. Исключения могут составить случаи
получения специального разрешения у координатора Linux HOWTO, с которым
можно связаться по адресу приведенному ниже.</P
><P
>Мы бы хотели распространить эту информацию по всем возможным каналам. Но
при этом сохранить авторские права и быть уведомленными о всех планах
распространения HOWTO. Если у вас возникли вопросы, пожалуйста, обратитесь
к координатору проекта Linux HOWTO по электронной почте:
<TT
CLASS="EMAIL"
>&#60;<A
HREF="mailto:linux-howto@metalab.unc.edu"
>linux-howto@metalab.unc.edu</A
>&#62;</TT
> или к координатору русского
перевода Linux HOWTO компании SWSoft Pte Ltd. по адресу
<TT
CLASS="EMAIL"
>&#60;<A
HREF="mailto:linux-howto@asplinux.ru"
>linux-howto@asplinux.ru</A
>&#62;</TT
></P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="AEN38"
>1.3. Где можно взять этот документ</A
></H2
><P
>Последняя версия этого документа находится на страничке проекта Linux Documentation Project <A
HREF="http://metalab.unc.edu/LDP/"
TARGET="_top"
>http://metalab.unc.edu/LDP/</A
>.</P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="AEN42"
>1.4. Благодарности</A
></H2
><P
>Спасибо Ralph Metzler и Marcus Metzler за написание драйвера к bttv. Также
спасибо Alan Cox за создание Video4Linux API, Gerd Knorr за работу над
радиокартами, последующими релизами bttv, и xawtv. И всем, кто работал над
поддержкой этой карты под Linux. Спасибо William Burrow, написавшему BTTV
Howto (об этом я узнал <I
CLASS="EMPHASIS"
>после</I
> того, как написал этот
документ...), а я, опираясь на его работу, дополнил свою.</P
><P
>При разработке этого HOWTO я использовал документацию bttv и xawtv.</P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="AEN47"
>1.5. Ответственность</A
></H2
><P
>Вы используете информацию из этого документа на свой страх и риск. Я не
отвечаю за содержание этого документа. Ответственность
за использование примеров, идей и/или чего-то другого, содержащегося в этом
документе вы берете на себя.</P
><P
>Все права принадлежат разработчикам, если не оговорено иначе. Использование
торговых марок в этом документе не является рекламой или антирекламой.</P
><P
>Настоятельно рекомендую сохранить копию вашей системы, до того, как установите новую.</P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H1
CLASS="SECT1"
><A
NAME="AEN52"
>2. Требования к аппаратному обеспечению</A
></H1
><P
>Из файла bttv <TT
CLASS="LITERAL"
>README</TT
>:</P
><P
>Bttv - это драйвер для карт оцифровки видео, использующих семейство чипов
Conexant (<A
HREF="http://www.conexant.com"
TARGET="_top"
>http://www.conexant.com</A
>) Bt848. Среди них Bt848, Bt848A, Bt849,
Bt878 и Bt879. Основным отличием этих карт у разных производителей является
тип тюнеров и наличие дополнительных устройств. Например, некоторые карты
Hauppauge имеют дополнительный декодер Videotext и/или микросхему
декодирования звука. Но не все из дополнительных устройств поддерживаются
bttv. Единственные различия между платами различных изготовителей -
типы блоков настройки и наличие дополнительных компонентов на платах.
Например, несколько карт от компании Hauppauge имеют дополнительно декодер
видеотекста и/или звуковой декодер. Только некоторые из этих дополнительных
компонентов поддерживаются bttv. Также отличаются типы (композитный или
S-Video) и количество входов.</P
><P
>Поддерживаются следующие карты:

<P
></P
><UL
><LI
><P
><I
CLASS="EMPHASIS"
>AverMedia TV98</I
> 

<P
></P
><UL
><LI
><P
><A
HREF="http://www.aver.com/products.html"
TARGET="_top"
>http://www.aver.com/products.html</A
></P
></LI
></UL
>&#13;</P
></LI
><LI
><P
><I
CLASS="EMPHASIS"
>AVerMedia TV-Phone</I
> 

<P
></P
><UL
><LI
><P
><A
HREF="http://www.aver.com/lite/products/avertvphone.html"
TARGET="_top"
>http://www.aver.com/lite/products/avertvphone.html</A
></P
></LI
></UL
>&#13;</P
></LI
><LI
><P
><I
CLASS="EMPHASIS"
>Diamond DTV2000</I
> 

<P
></P
><UL
><LI
><P
><A
HREF="http://www.diamondmm.com/products/current/dtv-2000.cfm"
TARGET="_top"
>http://www.diamondmm.com/products/current/dtv-2000.cfm</A
></P
></LI
></UL
>&#13;</P
></LI
><LI
><P
><I
CLASS="EMPHASIS"
>Hauppauge Win/TV pci</I
> (and other Hauppauge cards)

<P
></P
><UL
><LI
><P
><A
HREF="http://www.hauppauge.com/"
TARGET="_top"
>http://www.hauppauge.com/</A
></P
></LI
></UL
>&#13;</P
></LI
><LI
><P
><I
CLASS="EMPHASIS"
>IDS Imaging FALCON</I
>

<P
></P
><UL
><LI
><P
><A
HREF="http://www.ids-imaging.de/"
TARGET="_top"
>http://www.ids-imaging.de/</A
></P
></LI
></UL
>&#13;</P
></LI
><LI
><P
><I
CLASS="EMPHASIS"
>Lifeview Flyvideo II</I
>

<P
></P
><UL
><LI
><P
><A
HREF="http://www.lifeview.de/lifeview/html/produkte.htm#karte"
TARGET="_top"
>http://www.lifeview.de/lifeview/html/produkte.htm#karte</A
></P
></LI
></UL
>&#13;</P
></LI
><LI
><P
><I
CLASS="EMPHASIS"
>Matrix Vision MV-Delta</I
>

<P
></P
><UL
><LI
><P
><A
HREF="http://www.matrix-vision.de/"
TARGET="_top"
>http://www.matrix-vision.de/</A
></P
></LI
></UL
>&#13;</P
></LI
><LI
><P
><I
CLASS="EMPHASIS"
>miroVIDEO PCTV</I
>

<P
></P
><UL
><LI
><P
><A
HREF="http://www.pinnaclesys.com/"
TARGET="_top"
>http://www.pinnaclesys.com/</A
></P
></LI
></UL
>&#13;</P
></LI
><LI
><P
><I
CLASS="EMPHASIS"
>Osprey-100</I
> 

<P
></P
><UL
><LI
><P
><A
HREF="http://www.mmac.com/products/osprey/osprey100.html"
TARGET="_top"
>http://www.mmac.com/products/osprey/osprey100.html</A
></P
></LI
></UL
>&#13;</P
></LI
><LI
><P
><I
CLASS="EMPHASIS"
>STB TV PCI</I
> 

<P
></P
><UL
><LI
><P
><A
HREF="http://www.stb.com/products/multimedia/tvpci/tvpci.html"
TARGET="_top"
>http://www.stb.com/products/multimedia/tvpci/tvpci.html</A
></P
></LI
></UL
>&#13;</P
></LI
><LI
><P
><I
CLASS="EMPHASIS"
>Terratec TERRA TV+</I
> 

<P
></P
><UL
><LI
><P
><A
HREF="http://www.terratec.de/produkte/terratv/terratv_info.htm"
TARGET="_top"
>http://www.terratec.de/produkte/terratv/terratv_info.htm</A
></P
></LI
></UL
>&#13;</P
></LI
><LI
><P
><I
CLASS="EMPHASIS"
>Videologic Captivator PCI</I
> 

<P
></P
><UL
><LI
><P
><A
HREF="http://www.videologic.com/Productinfo/capt_pci.htm"
TARGET="_top"
>http://www.videologic.com/Productinfo/capt_pci.htm</A
></P
></LI
></UL
>&#13;</P
></LI
></UL
>&#13;</P
><P
>Если вы узнаете, что и другие карты поддерживаются драйвером, то пожалуйста напишите мне об этом и я дополню этот список.</P
></DIV
><DIV
CLASS="SECT1"
><HR><H1
CLASS="SECT1"
><A
NAME="AEN145"
>3. Требования к программному обеспечению</A
></H1
><P
>Для использования ТВ тюнера под Linux, вам понадобятся соответствующие драйверы ядра, начиная с версии ядра 2.2.0, драйверы bttv входят в состав дистрибутива ядра.</P
><P
>Иначе вы можете взять драйвер tbe, который будет работать с ядрами 2.0.35 и более поздними. Однако, он не гарантирует работу с ядром более старым, чем 2.0.x. Драйверы bttv можно взять на
<A
HREF="http://www.thp.uni-koeln.de/~rjkm/linux/bttv.html"
TARGET="_top"
>http://www.thp.uni-koeln.de/~rjkm/linux/bttv.html</A
>, а самая последняя их версия размещена у Gerd Knorr по адресу
<A
HREF="http://www.in-berlin.de/User/kraxel/xawtv.html"
TARGET="_top"
>http://www.in-berlin.de/User/kraxel/xawtv.html</A
> В них добавлена поддержка звуковых чипов, таких как TEA6300, TDA8425, и DPL3518.</P
><P
>Если вы новичок в обращении с драйвером bttv, я бы вам посоветовал просто
взять ядро с этим драйвером. Если у вас возникнут с ним проблемы или
окажется, что он не поддерживает вашу карту, то возьмите драйвер версии 0.6
по адресу, указанному выше. Если вы уже имели дело с этим драйвером, то
возьмите у Gerd Knorr драйвер версии 0.7 , который будет работать с ядром
2.4. Драйверы серии 0.7 можно получить еще на <A
HREF="http://www.in-berlin.de/User/kraxel/xawtv.html"
TARGET="_top"
>http://www.in-berlin.de/User/kraxel/xawtv.html</A
>.</P
><P
>Этот документ описывает драйверы, идущие с ядром 2.2.14, с упоминанием
некоторых возможностей версии 0.6 , а версия 0.7 здесь совсем не затронута.</P
></DIV
><DIV
CLASS="SECT1"
><HR><H1
CLASS="SECT1"
><A
NAME="AEN154"
>4. Настройка системы</A
></H1
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN156"
>4.1. Установка аппаратного обеспечения</A
></H2
><P
><I
CLASS="EMPHASIS"
>(Спасибо William Burrow за эту главу.)</I
></P
><P
>Если вы боитесь самостоятельно открывать корпус своего компьютера, то сначала прочтите данное HOWTO, соберите всю информацию о карте: тип тюнера, номера использующихся микросхем и т.д. А затем позовите того, кто может вам правильно установить карту. </P
><P
>Иначе, откройте корпус и установите карту в нужный слот. Выберите тот PCI
слот, который поддерживает режим PCI bus master (если ваша материнская
плата поддерживает эти режимы не на всех слотах).</P
><P
>Существует два способа подключить вашу карту оцифровки видео и звуковую карту. Подсоедините аудио кабель вашего CD-ROM к аудио входу видео карты, затем аудио выход с  видео карты к аудио входу тюнера или CD-ROM. Иначе вам надо соединить внешний разъем 1/8'' аудио выхода видео карты к такому же разъему входа на аудиокарте. Если вы не хотите пропускать звук через аудиокарту или у вас ее попросту нет, то подсоедините активные колонки к аудио выходу видеокарты. (Некоторые новейшие карты bt878 не имеют аудио разъемов, так как они непосредственно посылают оцифрованный звук шине PCI.)</P
><P
>Для проверки работоспособности карты очень удобно использовать внешний
источник видеосигнала. Многие карты имеют композитный вход, вход S-Video и,
если есть тюнер, то вход RF. Для каждого из этих входов существует свой
разъем.</P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="AEN164"
>4.2. Настройка ядра</A
></H2
><P
>Ядро должно быть правильно настроено для того, чтобы поддерживать карту. Большинство новых дистрибутивов Linux идут вместе с необходимыми модулями, поэтому, если вы сможете найти у себя <TT
CLASS="LITERAL"
>videodev.o</TT
>, 
<TT
CLASS="LITERAL"
>bttv.o</TT
>, и <TT
CLASS="LITERAL"
>tuner.o</TT
> в каталоге <TT
CLASS="LITERAL"
>/lib/modules/2.x.x/misc</TT
>, 
то у вас уже все установлено.</P
><P
>Если нет, то придется перекомпилировать ядро с</P
><P
><TT
CLASS="LITERAL"
>CONFIG_VIDEO_DEV</TT
></P
><P
>и</P
><P
><TT
CLASS="LITERAL"
>CONFIG_VIDEO_BT848</TT
></P
><P
>желательно в качестве загружаемых модулей. Прочтите Linux Kernel HOWTO (<A
HREF="http://www.linuxdoc.org/HOWTO/Kernel-HOWTO.html"
TARGET="_top"
>http://www.linuxdoc.org/HOWTO/Kernel-HOWTO.html</A
>) для уточнения деталей перекомпилирования.</P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="AEN179"
>4.3. Использование версий 0.6.x</A
></H2
><P
>Если вы хотите использовать версию 0.6.x , сначала возьмите ее с
сайтов, указанных выше, разверните ее командой</P
><P
> 
<TT
CLASS="LITERAL"
>tar -xvzf bttv-0.6.x.tar.gz</TT
></P
><P
>зайти в созданный каталог . <TT
CLASS="LITERAL"
>su</TT
> и набрать</P
><P
><TT
CLASS="LITERAL"
>make</TT
></P
><P
>(Вы можете не следовать указаниям из файла <TT
CLASS="LITERAL"
>INSTALL</TT
>, касательно редактирования makefiles.) Затем
для их установки</P
><P
><TT
CLASS="LITERAL"
>make install</TT
></P
><P
>И в завершении</P
><P
><TT
CLASS="LITERAL"
>/sbin/depmod -a</TT
></P
><P
>для изменения информации о зависимости модуля.</P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="AEN196"
>4.4. Создание файлов <TT
CLASS="LITERAL"
>/dev</TT
></A
></H2
><P
>Теперь вам надо создать несколько файлов в каталоге <TT
CLASS="LITERAL"
>/dev</TT
>. Наберите <TT
CLASS="LITERAL"
>ls /dev/video*; ls
/dev/radio*</TT
> , чтобы проверить, существуют ли эти файлы. Если нет,
то вам придется их создать. Номер устройства у этих файлов, в основном, равен 81,
другие номера устройств зависят от их типа (видео, радио и
т.д.). Для более подробной информации загляните на страничку Video4Linux
API по адресу (<A
HREF="http://roadrunner.swansea.uk.linux.org/v4lapi.shtml"
TARGET="_top"
>http://roadrunner.swansea.uk.linux.org/v4lapi.shtml</A
>).</P
><P
>В каталоге <TT
CLASS="LITERAL"
>driver</TT
> есть скрипт <TT
CLASS="LITERAL"
>MAKEDEV</TT
>, который создаст четыре видео устройства. Вы
можете сделать это и сами, если у вас есть карта для оцифровки видео. Как
пользователь root наберите:</P
><P
><TT
CLASS="LITERAL"
>mknod /dev/video0 c 81 0</TT
></P
><P
><TT
CLASS="LITERAL"
>chmod 666 /dev/video0</TT
></P
><P
><TT
CLASS="LITERAL"
>ln -s /dev/video0 /dev/video</TT
></P
><P
><TT
CLASS="LITERAL"
>mknod /dev/radio0 c 81 64</TT
></P
><P
><TT
CLASS="LITERAL"
>chmod 666 /dev/radio0</TT
></P
><P
><TT
CLASS="LITERAL"
>ln -s /dev/radio0 /dev/radio</TT
></P
><P
>Возможно у вас есть приложения, которые потребуют устройства видеотекста и
VBI. Тогда вам следует набрать следующие команды:</P
><P
><TT
CLASS="LITERAL"
>mknod /dev/vtx0 c 81 192</TT
></P
><P
><TT
CLASS="LITERAL"
>chmod 666 /dev/vtx0</TT
></P
><P
><TT
CLASS="LITERAL"
>ln -s /dev/vtx0 /dev/vtx</TT
></P
><P
><TT
CLASS="LITERAL"
>mknod /dev/vbi0 c 81 224</TT
></P
><P
><TT
CLASS="LITERAL"
>chmod 666 /dev/vbi0</TT
></P
><P
><TT
CLASS="LITERAL"
>ln -s /dev/vbi0 /dev/vbi</TT
></P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="AEN231"
>4.5. Загрузка модулей</A
></H2
><P
>У драйвера bttv есть множество модулей с различными опциями, как описано в
приложении. Но с таким количеством модулей и опций вы можете справиться
сами. Для того,чтобы сбросить буферы на диск, напечатайте</P
><P
><TT
CLASS="LITERAL"
>sync; sleep 1; sync</TT
></P
><P
>Затем с правами пользователя root, используя команду <TT
CLASS="LITERAL"
>insmod</TT
>, попробуйте загрузить модули. Первые два модуля
довольно просто загрузить, так как они обычно не требуют указания опций:</P
><P
><TT
CLASS="LITERAL"
>insmod videodev</TT
></P
><P
><TT
CLASS="LITERAL"
>insmod i2c</TT
></P
><P
>Теперь можно загрузить сам модуль драйвера bttv:</P
><P
><TT
CLASS="LITERAL"
>modprobe bttv</TT
></P
><P
>По умолчанию модуль <TT
CLASS="LITERAL"
>bttv</TT
> сам определяет тип
карты. Просмотрите <TT
CLASS="LITERAL"
>/var/log/messages</TT
> , чтобы
увидеть то, что он обнаружил. Если он не правильно определил тип, вам надо будет
добавить опцию  <TT
CLASS="LITERAL"
>card=n</TT
> в конце вышеуказанной
строки, где <TT
CLASS="LITERAL"
>n</TT
> это карта из последующего
списка. (Карты с 0 по 19 поддерживаются драйверами ядра, а bttv-0.6.4h
поддерживает еще с 20 по 27) По желанию вы можете добавить опцию <TT
CLASS="LITERAL"
>radio=1</TT
>, если у вашей карты есть функция FM тюнера.</P
><P
>&#13;<PRE
CLASS="PROGRAMLISTING"
>card=n		тип карты
		0:  Auto-Detect
		1:  Miro
		2:  Hauppauge (старые карты bt848)
		3:  STB
		4:  Intel
		5:  Diamond
		6:  AVerMedia
		7:  MATRIX Vision MV-Delta
		8:  FlyVideo
		9:  TurboTV
		10: Hauppauge (новые карты bt878)
		11: MIRO PCTV pro
		12: Terratec/Vobis TV-Boostar
		13: Newer Hauppauge WinCam (bt878)
		14: MAXI TV Video PCI2
		15: Terratec TerraTV+
		16: Aimslab VHX
		17: PXC200
		18: AVermedia98
		19: FlyVideo98 (новейшие карты FlyVideo)
		20: Zoltrix TV-Max
		21: iProTV
		22: ADS Technologies Channel Surfer TV
		23: Pixelview PlayTV (bt878)
		24: Leadtek WinView 601
		25: AVEC Intercapture
		26: LifeView FlyKit w/o Tuner
		27: Intel Create and Share PCI&#13;</PRE
>&#13;</P
><P
>теперь загрузите модуль тюнера</P
><P
><TT
CLASS="LITERAL"
>modprobe tuner type=n</TT
></P
><P
>Вам надо знать, какой вид тюнера у вас. Некоторые карты (Miro и Hauppauge)
позволяют автоматически определить вид тюнера. На тюнере должно быть
указано имя производителя, вы должны осмотреть микросхемы и узнать, какого
вида у вас тюнер (NTSC или PAL). Для тюнеров  PAL на микросхеме должно
быть указано 28.xxxMHz (где xxx три цифры). Для тюнеров NTSC на микросхеме
должно быть указано 35.xxxMHz. Теперь, когда вы узнали вид тюнера, выберите
<TT
CLASS="LITERAL"
>n</TT
> из последующего списка (8 и 9
поддерживаются только bttv-0.6.4h):</P
><P
>&#13;<PRE
CLASS="PROGRAMLISTING"
>type=n		типы тюнеров по микросхеме:
		0: Temic PAL tuner
		1: Philips PAL_I tuner
		2: Philips NTSC tuner
		3: Philips SECAM tuner
		4: no tuner
		5: Philips PAL tuner
		6: Temic NTSC tuner
		7: Temic PAL tuner
		8: Alps TSBH1 NTSC tuner
		9: Alps TSBE1 PAL tuner</PRE
>&#13;</P
><P
>И в последнюю очередь загрузите модули, которые вам еще понадобятся. Не
забудьте, что драйверы для карт TEA6300, TDA8425, TDA9855 и DPL3518 есть
только в версии 0.6.4h.</P
><P
><TT
CLASS="LITERAL"
>modprobe msp3400</TT
> или <TT
CLASS="LITERAL"
>tea3600</TT
> или <TT
CLASS="LITERAL"
>tda8425</TT
> или
<TT
CLASS="LITERAL"
>tda9855</TT
> или <TT
CLASS="LITERAL"
>dpl3518</TT
>(прочтите приложение)</P
><P
>Теперь запустите вашу программу для video4linux и посмотрите работает ли
она. Если вы не можете сменить канал, проверьте, может вы установили
неправильны модуль. Если возникли проблемы со звуком, перепроверьте
модуль звука и посмотрите на установку "mute" звукового канала, в случае
использования звуковой карты.</P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="AEN268"
>4.6. Автоматизация процесса</A
></H2
><P
>Теперь, когда вы узнали какие модули и опции нужны, вы можете
автоматизировать процесс, занеся эту информацию в <TT
CLASS="LITERAL"
>/etc/conf.modules</TT
>. После этого, при запуске программы,
которая использует драйвер, модули будут загружаться автоматически. Для
этого я пишу:</P
><P
>&#13;<PRE
CLASS="PROGRAMLISTING"
># TV
alias	char-major-81	bttv
pre-install bttv	modprobe -k tuner; modprobe -k msp3400
options	bttv		radio=1 card=3
options tuner		type=2</PRE
>

Замените модули и опции для вашей карты. (Запустите <TT
CLASS="LITERAL"
>/sbin/depmod -a</TT
> для того, чтобы удостовериться, что
ваша информация не устарела.)</P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H1
CLASS="SECT1"
><A
NAME="AEN275"
>5. Проигрыватели</A
></H1
><P
>Теперь, когда ядро и устройства настроены, а модули загружены, вам
понадобится приложение, при помощи которого можно просмотреть видео с
вашей карты. Их существует множество:</P
><P
>&#13;<P
></P
><UL
><LI
><P
><I
CLASS="EMPHASIS"
>bttvgrab</I
> - Обеспечивает высококачественную оцифровку, пригодную для записи

<P
></P
><UL
><LI
><P
><A
HREF="http://moes.pmnet.uni-oldenburg.de/bttvgrab/"
TARGET="_top"
>http://moes.pmnet.uni-oldenburg.de/bttvgrab/</A
></P
></LI
></UL
>&#13;</P
></LI
><LI
><P
><I
CLASS="EMPHASIS"
>Gnome-o-Vision</I
> - Программа для просмотра для среды Gnome (в данный момент находится в стадии разработки)

<P
></P
><UL
><LI
><P
><A
HREF="http://cvs.gnome.org/lxr/source/gnomovision/"
TARGET="_top"
>http://cvs.gnome.org/lxr/source/gnomovision/</A
></P
></LI
></UL
>
&#13;</P
></LI
><LI
><P
><I
CLASS="EMPHASIS"
>kwintv</I
> - Программа для просмотра телепрограмм, основанная на Qt, для среды KDE

<P
></P
><UL
><LI
><P
><A
HREF="http://www.mathematik.uni-kl.de/~wenk/kwintv/"
TARGET="_top"
>http://www.mathematik.uni-kl.de/~wenk/kwintv/</A
></P
></LI
></UL
>&#13;</P
></LI
><LI
><P
><I
CLASS="EMPHASIS"
>wmtune</I
> - Радио тюнер для ТВ/радио карт основанный на bttv

<P
></P
><UL
><LI
><P
><A
HREF="http://home.pages.de/~fionn/archive/wmtune-1.0_bttv.tar.bz2"
TARGET="_top"
>http://home.pages.de/~fionn/archive/wmtune-1.0_bttv.tar.bz2</A
></P
></LI
></UL
>&#13;</P
></LI
><LI
><P
><I
CLASS="EMPHASIS"
>wmtv</I
> - WindowMaker TV dock.app

<P
></P
><UL
><LI
><P
><A
HREF="http://www.student.uwa.edu.au/~wliang/"
TARGET="_top"
>http://www.student.uwa.edu.au/~wliang/</A
></P
></LI
></UL
>&#13;</P
></LI
><LI
><P
><I
CLASS="EMPHASIS"
>XawTV</I
> - программа для просмотра телепрограмм и несколько утилит

<P
></P
><UL
><LI
><P
><A
HREF="http://www.in-berlin.de/User/kraxel/xawtv.html"
TARGET="_top"
>http://www.in-berlin.de/User/kraxel/xawtv.html</A
></P
></LI
></UL
>&#13;</P
></LI
><LI
><P
><I
CLASS="EMPHASIS"
>XtTV</I
> - Простенькая программа для ТВ/видео под Linux/X Windows

<P
></P
><UL
><LI
><P
><A
HREF="http://home.pages.de/~rasca/xttv/"
TARGET="_top"
>http://home.pages.de/~rasca/xttv/</A
></P
></LI
></UL
>&#13;</P
></LI
></UL
>&#13;</P
><P
>Еще есть интересный драйвер для карты FlyVideo98 на
<A
HREF="http://wolf.ifj.edu.pl/~jochym/FlyVideo98/"
TARGET="_top"
>http://wolf.ifj.edu.pl/~jochym/FlyVideo98/</A
></P
><P
><I
CLASS="EMPHASIS"
>Обязательно прочтите документацию</I
>, перед тем
как использовать эти приложения. Большинство из них требует для работы
тщательной настройки!</P
></DIV
><DIV
CLASS="SECT1"
><HR><H1
CLASS="SECT1"
><A
NAME="AEN333"
>6. Приложение - значения аргументов для всех модулей</A
></H1
><P
>Пункты отмеченные значком "*" есть только в драйверах 0.6.4h</P
><P
>    

<PRE
CLASS="PROGRAMLISTING"
>&#13;videodev.o
	это основной модуль video4linux module, все видеодрайверы
	(включая bttv)регистрируются здесь.

i2c.o
	общий модуль поддержки i2c. Он выполняет большинство функций управления шиной i2c,
	и все остальные модули (кроме videodev.o)используют его
	
	аргументы insmod:
		scan=1		обнаружение устройств на шине i2c
		verbose=0	уменьшает объем сообщений, выдаваемых драйвером
		i2c_debug=1	этот ключ предназначен для отладки
				вся информация, передаваемая по шине, записывается в системный журнал
				
bttv.o
	драйвер bt848 (микросхемы оцифровки)

	аргументы insmod:
		remap=adr       переназначить память Bt848 на адрес, равный adr&#60;&#60;20		
		vidmem=base	адрес фрэйм буфера, равен address&#62;&#62;20
		triton1=0/1     для совместимости с Triton1
                                Triton1 автоматически распознается                                
		pll=0/1/2	установки pll
				0: не использовать PLL
				1: установлена микросхема 28 MHz
				2: установлена микросхема 35 MHz
		radio=0/1	карта поддерживает радио
		card=n		тип карты
				0:  Автоопределение
				1:  Miro
				2:  Hauppauge (старая карта bt848)
				3:  STB
				4:  Intel
				5:  Diamond
				6:  AVerMedia
				7:  MATRIX Vision MV-Delta
				8:  FlyVideo
				9:  TurboTV
 				10: Hauppauge (новые карты bt878)
				11: MIRO PCTV pro
				12: Terratec/Vobis TV-Boostar
				13: Newer Hauppauge WinCam (bt878)
				14: MAXI TV Video PCI2
				15: Terratec TerraTV+
				16: Aimslab VHX
				17: PXC200
				18: AVermedia98
				19: FlyVideo98 (новые карты FlyVideo)
				*20: Zoltrix TV-Max
				*21: iProTV
				*22: ADS Technologies Channel Surfer TV
				*23: Pixelview PlayTV (bt878)
				*24: Leadtek WinView 601
				*25: AVEC Intercapture
				*26: LifeView FlyKit w/o Tuner
				*27: Intel Create and Share PCI

	параметры remap, card, radio и pll поддерживают до четырех, разделенных запятыми, аргументов
	(если у вас несколько карт).  Параметры CARD и PLL определяются по умолчанию в файле Makefile

msp3400.o
	Драйвер для микросхем обработки звука msp34xx. Вам придется
	использовать этот модуль, если у вас стереокарта.

	аргументы insmod:
		debug=1/2	выводить отладочную информацию в системный журнал,
				2 - более подробно.

*tea6300.o
	Драйвер для звукового чипа tea6300. Если у вас стереокарта, а драйвер
	msp3400.o не работает, то попытайтесь использовать этот.
	Этот чип используется на большинстве TV/FM-карт фирмы STB (обычно
	взятых с распродаж излишков Gateway).

	аргументы insmod:
		debug=1		выводить отладочную информацию в системный журнал.

*tda8425.o
	Драйвер для звукового чипа tda8425.  Этот драйвер был встроен в
	bttv.c, поэтому если ваш драйвер раньше работал, а сейчас перестал -
	загрузите этот модуль.

	аргументы insmod:
		debug=1		выводить отладочную информацию в системный журнал.

*tda9855.o
	Драйвер для чипа стерео-декодера/аудио-процессора tda9855.
	
	аргументы insmod:
		debug=1		выводить отладочную информацию в системный журнал.

*dpl3518.o
	Драйвер для процессора Dolby Pro Logic dpl3518a
	
	аргументы insmod:
		debug=1		выводить отладочную информацию в системный журнал.

tuner.o
	Драйвер тюнера.  Используйте этот драйвер, если хотите работать со встроенным
	в карту тюнером...

	аргументы insmod:
		debug=1		выводить отладочную информацию в системный журнал.
		type=n		задать тип чипа тюнера, где n равно:
				0:Тюнер Temic PAL
				1:Тюнер Philips PAL_I
				2:Тюнер Philips NTSC
				3:Тюнер Philips SECAM
				4:отключить поддержку тюнера
				5:Тюнер Philips PAL
				6:Тюнер Temic NTSC
				7:Тюнер Temic PAL
				*8:Тюнер Alps TSBH1 NTSC
				*9:Тюнер Alps TSBE1 PAL

i2c_chardev.o
	создает символьное устройство для доступа к шине i2c. Работает только с версией 2.1.x
	и автоматически не собирается.</PRE
>&#13;</P
></DIV
></DIV
></BODY
></HTML
>