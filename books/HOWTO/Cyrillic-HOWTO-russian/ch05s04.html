<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=koi8-r"><title>Нерусская кириллица для X Window</title><meta name="generator" content="DocBook XSL Stylesheets V1.59.1"><link rel="home" href="index.html" title="The Linux Cyrillic HOWTO (russian)"><link rel="up" href="ch05.html" title="Глава 5. X Window"><link rel="previous" href="ch05s03.html" title="Ввод с клавиатуры"><link rel="next" href="ch05s05.html" title="Проверка правильности кириллизации X Window"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Нерусская кириллица для X Window</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch05s03.html">Пред.</a> </td><th width="60%" align="center">Глава 5. X Window</th><td width="20%" align="right"> <a accesskey="n" href="ch05s05.html">След.</a></td></tr></table><hr></div><div class="sect1" lang="ru"><div class="titlepage"><div><h2 class="title" style="clear: both"><a name="NonRussianX"></a>Нерусская кириллица для X Window</h2></div></div><a class="indexterm" name="id2882459"></a><a class="indexterm" name="id2882475"></a><p>Все описанное приложимо не только для русского языка. Надо
изменить только клавиатурные раскладки, ну и шрифты, естественно,
будут иметь другую кодировку.</p><p>Возможно, найденные вами шрифты окажутся в отличной от
нужной вам кодировки. Для перекодировки BDF-шрифтов можно использовать
программу <span class="emphasis"><em>trbdf</em></span> из пакета <a href="ftp://lml.bas.bg/home/anton/linux/trscripts-1.2.tar.gz" target="_top">trscripts</a>.</p><p>Эта программа поддерживает кодовые страницы
<span class="emphasis"><em>ibm855</em></span>, <span class="emphasis"><em>ibm866</em></span>,
<span class="emphasis"><em>iso-8859-5</em></span>, <span class="emphasis"><em>koi8-c</em></span>,
<span class="emphasis"><em>koi8-r</em></span>, <span class="emphasis"><em>koi8-u</em></span>,
<span class="emphasis"><em>mac-cyrillic</em></span>, <span class="emphasis"><em>mik</em></span>,
<span class="emphasis"><em>unicode</em></span> и <span class="emphasis"><em>ecma-cyrillic</em></span>.
Символы, отсутствующие в исходной кодировке, аппроксимируются, так что
её можно использовать, например, для генерации
<span class="emphasis"><em>KOI8-U</em></span> шрифтов из
<span class="emphasis"><em>KOI8-R</em></span>.</p><p>Начиная с версии 4.0.3 XFree официально поддерживает
кодировку <span class="emphasis"><em>cp1251</em></span>. Если версия вашей XFree меньше
4.0.3, то поддержку <span class="emphasis"><em>cp1251</em></span> можно получить тремя
способами:</p><div class="orderedlist"><ol type="1"><li><p> Использовать дистрибутив, поддерживающий
cp1251.</p></li><li><p> Патчить <span class="emphasis"><em>XFree</em></span>.  <a href="ftp://ftp.logic.ru/pub/logic/linux/be-locale" target="_top">Патч поддержки
cp1251 </a> для <span class="emphasis"><em>XFree</em></span> 3.3.5 и 4.0 сделан
Алексеем Новодворским.</p></li><li><p> Идеологически неверное решение, но работает везде и
легко осуществимо: Добавьте в конце файла
<tt>locale.alias</tt> (обычно он находится в каталоге
<tt>/usr/X11R6/lib/X11/locale</tt>) строку вида</p><pre class="programlisting">
be_BY.CP1251            en_US.ISO8859-1
</pre><p>Конечно, вместо <tt>be_BY.CP1251</tt>
здесь Вы можете поставить строку для используемой Вами локали. (Однако
имейте ввиду, что имеющаяся уже в этом файле строка о Болгарской
локали <tt>bg_BG</tt> неверна и её нужно
удалить.)</p></li></ol></div><p>Если для кириллизации клавиатуры используете метод через
утилиту <tt>xmodmap</tt>, то этим все и кончится.  Если же
вы захотите использовать <span class="emphasis"><em>Xkb</em></span> метод, то в
клавиатурной раскладке вместо символических имён нужно использовать
коды символов согласно cp1251.  Например, для белорусской раскладки
вместо</p><pre class="programlisting">
    key &lt;AD01&gt; {        [               q,               Q      ],
                        [ Cyrillic_shorti, Cyrillic_SHORTI      ]       };
</pre><p>нужно использовать</p><pre class="programlisting">
    key &lt;AD01&gt; {        [               q,               Q      ],
                        [            0xe9,            0xc9      ]       };
</pre><p><span class="emphasis"><em>Замечание.</em></span> Только версии
<span class="emphasis"><em>XFree</em></span> после 4.0.0 поддерживают
<span class="emphasis"><em>KOI8-U</em></span>.  Если у вас отсутствует поддержка
<span class="emphasis"><em>KOI8-U</em></span>, а вам нужна именно эта кодировка, то вы
можете воспользоваться всем вышеописанным про
<span class="emphasis"><em>cp1251</em></span>.</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch05s03.html">Пред.</a> </td><td width="20%" align="center"><a accesskey="u" href="ch05.html">Уровень выше</a></td><td width="40%" align="right"> <a accesskey="n" href="ch05s05.html">След.</a></td></tr><tr><td width="40%" align="left" valign="top">Ввод с клавиатуры </td><td width="20%" align="center"><a accesskey="h" href="index.html">Начало</a></td><td width="40%" align="right" valign="top"> Проверка правильности кириллизации X Window</td></tr></table></div></body></html>
