<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>PPP HOWTO: Настройка преобразования доменных имен в IP адрес (DNS)</TITLE>
 <LINK HREF="PPP-HOWTO-11.html" REL=next>
 <LINK HREF="PPP-HOWTO-9.html" REL=previous>
 <LINK HREF="PPP-HOWTO.html#toc10" REL=contents>
</HEAD>
<BODY>
<A HREF="PPP-HOWTO-11.html">Next</A>
<A HREF="PPP-HOWTO-9.html">Previous</A>
<A HREF="PPP-HOWTO.html#toc10">Contents</A>
<HR>
<H2><A NAME="s10">10. Настройка преобразования доменных имен в IP адрес (DNS)</A></H2>

<P>Хотя нам - людям нравится давать названия вещам, компьютеры в действительности
больше любят числа. В TCP/IP сетях (которые составляют Интернет), мы называем 
машину определенным именем - и каждая машина живет в определенной области -
"домене". Например, моя рабочая станция Linux называется archenland, и  
постоянно находится в домене interweft.com.au . Читабельный для человека адрес 
таким образом - archenland.interweft.com.au (такая запись известна также как 
FQDN - полностью квалифицированное имя домена).
<P>Однако в Интернет машины, общаясь между собой, вместо имен используют IP адреса.
<P>Трансляция имени машины (и домена) в адрес, фактически используемый в 
Интернет, - это задача машин, которые предоставляют Domain Name Service 
(обслуживание доменных имен).
<P>Как это происходит:
<UL>
<LI> ваша машина должна знать IP адрес какого-то компьютере. 

Приложение, требующее эту информацию запрашивает 'resolver' на вашем Linux PC, 
чтобы предоставить эту информацию;
</LI>
<LI> resolver делает запрос к локальному файлу хостов (/etc/hosts и/или серверу
доменных имен, которые могут дать такую информацию (точнее поведение resolver'а 
определено в /etc/host.conf);
</LI>
<LI> если ответ найден в файле хостов, то ответ возвращается;
</LI>
<LI> если определен сервер доменных имен, то ваш PC делает запрос этой машине;
</LI>
<LI> если DNS машина уже знает IP адрес для требуемого имени, то она возвращает 
его. Если нет, то делает запрос другим серверам доменных имен в Интернет, 
чтобы найти информацию. Сервер доменных имен затем послыает эту информацию 
обратно на запрашивающий resolver - который в свою очередь передает информацию 
запросившему приложению.</LI>
</UL>

Когда вы устанавливаете PPP соединение, вы должны сообщить вашей Linux машине, 
где она может получить информацию по имени хоста по IP адресу (разрешение 
адреса) так, чтобы вы могли использовать имена машин, а ваш компьютер мог 
транслировать их в IP адреса, которые требуются для работы.
<P>Один из способов состоит в том, чтобы прописать каждый хост, с которым вы 
хотите общаться в файл /etc/hosts (что нереально, если вы соединяетесь с 
Интернет); другой - использовать машинный IP адрес вместо имени (тоже 
невозможно, кроме самых маленьких LAN).
<P>Самый лучший способ состоит в том, чтобы установить Linux так, чтобы он мог
автоматически получить информацию об адресе по имени. Эту услугу предоставляет
система сервера доменных имен (DNS). Все, что необходимо, это ввести IP адрес(а)
серверов доменных имен в ваш файл /etc/resolv.conf .
<P>
<P>
<H2><A NAME="ss10.1">10.1 Файл /etc/resolv.conf</A>
</H2>

<P>Служба поддержки пользователей вашего PPP сервера должна обеспечить вас IP 
адресами DNS (необходим только один - но два адреса дают некоторую избыточность
в случае отказа одного из них).
<P>Как упоминалось выше, Linux не может устанавливать IP адрес сервера имен тем же
способом, что и MS WINDOWS 95. Так что вы должны настоять (вежливо), чтобы ваш 
ISP обеспечил вас этой информацией!
<P>Ваш /etc/resolv.conf должен выглядеть примерно так:
<PRE>
______________________________________________________________________

domain your.isp.domain.name 
nameserver 10.25.0.1 
nameserver 10.25.1.2
______________________________________________________________________
</PRE>
<P>Отредактируйте этот файл (создайте в случае необходимости) так, чтобы 
прописать информацию, которую дал ваш ISP. Он должен иметь следующие права 
владения и доступа:
<PRE>
-rw-r--r--   1 root     root           73 Feb 19 01:46 /etc/resolv.conf
</PRE>

Если вы уже настроили /etc/resolv.conf, потому что вы находитесь в LAN,
просто добавьте IP адреса PPP DNS серверов к вашему существующему файлу.
<P>
<P>
<H2><A NAME="ss10.2">10.2 Файл /etc/host.conf</A>
</H2>

<P>Вы должны также проверить, что ваш файл /etc/host.conf правильно настроен. 
Он должен выглядеть примерно так
<PRE>
______________________________________________________________________

order hosts,bind 
multi on
______________________________________________________________________
</PRE>
<P>Эти строки сообщают resolver'у, что сперва надо искать информацию в файле 
хостов, а потом уже посылать DNS запросы.
<HR>
<A HREF="PPP-HOWTO-11.html">Next</A>
<A HREF="PPP-HOWTO-9.html">Previous</A>
<A HREF="PPP-HOWTO.html#toc10">Contents</A>
</BODY>
</HTML>
