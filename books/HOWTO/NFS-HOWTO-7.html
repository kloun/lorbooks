<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>NFS HOWTO: Контрольный список разрешения проблем монтирования</TITLE>
 <LINK HREF="NFS-HOWTO-8.html" REL=next>
 <LINK HREF="NFS-HOWTO-6.html" REL=previous>
 <LINK HREF="NFS-HOWTO.html#toc7" REL=contents>
</HEAD>
<BODY>
<A HREF="NFS-HOWTO-8.html">Следующий</A>
<A HREF="NFS-HOWTO-6.html">Предыдущий</A>
<A HREF="NFS-HOWTO.html#toc7">Содержание</A>
<HR>
<H2><A NAME="s7">7. Контрольный список разрешения проблем монтирования</A></H2>

<P>Это раздел основан на контрольном списке проблем монтирования, этот
документ написан в IBM Corp. Я благодарен им за то, что они сделали его
доступным для использования в этом документе. Если у вас есть проблема с
монтированием файловой системы через NFS, то пожалуйста проверьте это
список, до того как вы пошлете сообщение об ошибке. Каждый пункт описывает
конкретную проблему и ее решение.
<P>
<OL>
<LI>Команда mount продолжает сообщать <CODE>RPC:  Program not registered</CODE>

<P>Запущен ли portmapper?
<P><B>Исправление:</B> Запустите его.
<P>Запущен ли mountd? 
<P><B>Исправление:</B> Запустите его.
<P>Запущен ли nfsd?
<P><B>Исправление:</B> Запустите его.
<P>Не запрещено ли portmapper отвечать на ваши запросы файлом <CODE>/etc/hosts.deny</CODE>?
<P><B>Исправление:</B> Либо удалите правило из файла <CODE>hosts.deny</CODE> либо
добавьте правило в файл <CODE>hosts.allow</CODE>, так что portmapper будет
разрешено общаться с вами.
<P>
</LI>
<LI>Файловая система не экспортируется, или не экспортируется при запросе
клиента. 

<P><B>Исправление:</B> Экспортируйте ее
<P>
</LI>
<LI>Система разрешения имен не выдает соответствия со списком машин в
файле exports. 

<P>Например: список экспортируемых ресурсов задает экспортирование
<CODE>johnmad</CODE>, но имя <CODE>johnmad</CODE> разрешается как
<CODE>johnmad.austin.ibm.com</CODE> и монтирование запрещается.
<P>
<P><B>Исправление:</B> Экспортируйте ресурс для обоих форм имени машины.
<P>
<P>Это также случается, если клиент имеет 2 интерфейса с разными имена для
каждого из них и файловая система экспортируется только для одного
указанного имени.
<P>
<P><B>Исправление:</B> Экспортируйте оба интерфейса.
<P>
<P>Это также может произойти, если сервер не может выполнить функции
lookuphostbyname или lookuphostbyaddr (это библиотечные функции) на
клиенте. Убедитесь, что клиент может выполнять команды <CODE>host
&lt;name&gt;</CODE>; <CODE>host &lt;ip_addr&gt;</CODE>; и обе они указывают на одну и ту же 
машину.
<P>
<P><B>Исправление:</B> наладьте систему разрешения имен.
<P>
</LI>
<LI>Файловая система была смонтирована, после того как NFS был запущен
(на том сервере). В таком случае сервер экспортирует саму точку
монтирования, а не смонтированную файловую систему.

<P><B>Исправление:</B> Завершите NFSd и затем перезапустите его.
<P>
<P><B>Заметчание:</B> Клиенты, которые уже были примонтированы к точке
монтирования файловой системы будут иметь проблемы с доступом к ней после
перезапуска сервера.
<P>
</LI>
<LI>Дата наобум изменяется на одной или обоих машинах (это может спутать
make).

<P><B>Исправление:</B> Установите правильную дату.
<P>
<P>Автор HOWTO рекомендует использовать NTP для синхронизации
часов. Поскольку существуют экспортные ограничения на NTP в US, то вы
можете получить NTP для Debian, Red Hat или Slackware с
ftp://ftp.hacktic.nl/pub/replay/pub/linux или с сервера-зеркала.
<P>
</LI>
<LI>Сервер не допускает монтирования от пользователя, который находится
больше чем в 8 группах.

<P><B>Исправление:</B> уменьшите количество групп в которые входит
пользователь или смонтируйте под именем другого пользователя. 
<P>
</LI>
</OL>
<P>
<HR>
<A HREF="NFS-HOWTO-8.html">Следующий</A>
<A HREF="NFS-HOWTO-6.html">Предыдущий</A>
<A HREF="NFS-HOWTO.html#toc7">Содержание</A>
</BODY>
</HTML>
