<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE> Text-Terminal-HOWTO : Физическое соединение</TITLE>
 <LINK HREF="Text-Terminal-HOWTO-12.html" REL=next>
 <LINK HREF="Text-Terminal-HOWTO-10.html" REL=previous>
 <LINK HREF="Text-Terminal-HOWTO.html#toc11" REL=contents>
</HEAD>
<BODY>
<A HREF="Text-Terminal-HOWTO-12.html">Next</A>
<A HREF="Text-Terminal-HOWTO-10.html">Previous</A>
<A HREF="Text-Terminal-HOWTO.html#toc11">Contents</A>
<HR>
<H2><A NAME="s11">11. Физическое соединение</A> </H2>

<P>Терминал может быть соединен с главным компьютером или прямым кабельным 
соединением, через модем или терминальный сервер.
<P>
<P>
<H2><A NAME="ss11.1">11.1 Прямое кабельное соединение.</A>
 </H2>

<P>Самый простой и самый дешевый способ соединить терминал с главным компьютером - 
через прямое соединение с последовательным портом на компьютере. На большинстве 
PC установлено два последовательных порта, но один из них обычно занят мышью.
<P>Для порта EIA-232 вам нужен нльмодемный кабель, с перекрестными передаваемыми 
и приемными проводами. Вывод 2 на одном конце соединен с выводом 3 на другом 
конце. Если вы хотите выключить аппаратное управление потоком данных, то вы 
должны выяснить, какие выводы терминала для этого используются, поскольку 
различные модели терминалов используют различные вывода. Диаграммы в Serial-
HOWTO 7.1 не будут работать для аппаратного управления потоком данных, если 
вывод RTS терминала не используется для управления потоком данных. Это редко 
бывает ??
<P>
<P>
<H3>Многопортовые платы ввода-вывода (адаптеры) </H3>

<P>Можно дополнительно приобрести последовательные платы, которые несут несколько 
последовательных портов, называемые "многопортовые платы" (см. Serial-HOWTO 2.3 
и 2.4).
<P>Одна из компаний, которая имеет цены ниже средних - ByteRunner 
<A HREF="http://www.byterunner.com/cgi-bin/goto.cgi?file=iocards.html">http://www.byterunner.com/cgi-bin/goto.cgi?file=iocards.html</A>. Для некоторых 
других марок см. Computer ESP 
<A HREF="http://www.computer.esp.com/INPUT_DEVICES/PARALLEL___SERIAL_ADAPTERS/">http://www.computer.esp.com/INPUT_DEVICES/PARALLEL___SERIAL_ADAPTERS/</A><P>
<P>
<H3>Ограничения по длине </H3>

<P>Кабель более 50 футов или около того не может работать правильно с высокой 
скоростью. Намного более длинные длины иногда работают хорошо, особенно, если 
скорост низкая, и/или кабель - низкоемкостной специального типа и/или 
электроника приемника более чувствительна. При идеальных условиях на 9600 бод,
1000 футовый кабель работает хорошо. Один из способов покрывать длинные 
расстояния состоит в том, чтобы установить 2 драйвера линии возле каждого 
последовательного порта, чтобы преобразовать несбалансированный в 
сбалансированный (и наоборот) и затем использовать витую пару.
<P>
<P>
<H3>Тип кабеля </H3>

<P>Если вы собираетесь использовать аппаратное управление потоком данных 
(подтверждение связи), то вероятно вы будете должны соорудить ваш собственный 
кабель (или переделать готовый). вы должны будете определить, какие штырьки 
для чего использует терминал и спаять совместимый кабель. См. ``Аппаратное 
управление потоком данных". Старые терминалы не могут иметь средств аппаратного
управления потоком данных.
<P>Если вы не используете аппаратное управление потоком данных, готовый кабель 
может работать хорошо (если вы сможете найти достаточно длинный). Нульмодемный 
кабель часто помечен как кабель принтера с "null modem" in fine print. В этих 
кабелях некоторые пары проводов "перекрещены" (= переключены, или пересечены, 
провода. Например, штырек 2 на одном конце идет к штырьку 3 на другом конце, но
не все штырьки "перекрещены". Много готовых нульмодемных кабелей имеют 
перекрещенные RTS и CTS (штырьки 4 и 5), но терминал вероятно использует не эти
штырьки для аппаратного управления потоком данных.
<P>Обычный "неперекрестный" кабель не будет работать, если только вы не 
используете его как удлинитель или вместе с нульмодемным кабелем или 
нульмодемным адаптером (двусторонним соединителем), чтобы получить эффект 
пересечения. Удостоверьтесь, что соединители на кабельных концах совместимы с 
соединителями на аппаратуре. Большинство принтерных кабелей использует 
соединитель centronics на принтерном конец, который не будет соединяться с 
терминалами. Можно использовать телефонный витопарный кабель. Экранированный, 
специальный низкоемкостной кабель лучше всего подходит.
<P>
<H3>A Kludge using Twisted-Pair Cable </H3>

<P>Хотя ни один из сигналов EIA-232 не рассчитан на витую пару,  можно 
попытаться использовать кабель витой пары. Используйте одну пару для 
передачи, а другую для приема. Сделать это можно, подсоединив "землю" к 
одному из проводов каждой из этих 2 пар. Only part of the signal ground 
current flows in the desired wire but it may help.  Due to the lower inductance 
of the twisted pair circuit, more return (ground) current will confine itself 
to the desired path than one would expect from only resistance calculations.  
Это особенно относится к высоким частотам, так как индуктиваное сопротивление
растет с частотой. Прямоугольная волна на последовательном порту содержит 
высокочастотные гармоники.
<P>
<P>
<H3>Заземление кабеля </H3>

<P>Штырек 1 должен быть землей (и заземлен), но на дешевых последовательных портах,
он может даже не быть соединен с чем-нибудь. Сигнальная земля - штырек 7, и 
обычно он заземлен на блок. Это означает, что часть сигнала несущей будет течь 
по проводам "земли" общего монтажа (нежелательно). Кабельные экраны, как 
предполагается, будут заземлены только на одном конце кабеля, но может быть 
лучше заземлить оба конца, так как лучше иметь ток в экране, чем на монтаже ??
<P>
<P>
<H2><A NAME="ss11.2">11.2 Модемное соединение  </A>
</H2>

<P>При использовании комбинации модем-терминал (без компьютера) можно соединяться с 
BBS. Некоторые BBS (свободные сети) разрешают доступ к Интернет через текстовый 
браузер lynx, который может работать на текстовых терминалах.
<P>Таким образом с помощью старого терминала и внешнего модема можно соединяться с 
Интернет. Если соединяться с главным компьютером, на котором имеется аккаунт, то 
можно иногда сохранять работу (или скачанную информацию) на главном компьютере. 
Конечно проще это делать на компьютере, эмулирующем терминал, используя 
программу связи типа minicom.
<P>
<P>
<H3>Звонок с терминала </H3>

<P>Вместо того, чтобы подключать терминал (или компьютер, эмулирующий терминал) 
непосредственно к главному компьютеру, используя кабель, это можно сделать через 
телефонную линию (или выделенную линию) с модемами на каждом конце провода. 
Терминал (или компьютер) будет обычно звонить по телефонной линии на главный 
компьютер.
<P>Этот исходящий звонок обычно делается с помощью PC с модемом, чтобы позвонить на 
BBS или ISP, когда PC эмулирует терминал при установлении соединения. Если вы 
для этого используете реальный терминал, это более трудно, так как реальный 
терминал не очень интеллектуален и не дает такой функциональной обратной связи с 
пользователем. Для исходящего звонка, многие терминалы могут сохранять один или 
большее количество телефонных номеров как сообщения, которые могут быть 
"установлены" в них и посланы на модем нажатием некоторых функциональных клавиш.
<P>Многие модемы также могут сохранять телефонные номера. Номеру телефона должна 
предшествовать последовательность команд инициализации. Главный компьютер может 
использовать "mgetty" (getty для использования с модемами) чтобы регистрировать 
в системе того, кто звонит на главную ЭВМ.
<P>
<P>
<H3>Прием звонков на терминал </H3>

<P>Менее обычная ситуация - главный компьютер звонит на терминал. Одна из возможных 
причин для этого состоит в том, чтобы сохранить на счетах телефона, где скорости 
- не симметричные. Чтобы осуществить это, модем на вашем терминале должен быть 
установлен на автоматический ответ (Если в регистре S0 записано число 2, то 
модем ответит на 2-й гудок). вы включаете терминал и модем прежде, чем, как вы 
ожидаете, произойдет обращение и когда обращение приходит, вы получаете 
подсказку входа в систему и регистрируетесь.
<P>Главный компьютер, который звонит на ваш терминал, может это сделать,  выполняя 
программу Linux "callback" (не очень широко распространенную), иногда называемую 
"cb". Повторный вызов - это когда на компьютер А звонит  компьютер B, затем B 
бросает трубку и компьютер А звонит обратно. Это - то, что вам нужно, если вы 
для эмуляции терминала используете компьютер. В случае реального терминала это 
может быть слишком сложной задачей, так что главная ЭВМ может использовать 
только "обратную" часть программы callback. Файл установки для callback должен 
быть правильно сконфигурирован на главной ЭВМ. callback звонит на терминал и 
затем mgetty выполняет вход в систему на этом порту. Mgetty сам по себе (с 
начала 1998 г.) служит только для входных звонков, но ведется работа по 
включения в него возможности повторного вызова и таким образом он сможет делать 
исходящие звонки. К тому времени как вы прочитаете это, mgetty может быть имеет 
все, в чем вы нуждаетесь.
<P>
<P>
<H3>Команды модема </H3>

<P>До июня 1997 года в Интернете не было никаких детальных списков команд для 
большинства модемов. Однако Hayes 
<A HREF="http://www.hayes.com/support/techref/">http://www.hayes.com/support/techref/</A>
опубликовал список команд и множество предложенных строк инициализации. Эти init 
строки - возможно не самые лучшие для терминалов, когда посылка информации от 
терминала идет очень медленно, со скоростью набора текста, но принимать сигналы 
требуется с максимально возможной скоростью ??
<P>
<P>
<H2><A NAME="ss11.3">11.3 Соединение с терминальным сервером</A>
 </H2>

<P>Терминальный сервер - нечто вроде интеллектуального переключателя, который может 
соединять несколько терминалов (или модемов) с одним или больше компьютером. Это 
не механический переключатель, так что он может изменять скорости и протоколы 
передачи данных, которые идут через него.
<P>Он используется для того, чтобы подсоединить несколько терминалов (или модемов) 
к высокоскоростной сети, которая соединяется с главными компьютерами. Конечно 
сервер терминала должен иметь вычислительную мощность и программное обеспечение, 
чтобы работать с сетевыми протоколами, так что он немного похож на компьютер. 
терминальный сервер может взаимодействовать с пользователем и спрашивать, какой 
компьютер подсоединить, и т.д. Можно иногда посылать задания на принтер через 
терминальный сервер.
<P>PC сегодня имеет достаточную вычислительную мощность, чтобы работать в качестве 
терминального сервера для текстовых терминалов за исключением того, что каждый 
последовательный порт должен иметь собственное аппаратное прерывание. PC для 
этой цели имеет только несколько запасных прерываний и так как они аппаратные, 
вы не можете увеличить их число с помощью программного обеспечения. Решение 
состоит в том, чтобы использовать многопортовую последовательную плату, которая 
имеет собственную систему прерываний.
<P>Сегодня реальные терминальные серверы обслуживают не только терминалы. Они также 
обслуживают PC, которые эмулируют терминалы, и иногда соединяются с  модемными 
пуллами, соединенными с телефонными линиями. Если терминал соединен 
непосредственно с модемом, модем на другом конце линии мог бы быть соединен с 
терминальным сервером. В некоторых случаях терминальный сервер по умолчанию 
ожидает, что абоненты используют PPP пакеты, нечто, что текстовые терминалы не 
посылают.
<P>
<P>
<H2><A NAME="ss11.4">11.4 Создание или изменение кабеля</A>
 </H2>

<P>
<H3>Купить или сделать? </H3>

<P>Если вам нужны длинные кабеля, чтобы соединить терминалы, как вы их получаете? 
Готовые длинные кабели вероятно трудно найти, особенно, если вы хотите 
использовать минимум (скажем) 4 проводника. Одна из возможностей получения - 
заказать их, что вероятно, будет довольно дорого, хотя вы могли бы найти кого-
то, кто делает их по ценам не слишком выше, чем готовый кабель (я их делал). 
Другой вариант - сделать ваш собственный кабель.
<P>Могут потребоваться специальные инструменты. Если вы можете найти их, 
использовать кабель может быть выгоднее, но вам вероятно нужно будет перепаять
разъемы.
<P>Одно преимущество создания вашего собственного кабеля - то, что знания, которые 
вы приобретаете, пригодятся если кабель порвется (или испортится) или если вам 
надо срочно спаять другой кабель.
<P>
<P>
<H3>Разъемы и вывода </H3>

<P>К сожалению, большинство кабелей сегодня имеют литые соединители на каждом конце 
и не могут быть изменены. Другие имеют соединители, которые отвинчиваются и 
могут быть перепаяны. Если вы делаете свой кабель или изменяете существующий, 
тогда вы должны знать о выводах. Имеются два типа: паянные и обжатые.
<P>Для обжатия выводов требуется специальный инструмент и кроме этого требуется
инструмент для "вставки/вынимания". Но при помощи этих инструментов вы
можете делать и изменять кабели гораздо быстрее, чем при помощи пайки. Чтобы
вставить вывода, просто втолкните их с помощью инструмента. Удаление вывода с
помощью инструмента требует некоторых хитростей. Вы должны поместить щуп
инструмента позади вывода.  One tool tip requires spreading a little to 
get it over the wire but for this tip the pin should be easier to remove.  
Затем мягким толчком сдвиньте провод и инструмент. Если не вышло,
значит инструмент был неправильно вставлен или вы должны использовать другой 
щуп инструмента. Используя этот инструмент можно легко преобразовать обычный кабель в 
нуль-модемный, итд.
<P>Не пробуйте паять, если не знаете, что вы делаете, или не прочитали, как это 
делается.
<P>
<P>
<HR>
<A HREF="Text-Terminal-HOWTO-12.html">Next</A>
<A HREF="Text-Terminal-HOWTO-10.html">Previous</A>
<A HREF="Text-Terminal-HOWTO.html#toc11">Contents</A>
</BODY>
</HTML>
