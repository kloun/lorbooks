<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>Vim Color Editor HOW-TO (Vi Улучшенный с цветной подсветкой синтаксиса) : Справочник по командам vi </TITLE>
 <LINK HREF="Vim-11.html" REL=next>
 <LINK HREF="Vim-9.html" REL=previous>
 <LINK HREF="Vim.html#toc10" REL=contents>
</HEAD>
<BODY>
<A HREF="Vim-11.html">Next</A>
<A HREF="Vim-9.html">Previous</A>
<A HREF="Vim.html#toc10">Contents</A>
<HR>
<H2><A NAME="vimref"></A> <A NAME="s10">10. Справочник по командам vi </A></H2>

<P>
<H2><A NAME="ss10.1">10.1 Режимы Vi </A>
</H2>

<P>Vi имеет 3 режима:
<OL>
<LI> <B><I>командный режим</I></B> - Включается при запуске vi; для перехода в командный режим из других режимов (используйте <B>ESC</B>)</LI>
<LI> <B><I>режим ввода</I></B> - активируется специальными командами <B>a i A I o O c C s S R </B> и выключается при помощи <B>ESC</B> или в случае ошибки.</LI>
<LI> <B><I>линейный режим</I></B> - т.е. ожидание ввода команд после нажатия <B>: </B>, <B>/ </B>, <B>? </B>или <B>! </B> 
(выключается с <B>CR</B>, обрывается с помощью <B>CTRL-c</B>). <B>CTRL</B> это клавиша control: <B>CTRL-c</B> означает "control c"</LI>
</OL>
<H2><A NAME="ss10.2">10.2 Команды Shell </A>
</H2>

<P>
<OL>
<LI> <B>TERM=</B> <I>code</I> Помещает имя вашего терминала в переменную <B>TERM</B></LI>
<LI> <B>export TERM</B> Передаёт значение переменной <B>TERM</B> (код терминала) любой программе в UNIX системе.</LI>
<LI> <B>tput init</B> Инициализирует терминал таким образом, чтобы он функционировал правильно с различными UNIX программами.</LI>
<LI> <B>vi </B> <I>filename</I> Запускает <B>vi</B> и загружает на редактирование указанный файл.</LI>
<LI> <B>vi </B> <I>file1 file2 file3</I> Записывает в буфер  <B>vi</B> три файла для последующего их редактирования. Эти файлы <I>file1, file2,</I> и <I>file3</I>.</LI>
<LI> <B>view </B> <I>file</I> Загружает файл <I>file</I> в режиме только-для-чтения.</LI>
<LI> <B>vi -R </B> <I>file</I> Аналогично преведущей команде.</LI>
<LI> <B>vi -r </B> <I>file</I> Восстанавливает <I>file</I> и последние изменения после краха системы.</LI>
</OL>
<H2><A NAME="ss10.3">10.3 Установка параметров </A>
</H2>

<P>
<OL>
<LI> <B>:set</B> <I>опция</I> Активизирует <I>опцию</I></LI>
<LI> <B>:set</B> <I>опция=значение</I> Назначает <I>значение</I> для <I>опции</I></LI>
<LI> <B>:set no</B> <I>опция</I> Деактивирует <I>опцию</I></LI>
<LI> <B>:set </B> Показывает опции установленные пользователем.</LI>
<LI> <B>:set all</B> Показывает все опции, как установленные пользователем, так и опции
"по умолчанию".</LI>
<LI> <B>:set </B> <I>опцию</I>? Показывает значение <I>опции</I></LI>
</OL>
<H2><A NAME="ss10.4">10.4 Используемые обозначения </A>
</H2>

<P>
<OL>
<LI> <B>CTRL-c</B> <B>CTRL</B> Это клавиша control: <B>CTRL-c</B> означает "control c"</LI>
<LI> <B>CR</B> символ возврата каретки (клавиша ENTER)</LI>
</OL>
<H2><A NAME="ss10.5">10.5 Обрывание и отмена</A>
</H2>

<P>
<UL>
<LI> <B>ESC</B> Обрывает ввод неправильно или неполностью введенной команды </LI>
<LI> <B>CTRL-?</B> <B>CTRL</B> это клавиша control : <B>CTRL-?</B> означает "control ?" 
удаляет или стирает прерывание.</LI>
<LI> <B>CTRL-l</B> обновляет экран если CTRL-? замусорила его.</LI>
</UL>
<H2><A NAME="ss10.6">10.6 Манипуляции с файлами</A>
</H2>

<P>
<UL>
<LI> <B>ZZ</B> Сохраняет файл и выходит из vi</LI>
<LI> <B>:wq</B> Сохраняет файл и выходит из vi</LI>
<LI> <B>:w</B> Записывает файл</LI>
<LI> <B>:w!</B> Записывает файл даже если он защищен от записи</LI>
<LI> <B>:w<I>имя</I></B> Записывает файл по именем <I>имя</I></LI>
<LI> <B>:q</B> Выходит из vi</LI>
<LI> <B>:q!</B> Выходит из vi (независимо от того были ли внесены изменения)</LI>
<LI> <B>:e имя</B> Загружает для редактирования файл под именем <I>имя</I></LI>
<LI> <B>:e!</B> Перезагрузить файл,стирая любые изменения которые были внесены</LI>
<LI> <B>:e + name</B> Загружает для редактирования файл под именем <I>имя</I>, начиная с конца.</LI>
<LI> <B>:e + n</B> Начинает редактирование со строки номер <I>n</I></LI>
<LI> <B>:e #</B> Редактирует альтернативный файл</LI>
<LI> <B>:n</B> Редактирует следующий файл в списке файлов</LI>
<LI> <B>:args</B> Показывает файлы в текущем списке файлов</LI>
<LI> <B>:rew</B> Обновить текущий список файлов и начать редактировать первый файл.</LI>
<LI> <B>:n args</B> Указать новый список файлов</LI>
<LI> <B>:f </B> Показывает имя текущего файла и номер строки</LI>
<LI> <B>CTRL-G</B> Синоним для :f </LI>
<LI> <B>:ta tag </B> to tag file entry <I>tag</I></LI>
<LI> <B>CTRL-] </B> :ta, следующее слово - тэг</LI>
</UL>
<H2><A NAME="ss10.7">10.7 Перемещение</A>
</H2>

<P>
<UL>
<LI> <B>Arrows</B> Перемещают курсор</LI>
<LI> <B>CTRL-d</B> Скроллирует полстраницы вниз</LI>
<LI> <B>CTRL-u</B> Скроллирует полстраницы вверх</LI>
<LI> <B>CTRL-f</B> Скроллирует целую страницу вниз</LI>
<LI> <B>CTRL-b</B> Скроллирует целую страницу вверх</LI>
<LI> <B>:0</B> Переходит к началу файла</LI>
<LI> <B>:n</B> Переходит к строке номер n</LI>
<LI> <B>:$</B> Переходит к концу файла </LI>
<LI> <B>0</B> Переходит к началу строки</LI>
<LI> <B>^</B> Переходит к первому символу, не пробелу</LI>
<LI> <B>$</B> Переходит к концу строки</LI>
<LI> <B>CR</B> Переходит к началу следующей строки</LI>
<LI> <B>-</B> Переходит к началу преведущей строки</LI>
<LI> <B>%</B> Находит соответствующую скобку</LI>
<LI> <B>G </B> Переходит к строке (по умолчанию - к последней строке)</LI>
<LI> <B>]] </B> Следующая секция/функция</LI>
<LI> <B>[[ </B> Преведущая секция/функция</LI>
</UL>
<H2><A NAME="ss10.8">10.8 Позиционирование по строкам</A>
</H2>

<P>
<UL>
<LI> <B>H </B> Первая строка экрана</LI>
<LI> <B>L </B> Последняя строка экрана
</LI>
<LI> <B>M </B> Средняя строка экрана</LI>
<LI> <B>+ </B> Следующая строка, первый символ не являющийся пробелом</LI>
<LI> <B>- </B> Предшествующая строка, первый символ не являющийся пробелом</LI>
<LI> <B>CR </B> возврат, тоже что и  +</LI>
<LI> <B>j </B> Следующая строка, таже колонка</LI>
<LI> <B>k </B> Преведущая строка, таже колонка</LI>
</UL>
<H2><A NAME="ss10.9">10.9 Позиционирование по символам</A>
</H2>

<P>
<UL>
<LI> <B>0 </B> Начало строки</LI>
<LI> <B>$ </B> Конец строки</LI>
<LI> <B>h </B> Вперед </LI>
<LI> <B>l </B> Назад </LI>
<LI> <B>SPACE </B> Тоже что и l </LI>
<LI> <B>fx </B> Найти x вперед по тексту</LI>
<LI> <B>Fx </B> Найти x назад по тексту</LI>
<LI> <B>; </B> Повторить последнюю операцию f F</LI>
<LI> <B>, </B> Инверсно ;</LI>
<LI> <B>| </B> К специфицированной колонке</LI>
<LI> <B>% </B> Найти соответствующий символ { или }</LI>
</UL>
<H2><A NAME="ss10.10">10.10 Слова, предложения параграфы</A>
</H2>

<P>
<UL>
<LI> <B>w </B> Слово вперед</LI>
<LI> <B>b </B> Слово назад</LI>
<LI> <B>e </B> Конец слова</LI>
<LI> <B>) </B> К следующему предложению </LI>
<LI> <B>( </B> К преведущему предложению </LI>
<LI> <B>} </B> К следующему параграфу </LI>
<LI> <B>{ </B> К преведущему параграфу </LI>
<LI> <B>W </B> К концу большого слова, включая пробел на его конце </LI>
<LI> <B>B </B> Назад на большое слово W</LI>
<LI> <B>E </B> К концу большого слова W</LI>
</UL>
<H2><A NAME="ss10.11">10.11 Установка отметок и возврат к ним</A>
</H2>

<P>
<UL>
<LI> <B>``</B> (дважды нажмите клавишу `) К преведущей отметки</LI>
<LI> <B>''</B> (press twice the single-quote ` key) Последняя отметка, первый не пробел в строке</LI>
<LI> <B>mx</B> Установка отметки с именем x</LI>
<LI> <B>`x</B> (обратная кавычка и x) перейти к отметке x</LI>
<LI> <B>'x</B> Перейти к отметке x, на первый не пробел в строке </LI>
</UL>
<H2><A NAME="ss10.12">10.12 Коррекция во время ввода текста</A>
</H2>

<P>
<UL>
<LI> <B>CTRL-h</B> Удаляет последний символ</LI>
<LI> <B>CTRL-w</B> Удаляет последнее слово</LI>
<LI> <B>erase </B> Нажмите DELETE, тоже что и CTRL-h</LI>
<LI> <B>kill </B> Ваша клавиша kill, стирает ввод сделанный на этой строке</LI>
<LI> <B>\ </B> Экранирует CTRL-h, DELETE и kill</LI>
<LI> <B>ESC </B> Окончить ввод, назад в командный режим</LI>
<LI> <B>CTRL-? </B> Прервать, терминирует ввод</LI>
<LI> <B>CTRL-d </B> Обратная табуляции на <I>autoindent</I> пробелов</LI>
<LI> <B>CTRL-v </B> Экранирует непечатный символ</LI>
</UL>
<H2><A NAME="ss10.13">10.13 Обновления экрана</A>
</H2>

<P>
<UL>
<LI> <B>CTRL-l</B> Очистить и перерисовать</LI>
<LI> <B>CTRL-r</B> перенабор, убирает @строки</LI>
<LI> <B>z-CR</B> перерисовать, текущую строку на вершине окна</LI>
<LI> <B>z-</B> перерисовать, текущую строку на краю окна</LI>
<LI> <B>z.</B> перерисовать, текущую строку в центре экрана</LI>
<LI> <B>/pat/z-</B> <I>сгладить</I> край строки</LI>
<LI> <B>tn</B> Использовать экран с строкой n</LI>
<LI> <B>CTRL-e</B> Скроллировать окно вниз на 1 строку</LI>
<LI> <B>CTRL-y</B> Скроллировать окно вверх на 1 строку</LI>
</UL>
<H2><A NAME="ss10.14">10.14 Удаление</A>
</H2>

<P>
<UL>
<LI> <B>x</B> Удаляет символ под курсором</LI>
<LI> <B>X</B> Удаляет символ перед курсором</LI>
<LI> <B>D</B> Удаляет до конца строки</LI>
<LI> <B>d^</B> Удаляет до начала строки</LI>
<LI> <B>dd</B> Удаляет текущую строку</LI>
<LI> <B>ndd</B> Удаляет <I>n</I> строк начиная с текущей</LI>
<LI> <B>dnw</B> Удаляет <I>n</I> слов начиная с положения курсора</LI>
</UL>
<H2><A NAME="ss10.15">10.15 Вставка, замена</A>
</H2>

<P>
<UL>
<LI> <B>i</B> Входит в режим вставки (с вставкой перед курсором)</LI>
<LI> <B>I</B> Входит в режим вставки (перед первым не пробелом)</LI>
<LI> <B>a</B> Входит в режим вставки (вставка после курсора)</LI>
<LI> <B>A</B> Входит режим вставки (вставка после конца текущей строки)</LI>
<LI> <B>o</B> Создать новую строку после текущей и перейти в режим вставки</LI>
<LI> <B>O</B> Создает новую строку перед текущей и входит в режим вставки</LI>
<LI> <B>r</B> Заменить символ под курсором не переходя в режим вставки</LI>
<LI> <B>R</B> Войти в режим замены</LI>
<LI> <B>C</B> shift-c. Изменить остаток строки</LI>
<LI> <B>D</B> shift-d. Удалить остаток строки</LI>
<LI> <B>s</B> Заменить символы</LI>
<LI> <B>S</B> Заменить строки</LI>
<LI> <B>J</B> Объединить строки</LI>
</UL>
<H2><A NAME="ss10.16">10.16 Копирование и вставка</A>
</H2>

<P>"Буфер копирования" заполняется <I>КАЖДОЙ</I> командой удаления,или с помощью
<B>Y</B> и <B>yy</B>.
<UL>
<LI> <B>Y</B> Копирует текущую строку в буфер </LI>
<LI> <B><I>n</I>yy</B> Копирует <I>n</I> строк начиная с текущей в буфер копирования</LI>
<LI> <B>p</B> Вставляет содержимое буфера копирования после курсора (или перед текущей строкой)</LI>
<LI> <B>P</B> Вставляет содержимое буфера обмена перед курсором (или перед текущей строкой)</LI>
<LI> <B>"<I>x</I>p </B> Вставить из буфера x </LI>
<LI> <B>"<I>x</I>y </B> Скопировать в буфер x</LI>
<LI> <B>"<I>x</I>d </B> Удалить в буфер x</LI>
</UL>
<H2><A NAME="ss10.17">10.17 Операции (для применения к строкам вводятся дважды)</A>
</H2>

<P>
<UL>
<LI> <B>d </B> удалить</LI>
<LI> <B>c </B> изменить</LI>
<LI> <B>&lt; </B> сдвинуть влево</LI>
<LI> <B>> </B> сдвинуть вправо</LI>
<LI> <B>! </B> отфильтровать через команду</LI>
<LI> <B>= </B> отдать для LISP</LI>
<LI> <B>y </B> скопировать текст в буфер</LI>
</UL>
<H2><A NAME="ss10.18">10.18 Поиск и замена</A>
</H2>

<P>
<UL>
<LI> <B>/<I>text</I></B> Искать вперед образец <I>text</I></LI>
<LI> <B>?<I>text</I></B> Искать назад образец <I>text</I></LI>
<LI> <B>n</B> Повторить последний поиск в том же направлении</LI>
<LI> <B>N</B> Повторить последний поиск в обратном направлении</LI>
<LI> <B>/</B> Повторить последний поиск вперед</LI>
<LI> <B>?</B> Повторить последний поиск назад</LI>
<LI> <B>[ addr ] s/from/to/ [ g ] </B> Искать <I>from</I>
и заменить его на <B><I>to</I></B> в текущей строке, или в указанном диапазоне
<B><I>addr</I></B> (два номера строки разделенные командой; 1,$ весь файл).
Заменить одно совпадение на строку либо все совпадения
если <B><I>g</I></B> указано.
Например, :3,20s/someword/anotherword/g.  Заменит "someword" на "anotherword" начиная от строки номер 3 до строки 20. 'g' - означает замену всех совпадений.</LI>
</UL>
<H2><A NAME="ss10.19">10.19 Общие</A>
</H2>

<P>
<UL>
<LI> <B>:sh</B> Вызывает shell (выход по CTRL-d)</LI>
<LI> <B>:!<I>команда</I></B> Вызывает shell для исполнения <I>команды</I></LI>
<LI> <B>:set number</B> Включает нумерацию строк</LI>
<LI> <B>:set nonumber</B> Выключает нумерацию строк</LI>
</UL>
<H2><A NAME="ss10.20">10.20 Команды линейного редактора</A>
</H2>

<P>
<UL>
<LI> <B>:</B> Говорит <B>vi</B> что следующая введенная команда является командой линейного редактора.</LI>
<LI> <B>:sh</B> Временный выход в shell чтобы исполнить какие либо команды не покидая <B>vi</B>.</LI>
<LI> <B>CTRL-d</B> Выходит из shell запущенного преведущей командой в <B>vi</B>.</LI>
<LI> <B>:</B><I>n</I> Переходит к строке номер <I>n</I>th текущего буфера.</LI>
<LI> <B>:</B><I>x,z</I><B>w</B> <I>filename</I> Записывает строки от <I>x</I> до <I>z</I> в новый файл называемый <I>filename</I>.</LI>
<LI> <B>:$</B> Передвигает курсор к началу последней строки буфера.</LI>
<LI> <B>:.,$d</B> Удаляет все строки от текущей до последней.</LI>
<LI> <B>:r</B> <I>filename</I> Вставляет содержимое файла <I>filename</I> после текущей строки буфера.</LI>
<LI> <B>:s</B><I>/text/new_text/</I> Заменяет первый встреченный образец <I>text</I> на текущей строке на <I>new_text</I></LI>
<LI> <B>:s</B><I>/text/new_text/g</I> Заменяет все образцы <I>text</I> на текущей строке на <I>new_text</I></LI>
<LI> <B>:g</B><I>/text/s//new_text/g</I> Заменяет все встреченный в буфере образцы <I>text</I> на <I>new_text</I>.</LI>
</UL>
<H2><A NAME="ss10.21">10.21 Другие команды</A>
</H2>

<P>
<UL>
<LI> <B>u</B> Отменить последнее изменение</LI>
<LI> <B>U</B> Восстановить текущую строку</LI>
<LI> <B>~</B> Изменить регистр</LI>
<LI> <B>J</B> Соединить текущую строку со следующей</LI>
<LI> <B>.</B> Повторить последнюю команду изменения текста</LI>
<LI> <B>CTRL-g</B> Показать имя файла и номер строки</LI>
</UL>
<HR>
<A HREF="Vim-11.html">Next</A>
<A HREF="Vim-9.html">Previous</A>
<A HREF="Vim.html#toc10">Contents</A>
</BODY>
</HTML>
