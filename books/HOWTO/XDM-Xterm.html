<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML
><HEAD
><TITLE
>"Мини-HOWTO: XDM и X-терминалы"</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.57"></HEAD
><BODY
CLASS="ARTICLE"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="ARTICLE"
><DIV
CLASS="TITLEPAGE"
><H1
CLASS="TITLE"
><A
NAME="AEN2"
>"Мини-HOWTO: XDM и X-терминалы"</A
></H1
><DIV
CLASS="AUTHORGROUP"
><A
NAME="AEN4"
></A
><H3
CLASS="AUTHOR"
><A
NAME="AEN5"
>Kevin Taylor</A
></H3
><DIV
CLASS="AFFILIATION"
><DIV
CLASS="ADDRESS"
><P
CLASS="ADDRESS"
>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;kevin@northants.lug.org.uk<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</P
></DIV
></DIV
><H3
CLASS="CORPAUTHOR"
>    Перевод: <A
HREF="mailto:sam@asp-linux.com"
TARGET="_top"
>Станислав Рогин</A
>,
    <A
HREF="http://www.asplinux.com"
TARGET="_top"
>SWSoft Pte Ltd.</A
>
  </H3
></DIV
><DIV
CLASS="REVHISTORY"
><TABLE
WIDTH="100%"
BORDER="0"
><TR
><TH
ALIGN="LEFT"
VALIGN="TOP"
COLSPAN="3"
><B
>История изменений</B
></TH
></TR
><TR
><TD
ALIGN="LEFT"
>Издание версия 0.03</TD
><TD
ALIGN="LEFT"
>3 Июля 2000</TD
><TD
ALIGN="LEFT"
>Под редакцией: kt</TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
>Небольшие изменения, связанные с первыми отзывами</TD
></TR
><TR
><TD
ALIGN="LEFT"
>Издание версия 0.02</TD
><TD
ALIGN="LEFT"
>28 Июня 2000</TD
><TD
ALIGN="LEFT"
>Под редакцией: kt</TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
>Первый исходный текст в формате SGML, полученный из HTML</TD
></TR
><TR
><TD
ALIGN="LEFT"
>Издание версия 0.01</TD
><TD
ALIGN="LEFT"
>27 Июня 2000</TD
><TD
ALIGN="LEFT"
>Под редакцией: kt</TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
>Первый исходный текст в формате HTML</TD
></TR
></TABLE
></DIV
><DIV
><DIV
CLASS="ABSTRACT"
><A
NAME="AEN30"
></A
><P
></P
><P
>     В этом документе описываются базовые идеи использования XDM для
     управления X-терминалами. Этот текст является не полным описанием
     всех возможностей XDM, а всего лишь введением в основы того, что
     XDM может делать с X-терминалами.
    </P
><P
>     Более подробное описание установки и настройки X-терминалов вы найдете
     в "HOWTO: Thin-Client" из Проекта Документирования Linux
     (Linux Documentation Project, см.<A
HREF="XDM-Xterm.html#RESOURCES"
>Разд. 6</A
>).
    </P
><P
></P
></DIV
></DIV
><HR></DIV
><DIV
CLASS="TOC"
><DL
><DT
><B
>Содержание</B
></DT
><DT
>1. <A
HREF="XDM-Xterm.html#INTRO"
>Введение</A
></DT
><DD
><DL
><DT
>1.1. <A
HREF="XDM-Xterm.html#COPYRIGHT"
>Copyright Information</A
></DT
><DT
>1.2. <A
HREF="XDM-Xterm.html#AEN48"
>Авторские права</A
></DT
><DT
>1.3. <A
HREF="XDM-Xterm.html#DISCLAIMER"
>Ответственность</A
></DT
><DT
>1.4. <A
HREF="XDM-Xterm.html#NEWVERSIONS"
>Новые версии</A
></DT
><DT
>1.5. <A
HREF="XDM-Xterm.html#CREDITS"
>Благодарности</A
></DT
><DT
>1.6. <A
HREF="XDM-Xterm.html#FEEDBACK"
>Отзывы</A
></DT
><DT
>1.7. <A
HREF="XDM-Xterm.html#TODO"
>Что еще надо сделать?</A
></DT
></DL
></DD
><DT
>2. <A
HREF="XDM-Xterm.html#BASICS"
>Базовые принципы</A
></DT
><DD
><DL
><DT
>2.1. <A
HREF="XDM-Xterm.html#COVERAGE"
>Что описывается в этом документе?</A
></DT
><DT
>2.2. <A
HREF="XDM-Xterm.html#ABOUT"
>Об этом документе</A
></DT
></DL
></DD
><DT
>3. <A
HREF="XDM-Xterm.html#XDM"
>XDM</A
></DT
><DD
><DL
><DT
>3.1. <A
HREF="XDM-Xterm.html#XDM-WHAT"
>Что такое XDM?</A
></DT
><DT
>3.2. <A
HREF="XDM-Xterm.html#XDM-XTERM"
>Что такое X-терминал</A
></DT
><DT
>3.3. <A
HREF="XDM-Xterm.html#XDM-TERMS"
>Терминология</A
></DT
><DT
>3.4. <A
HREF="XDM-Xterm.html#XDM-DO"
>Что может XDM?</A
></DT
><DD
><DL
><DT
>3.4.1. <A
HREF="XDM-Xterm.html#XSERV-QUERY"
>Запрос X-сервера</A
></DT
><DT
>3.4.2. <A
HREF="XDM-Xterm.html#XDM-SERVER"
>Через XDM-сервер</A
></DT
></DL
></DD
></DL
></DD
><DT
>4. <A
HREF="XDM-Xterm.html#CONFIG"
>Настройка XDM</A
></DT
><DD
><DL
><DT
>4.1. <A
HREF="XDM-Xterm.html#CONFIG-FILES"
>Конфигурационные файлы</A
></DT
><DT
>4.2. <A
HREF="XDM-Xterm.html#XDM-XSERV"
>Настройка XDM для управления X-серверами</A
></DT
><DT
>4.3. <A
HREF="XDM-Xterm.html#XDM-QUERIES"
>Настройка XDM для обработки запросов</A
></DT
><DT
>4.4. <A
HREF="XDM-Xterm.html#XDM-STARTX"
>Запуск X</A
></DT
><DT
>4.5. <A
HREF="XDM-Xterm.html#XDM-CHOOSER"
>Программа Chooser</A
></DT
></DL
></DD
><DT
>5. <A
HREF="XDM-Xterm.html#XDM-ADVCONFIG"
>Дополнительные опции настройки</A
></DT
><DD
><DL
><DT
>5.1. <A
HREF="XDM-Xterm.html#ADV-CONFIGSETS"
>Наборы конфигурационных файлов</A
></DT
></DL
></DD
><DT
>6. <A
HREF="XDM-Xterm.html#RESOURCES"
>Ссылки</A
></DT
></DL
></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="INTRO"
>1. Введение</A
></H1
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="COPYRIGHT"
>1.1. Copyright Information</A
></H2
><P
>    This document is copyrighted (c) 2000 Kevin Taylor and is
    distributed under the terms of the Linux Documentation Project
    (LDP) license, stated below.
   </P
><P
>    Unless otherwise stated, Linux HOWTO documents are
    copyrighted by their respective authors. Linux HOWTO documents may
    be reproduced and distributed in whole or in part, in any medium
    physical or electronic, as long as this copyright notice is
    retained on all copies. Commercial redistribution is allowed and
    encouraged; however, the author would like to be notified of any
    such distributions.
   </P
><P
>    All translations, derivative works, or aggregate works
    incorporating any Linux HOWTO documents must be covered under this
    copyright notice. That is, you may not produce a derivative work
    from a HOWTO and impose additional restrictions on its
    distribution. Exceptions to these rules may be granted under
    certain conditions; please contact the Linux HOWTO coordinator at
    the address given below.
   </P
><P
>    In short, we wish to promote dissemination of this
    information through as many channels as possible. However, we do
    wish to retain copyright on the HOWTO documents, and would like to
    be notified of any plans to redistribute the HOWTOs.
   </P
><P
>    If you have any questions, please contact
    <TT
CLASS="EMAIL"
>&#60;<A
HREF="mailto:linux-howto@metalab.unc.edu"
>linux-howto@metalab.unc.edu</A
>&#62;</TT
>
   </P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="AEN48"
>1.2. Авторские права</A
></H2
><P
>Авторские права на русский перевод этого текста принадлежат &copy; 2000 SWSoft Pte Ltd.
Все права зарезервированы.</P
><P
>Этот документ является частью проекта Linux HOWTO.</P
><P
>Авторские права на документы Linux HOWTO принадлежат их авторам, если явно
не указано иное. Документы Linux HOWTO, а также их переводы, могут
быть воспроизведены и распространены полностью или частично на любом
носителе физическом или электронном, при условии сохранения этой заметки об
авторских правах на всех копиях. Коммерческое распространение разрешается и
поощряется; но так или иначе автор текста и автор перевода желали бы знать о
таких дистрибутивах.</P
><P
>Все переводы и производные работы, выполненные по документам Linux HOWTO
должны сопровождаться этой заметкой об авторских правах. Это делается в
целях предотвращения случаев наложения дополнительных ограничений на
распространение документов HOWTO. Исключения могут составить случаи
получения специального разрешения у координатора Linux HOWTO с которым
можно связаться по адресу приведенному ниже.</P
><P
>Мы бы хотели распространить эту информацию по всем возможным каналам. Но
при этом сохранить авторские права и быть уведомленными о всех планах
распространения HOWTO. Если у вас возникли вопросы, пожалуйста, обратитесь
к координатору проекта Linux HOWTO по электронной почте:
<TT
CLASS="EMAIL"
>&#60;<A
HREF="mailto:linux-howto@metalab.unc.edu"
>linux-howto@metalab.unc.edu</A
>&#62;</TT
>, или к координатору русского
перевода Linux HOWTO компании SWSoft Pte Ltd. по адресу
<TT
CLASS="EMAIL"
>&#60;<A
HREF="mailto:linux-howto@asplinux.ru"
>linux-howto@asplinux.ru</A
>&#62;</TT
></P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="DISCLAIMER"
>1.3. Ответственность</A
></H2
><P
>    Автор не несет никакой ответственности за содержимое этого
    документа. Используйте принципы, примеры и любую другую
    информацию из этого документа на свой страх и риск.
    Перед вами новая редакция этого документа, и по этой причине
    в ней могут быть ошибки или неточности, которые могут нанести
    ущерб вашей системе. Действуйте с осторожностью, и, несмотря на то,
    что автор совершенно не желает вам неприятностей, он все
    же за них никакой ответственности не несет.
   </P
><P
>    Все авторские права и торговые марки принадлежат их уважаемым
    владельцам, если отдельно не указано иное. Использование термина,
    названия или понятия в этом документе никоим образом не влияет на используемость
    торговых или сервисных марок.
   </P
><P
>    Упоминание об отдельных продуктах или торговых марках не должно
    расцениваться как их реклама.
   </P
><P
>    Автор настоятельно рекомендует вам создать полную резервную копию
    системы перед установкой программ, а также создавать регулярно
    эти копии для сохранности ваших данных.
   </P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="NEWVERSIONS"
>1.4. Новые версии</A
></H2
><P
>    Это - исходная версия этого документа.
   </P
><P
>    Самую свежую версию этого документа можно найти по адресу
    <A
HREF="http://www.northants.lug.org.uk/projects/xdm-mini/"
TARGET="_top"
>    The Northants LUG, UK Project Pages
    </A
>.
   </P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="CREDITS"
>1.5. Благодарности</A
></H2
><P
>    Большое спасибо тем, кто помог мне советами и поиском ошибок в 
    этом документе:
   </P
><P
>    Scot W Stevenson за исходную версию Мини-HOWTO: X-терминал,
    (1995), из которого были взяты некоторые советы о расширенных
    настройках xdm-config.
   </P
><P
>    Членам группы пользователей Linux Northants, UK за поиск ошибок в этом документе.
   </P
><P
>    А также тем, кто написал man-страницы XDM, Xserver, а также стандартные скрипты XDM.
   </P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="FEEDBACK"
>1.6. Отзывы</A
></H2
><P
>    Автор приветствует любые отзывы. Этот документ не был бы создан
    без вашего содействия. Пожалуйста, шлите свои дополнения, комментарии
    и критику по электронной почте на адрес: <TT
CLASS="EMAIL"
>&#60;<A
HREF="mailto:xdm-mini@northants.lug.org.uk"
>xdm-mini@northants.lug.org.uk</A
>&#62;</TT
>.
   </P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="TODO"
>1.7. Что еще надо сделать?</A
></H2
><P
>    Возможно, я забыл упомянуть в этом документе о некоторых деталях...
    <P
></P
><UL
><LI
><P
>      Безопасности и схемах аутентификации.
      </P
></LI
><LI
><P
>      Проблем отладки в XDM.
      </P
></LI
><LI
><P
>      Заменах XDM - т.е. KDM и GDM.
      </P
></LI
><LI
><P
>      LBX ?
      </P
></LI
></UL
>
    О чем то еще?
    </P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H1
CLASS="SECT1"
><A
NAME="BASICS"
>2. Базовые принципы</A
></H1
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="COVERAGE"
>2.1. Что описывается в этом документе?</A
></H2
><P
>    В этом документе описываются базовые принципы использования
    XDM (менеджер дисплея X) при его управлени X-терминалом и
    X-серверами, для реализации систем с "тонкими клиентами"
    при помощи Linux.
    </P
><P
>    X (или 'Система X Window') - это одна из лучших оконных графических
    сред для Unix. Одно из главных ее преимуществ состоит в том, что работающие в 
    ней приложения (обозреватель сети, текст-процессор и т.п.)
    и устройства ввода-вывода (графический экран, мышь, клавиатура и т.п)
    связаны при помощи единого сетевого коммуникационного механизма.
    </P
><P
>    Например, это означает, что вы можете запустить программу на одной
    машине, а ввод и вывод переназначить на другую машину, соединенную
    с первой через сеть. Это - ключевая особенность X, которая позволила
    создать X-терминалы.
    </P
><P
>    Этот документ не описывает установку или настройку сети или X в 
    Linux. Для этого обращайтесь к соответствующим документам HOWTO,
    входящим в состав Проекта Документирования Linux. (см. раздел
    <A
HREF="XDM-Xterm.html#RESOURCES"
>Разд. 6</A
>).
    </P
><P
>    Этот документ можно рассматривать как "Начинаем работу с XDM",
    потому что в нем описываются базовые принципы и концепции использования
    XDM и X-терминалов, а также приводятся простые примеры, обеспечивающие
    минимум безопасности.
    </P
><P
>    Автор рекомендует вам обратиться к списку ссылок на другие документы,
    приведенному в конце этого текста. Там вы можете узнать, как
    продолжить настройку вашей системы, установить аутентификацию,
    усилить меры безопасности, так как примеры, приведенные ниже,
    сделаны на минимальном уровне защиты от внешних посягательств.
    </P
><P
>    Заметьте также, что информация, приведенная в этом документе,
    собрана на основе опыта работы с системами Debian 2.1, SuSE 6.4,
    Mandrake 7.0 и RedHat 6.0.
    </P
><P
>    Этот документ не описывает, как установить и настроить Linux для
    поддержки X-терминалов. Описание установки и
    настройки X-терминалов вы найдете в "HOWTO: Thin-Client" из
    Проекта Документирования Linux (Linux Documentation Project,
    см. раздел <A
HREF="XDM-Xterm.html#RESOURCES"
>Разд. 6</A
>).
    </P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="ABOUT"
>2.2. Об этом документе</A
></H2
><P
>    Этот документ появился на свет, потому что мне захотелось
    поэкспериментировать с Linux на 486-ой машине в качестве
    X-терминала моей главной Linux-машины.
    </P
><P
>    После прочтения man, спецификаций, howto и документации,
    касающейся XDM и X-терминалов, я окончательно запутался во
    всем - зачем нужен XDM, что такое XDM-сервера и X-сервера и т.п.
    После этого я экспериментировал целый вечер, после чего и появился
    этот документ.
    </P
><P
>    После того, как я рассортировал базовую терминологию, документация
    к XDM и примеры стали понятны - просто я не мог выяснить, с
    чего начать. Я надеюсь, что этот документ будет простым и понятным
    введением для тех, кто попал в такую же ситуацию.
    </P
><P
>    А, кстати, если вам интересно - 486dx2/66 с 16 Мб ОЗУ может
    быть прекрасным X-терминалом!
    </P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H1
CLASS="SECT1"
><A
NAME="XDM"
>3. XDM</A
></H1
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="XDM-WHAT"
>3.1. Что такое XDM?</A
></H2
><P
>    Если проще, то XDM (X Display Manager) можно представить, как графическую
    замену стандартному входу в систему (login). На самом же деле он
    может значительно больше.
    </P
><P
>    Обычно он запускается пользователем "root" (или скриптами
    загрузки системы) при включении машины, и предлагает пользователю
    графическое приглашение ко входу. После этого он управляет сессией
    работы пользователя с X - он запускает менеджер окон и приложения.
    </P
><P
>    Это можно описать, как "простой вход в локальную систему". Так оно
    и есть по умолчанию во многих известных дистрибутивах Linux. Однако,
    XDM также может работать с удаленными X-серверами, и предоставлять
    приглашение ко входу в систему на удаленнных X-терминалах. Короче
    говоря, он не ограничен локальной машиной - он может управлять
    и другими машинами, подключенными к нему по сети.
    </P
><P
>    XDM - очень мощная утилита, и этот документ лишь немного коснется
    его возможностей. Цель этого документа - донести до вас информацию о
    том, как настроить ваши X-терминалы и серверы приложений так, чтобы
    они могли связаться друг с другом. Более подробную информацию вы
    найдете в главе <A
HREF="XDM-Xterm.html#RESOURCES"
>Разд. 6</A
>.
    </P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="XDM-XTERM"
>3.2. Что такое X-терминал</A
></H2
><P
>    Этот термин применяется во многих случаях, но самый простой вариант -
    это машина, подключенная к сети, у которой есть клавиатура, мышь
    и монитор, и она может запустить систему X windows для связи
    с сервером приложений, находящемся где-то в сети.
    </P
><P
>    Существуют разные конфигурации "X-терминалов" разных уровней -
    начиная от полностью бездисковых терминалов, заканчивая мощными
    X-рабочими станциями.
    </P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="XDM-TERMS"
>3.3. Терминология</A
></H2
><P
>    Перед тем, как мы продолжим, я должен разъяснить вам значение
    некоторых терминов, которые я буду использовать в этом документе.
    При разговорах об X немудрено запутаться в понятиях "сервер",
    "клиент" и т.п.  Это особенно проявляется в случае, если
    вы собираетесь работать с X по сети, используя X-терминалы.
    В этом документе я буду употреблять следующие термины:
    </P
><P
>    <P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
>Бездисковый X-терминал</DT
><DD
><P
>        Это машина без локальных дисков, которая загружается через сеть 
        при помощи сервера. Это значит, что она получает параметры
        сети, операционную систему, ее настройки и все приложения с сервера.
        После загрузки она представляет из себя "простой X-терминал" (см. ниже).
        Обычно эта система использует один  или несколько протоколов удаленной
        загрузки: BOOTP, DHCP, TFTP и т.п. Подробнее о бездисковых станциях читайте
        в документах, перечисленных в главе <A
HREF="XDM-Xterm.html#RESOURCES"
>Разд. 6</A
>.
        </P
></DD
><DT
>Простой X-терминал</DT
><DD
><P
>        Это машина, которая загружает операционную систему с локального
        диска, после этого запускает "X-сервер" и все. Далее каким-то образом
        на экране должно появиться приглашение ко входу в сервер приложений,
        который находится в другом месте сети.
        </P
></DD
><DT
>Рабочая станция X</DT
><DD
><P
>        Она аналогична простому X-терминалу, за исключением того, что в ней
        можно войти в саму локальную машину, чтобы при необходимости
        у пользователя была возможность работы при отсутствии сети.
        </P
></DD
><DT
>Сервер приложений</DT
><DD
><P
>        В этом документе, я буду называть "сервером приложением" машину,
        на которой работает X-сессия и X-приложения (на ней может не быть
        графической консоли, приглашения ко входу, и, возможно, экрана
        и клавиатуры вообще).
        </P
></DD
><DT
>X-Сервер</DT
><DD
><P
>        Это машина с физической консолью (дисплей, клавиатура, мышь и т.п.),
        которая может предоставлять необходимые сервисы X-клиентам.
        Более подробно читайте в "HOWTO: Пользователь X", ссылка на который
        приведена в разделе
        <A
HREF="XDM-Xterm.html#RESOURCES"
>Разд. 6</A
>.
        </P
></DD
><DT
>X-Клиент</DT
><DD
><P
>        Это приложение, которому для осуществления ввода-вывода
        требуется X-сервер.
        </P
></DD
></DL
></DIV
>
    </P
><P
>    Исходя из вышеприведенных описаний, рабочую станцию X можно представить
    в виде комбинации простого X-терминала и сервера приложений, работающих
    на одной машине.
    </P
><P
>    В этом документе описаны несколько вариантов комбинаций элементов, перечисленных
    выше, а также описано, какую роль может играть xdm  в настройке
    этих комбинаций.
    </P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="XDM-DO"
>3.4. Что может XDM?</A
></H2
><P
>    XDM - это утилита, отвечающая за приглашение ко входу в систему, и
    инициализирующая их X-сессию. Это может быть как локальная сессия
    (в случае с рабочей станцией X), так и удаленная сессия работы
    с сервером приложений (в случае бездискового или простого терминалов).
    </P
><P
>    Существуют два метода, которые могут привести к выдаче приглашения
    ко входу в систему:
    <P
></P
><UL
><LI
><P
>        Запрос X-сервера
        </P
></LI
><LI
><P
>        Через XDM-сервер
        </P
></LI
></UL
>
    </P
><DIV
CLASS="SECT3"
><HR><H3
CLASS="SECT3"
><A
NAME="XSERV-QUERY"
>3.4.1. Запрос X-сервера</A
></H3
><P
>      Связь между XDM и настоящим "X-сервером" (машиной с настоящим
      экраном/клавиатурой/мышкой/и т.п.) производятся при помощи протокола
      XDMCP ('X display manager control protocol').
      </P
><P
>      Это позволяет X-серверу посылать запросы на XDM-сервер, обычно говоря
      ему что-то типа "Тут кто-то хочет войти в систему - дайте мне приглашение
      ко входу".
      </P
><P
>      Эта функция может принять одну из 3 форм:
      <P
></P
><UL
><LI
><P
>          Прямой запрос: X-сервер связывается с заданной с машиной, посылая
          запрос на получение приглашения ко входу на его дисплей.
          </P
></LI
><LI
><P
>          Широковещательный запрос: X-сервер посылает общее сообщение по сети,
          и первый сервер, на котором запущен XDM, отвечающий на это сообщение,
          предоставляет X-серверу приглашение ко входу в сеть.
          </P
></LI
><LI
><P
>          Косвенный запрос: X-сервер связывается с заданной машиной, но спрашивает
          у нее, какие другие машины с xdm она знает. Эта машина предоставляет
          пользователю для выбора список машин, и после этого X-сервер устанавливает
          соединение с выбранной машиной. Приглашение ко входу передается
          X-серверу уже по этому новому соединению.
          </P
></LI
></UL
>
      </P
><P
>      Существуют еще несколько форм, но они не будут описываться здесь.
      Для этого обращайтесь к документации по XDM и XDMCP, ссылки
      на которые приведены в <A
HREF="XDM-Xterm.html#RESOURCES"
>Разд. 6</A
>.
      </P
></DIV
><DIV
CLASS="SECT3"
><HR><H3
CLASS="SECT3"
><A
NAME="XDM-SERVER"
>3.4.2. Через XDM-сервер</A
></H3
><P
>      Если у вас есть несколько машин (бездисковых или простых X-терминалов)
      с X-серверами, работающих с одним сервером приложений, то для реализации
      процедуры входа в этот сервер можно использовать XDM. В этом случае XDM
      сам связывается с каждым X-сервером и автоматически выводит на дисплей
      приглашение ко входу в сервер приложений.
      </P
><P
>      В этом режиме работы файл "Xservers" содержит список машин (включая и
      локальную, если это необходимо), с которыми XDM должен связаться для выдачи
      на их экран приглашения ко входу.
      </P
><P
>      Эта конфигурация (если в списке X-серверов нет удаленных машин) очень
      часто используется на X-рабочих станциях для того, чтобы выдать на экран
      приглашение ко входу на локальную машину.
      </P
><P
>      Подобный способ требует того, чтобы права доступа X-сервера позволяли
      XDM сервера приложений устанавливать обратную связь к соответствующему
      дисплею.
      </P
></DIV
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H1
CLASS="SECT1"
><A
NAME="CONFIG"
>4. Настройка XDM</A
></H1
><P
>  В этом разделе описывается настройка XDM для выполнений функций,
  описанных в предыдущей главе.
  </P
><P
>  В каждом случае нижеописанная конфигурация - это необходимый
  для достижения цели минимум. В большинстве случаев эта конфигурация
  плохо защищена. Для того, чтобы усилить безопасность ваших
  X-терминалов и серверов приложений, читайте документацию, список
  которой приведен в разделе <A
HREF="XDM-Xterm.html#RESOURCES"
>Разд. 6</A
>.
  </P
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="CONFIG-FILES"
>4.1. Конфигурационные файлы</A
></H2
><P
>    Ниже описана следующая схема конфигурационных файлов XDM:
    <P
></P
><UL
><LI
><P
>        xdm-config
        </P
></LI
><LI
><P
>        Xaccess
        </P
></LI
><LI
><P
>        Xservers
        </P
></LI
><LI
><P
>        Xresources
        </P
></LI
></UL
>
    </P
><P
>    Эта схема применяется в (Debian 2.1. Mandrake 7.0.2, RedHat 6.2) :
      <PRE
CLASS="SCREEN"
>      /etc/X11/xdm
      </PRE
>
    или (SuSE 6.4) :
      <PRE
CLASS="SCREEN"
>      /usr/X11R6/lib/X11/xdm
      </PRE
>
    </P
><P
>    <P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
>xdm-config</DT
><DD
><P
>        В этом файле задается местоположение других конфигурационных файлов
        и базовые права доступа. Во всех дистрибутивах, которые использовались
        при написании этого документа, имена всех конфигурационных файлов
        были одинаковы (правда иногда различалось их местоположение).
        </P
><P
>        В этом файле также задаются файлы скриптов, запускаемые при
        смене состояния X-сессии (запуск системы и т.п.). Вам не надо
        это изменять, так как все дистрибутивы идут уже с готовыми
        настройками.
        </P
></DD
><DT
>Xaccess</DT
><DD
><P
>        В нем задается список машин, которые могут соединяться c XDM на
        этой машине - т.е., какие машины могут посылать XDMCP-запросы
        на этото сервер.
        </P
></DD
><DT
>Xservers</DT
><DD
><P
>        Содержит список машин, с которыми будет связываться XDM для автоматической
        выдачи на их экран приглашения ко входу в систему (т.е. список машин,
        на которых уже работает X-сервер, но они хотели бы получить приглашение
        ко входу именно от этой машины).
        </P
></DD
><DT
>Xresources</DT
><DD
><P
>        Содержит детальное описание свойств X, используемых мастерами
        XDM (таких, как размер окна с приглашением ко входу, его цвет,
        фон, и т.п.)
        </P
></DD
></DL
></DIV
>
    </P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="XDM-XSERV"
>4.2. Настройка XDM для управления X-серверами</A
></H2
><P
>    Для каждой машины, на которой XDM будет автоматически выдавать
    на ее экран приглашение ко входу в сервер приложений, необходимо
    задать строку в файле Xservers. Туда могут войти как локальная
    машина, так и список удаленных машин.
    </P
><P
>    Пример
      <PRE
CLASS="SCREEN"
>      # Сначала локальная машина
      :0 local /usr/bin/X11/X vt7
      #
      # Затем удаленные
      emma:0 foreign
      alex:0 foreign
      </PRE
>
    </P
><P
>    Это позволит XDM запуститься на локальной машине и заодно выдать
    приглашение ко входу на машинах 'emma' и 'alex' (преполагая, что
    права на этих машинах настроены так, что нашему XDM можно с ними
    связываться).
    </P
><P
>    Заметьте также, что в этом файле можно задавать не только имя машины,
    но и номер дисплея (:0, :1, и т.п.), если это необходимо (например,
    если вы используете несколько X-серверов на одной машине и т.п.)
    </P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="XDM-QUERIES"
>4.3. Настройка XDM для обработки запросов</A
></H2
><P
>    В файле Xaccess задается список машин, которым разрешено
    посылать запросы на получение приглашения ко входу от
    XDM.
    </P
><P
>    Пример
      <PRE
CLASS="SCREEN"
>      # Первая строка для прямых запросов
      *
      # Следующая строка для косвенных запросов
      * CHOOSER BROADCAST
      </PRE
>
    </P
><P
>    Это означает, что напрямую к этому XDM можно подключиться с любой
    машины (первая строка с "*"). Строка с опцией "CHOOSER" позволяет
    другим машинам посылать этому XDM косвенные запросы (с получением
    списка машин, к которым можно подключиться).
    </P
><P
>    'BROADCAST' означает, что программа "chooser" на этой машине
    получает список доступных XDM-серверов при помощи широковещательных
    сетевых запросов. Я поговорю об этой программе чуть позже.
    </P
><P
>    В этом файле можно задавать имена машин. Существуют и
    другие виды косвенных запросов (без "chooser"), но я не буду здесь это
    описывать. Если вам это интересно, читайте документацию, список которой
    приведен в главе <A
HREF="XDM-Xterm.html#RESOURCES"
>Разд. 6</A
>.
    </P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="XDM-STARTX"
>4.4. Запуск X</A
></H2
><P
>    Способ запуска самого X-сервера зависит от того, с каким XDM вы хотите
    работать - с локальным или удаленным.
    </P
><P
>    <P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
>Рабочая станция X: XDM и локальный X-сервер</DT
><DD
><P
>        XDM будет нормально запускать X-сервер автоматически, и сам XDM
        запускается обычно в процессе запуска X (в инициализационных скриптах).
        </P
></DD
><DT
>X-Терминал : Удаленный XDM</DT
><DD
><P
>        Просто запустите X без клиентских программ, с такими правами, чтобы
        удаленный XDM мог связаться с вашим X-сервером. Ниже приведена команда
        запуска X без контроля доступа:
          <PRE
CLASS="SCREEN"
>          /usr/X11R6/bin/X -ac
          </PRE
>
        </P
></DD
><DT
>X-терминал : Запрос на удаленный XDM</DT
><DD
><P
>        Напоминаю, что существуют 3 вида запросов: прямой, косвенный и
        широковещательный (прямой для одной машины, широковещательный
        для первой машины, ответившей на запрос):
          <PRE
CLASS="SCREEN"
>          # Прямой запрос
          /usr/X11R6/bin/X -query удаленная.машина
          # Широковещательный запрос
          /usr/X11R6/bin/X -broadcast
          # Косвенный запрос
          /usr/X11R6/bin/X -indirect удаленная.машина
          </PRE
>
        </P
></DD
></DL
></DIV
>
    </P
><P
>    В каждом случае X должен быть запущен пользователем root. Запуск X можно
    настроить в инициализационных скриптах загрузки системы (если это необходимо).
    </P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="XDM-CHOOSER"
>4.5. Программа Chooser</A
></H2
><P
>    Когда XDM получает косвенный запрос (предполагаем, что в файле
    Xaccess задана опция запуска программы "chooser"), он может предоставить
    в ответ список других XDM-серверов, которые ему известны.
    </P
><P
>    В этом режиме пользователь вместо обычного приглашения ко
    входу получит на экране окно программы "chooser", которая
    позволит выбрать ему одну из найденных в сети машин
    с XDM-сервером.
    </P
><P
>    Когда я впервые испытывал "chooser", я обнаружил, что размер
    окна этой программы, описанный в файле Xresources, поставляемом
    в комплекте с моими дистрибутивами SuSE и Debian, слишком велик.
    Исправьте следующим образом строку в файле Xresources:
      <PRE
CLASS="SCREEN"
>      Chooser*geometry:      700x500+300+200
      </PRE
>
    </P
><P
>    Программа "chooser" получает список машин двумя способами:
    <P
></P
><UL
><LI
><P
>      Широковещательный запрос: В этом режиме "chooser" посылает широковещательный
      запрос по сети, и затем создается список из имен серверов приложений,
      ответивших на этот запрос..
      </P
></LI
><LI
><P
>      Перечисление:  Этот список также можно задать в файле Xaccess, например:
        <PRE
CLASS="SCREEN"
>        %hostlist      emma alex liam
        *              CHOOSER %hostlist
        </PRE
>
      Это означает, что машины emma, alex и liam будут в списке
      серверов приложений (скорее всего, даже если одна из машин
      отключена? Надо проверить....)
      </P
></LI
></UL
>
    </P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H1
CLASS="SECT1"
><A
NAME="XDM-ADVCONFIG"
>5. Дополнительные опции настройки</A
></H1
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="ADV-CONFIGSETS"
>5.1. Наборы конфигурационных файлов</A
></H2
><P
>    В файле xdm-config можно настроить очень много разных опций,
    и он обычно уже поставляется настроенным. Во многих случаях,
    файла, поставляемого с вашим дистрибутивом, будет достаточно.
    Но если вам нужно больше...
    </P
><P
>    Названия стартовых скриптов и конфигурационных файлов, используемых
    XDM, определяются специальными операторами в начале файла xdm-config.
    Это позволяет вам иметь разные наборы конфигурационных файлов для
    разных X-серверов и X-терминалов.
    </P
><P
>    Например, предположим, что вы используете XDM для работы с вашим
    локальным дисплеем, но хотите, чтобы он обрабатывал и запросы
    с других X-терминалов сети. В этом случае можно задать два
    различных файла Xresources для себя и для удаленных терминалов.
    Для этого надо в файл xdm-config вписать следующие строки:
      <PRE
CLASS="SCREEN"
>      DisplayManager._0.resources            /etc/X11/xdm/Xres_0
      DisplayManager*resources               /etc/X11/xdm/Xresources
      </PRE
>
    В результате этого для локального дисплея будет использоваться
    файл Xres_0 (_0 - это то же самое, что и :0, только на языке
    XDM), а для всех остальных - файл Xresources ('*').
    </P
><P
>    Заметьте, что в конфигурационных файлах XDM для
    задания конкретного дисплея на машине используется
    терминология: машина_0, а не машина:0.
    </P
><P
>    Аналогично вы можете задать специальный файл Xresources для
    конкретной машины примерно так:
      <PRE
CLASS="SCREEN"
>      DisplayManager.host_0.resources       /etc/X11/xdm/Xres_host_0
      </PRE
>
    </P
><P
>    Если вы взглянете в свою стандартную версию файла xdm-config, то 
    вы обнаружите, что файлы конфигурации уже разделены на группы
    для локальной машины и для удаленных, так как в этих случаях
    xdm-сервером выполняются разные операции. В моем дистрибутиве
    Debian для локальных серверов использовались следующие файлы:
      <PRE
CLASS="SCREEN"
>      DisplayManager._0.resources:    /etc/X11/xdm/Xresources_0
      DisplayManager._0.setup:        /etc/X11/xdm/Xsetup_0
      DisplayManager._0.startup:      /etc/X11/xdm/Xstartup_0
      DisplayManager._0.reset:        /etc/X11/xdm/Xreset_0
      </PRE
>
    а для удаленных:
      <PRE
CLASS="SCREEN"
>      DisplayManager*resources:       /etc/X11/xdm/Xresources
      DisplayManager*setup:           /etc/X11/xdm/Xsetup
      DisplayManager*startup:         /etc/X11/xdm/Xstartup
      DisplayManager*reset:           /etc/X11/xdm/Xreset
      </PRE
>
    </P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H1
CLASS="SECT1"
><A
NAME="RESOURCES"
>6. Ссылки</A
></H1
><P
>  В этой главе приведен список ссылок на документы, которые использовались
  при написании этого текста, и в которых более подробно объяснены некоторые
  детали описанных здесь принципов:
  </P
><P
>  <P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
>Система X Window</DT
><DD
><P
>      <P
></P
><UL
><LI
><P
>        HOWTO: Пользователь X (из
        <A
HREF="http://www.linuxdoc.org"
TARGET="_top"
>LDP</A
>)
        </P
></LI
><LI
><P
>        Man-страницы: X (главные принципы), Xserver (Принципы работа X-сервера)
        </P
></LI
><LI
><P
>        X FAQ (в 
        <A
HREF="http://www.x.org"
TARGET="_top"
>www.x.org</A
>)
        </P
></LI
></UL
>
      </P
></DD
><DT
>Тонкие клиенты/X-терминалы</DT
><DD
><P
>      <P
></P
><UL
><LI
><P
>        HOWTO: Тонкий клиента (из
        <A
HREF="http://www.linuxdoc.org"
TARGET="_top"
>LDP</A
>)
        </P
></LI
><LI
><P
>        HOWTO: Бездисковые станции (из
        <A
HREF="http://www.linuxdoc.org"
TARGET="_top"
>LDP</A
>)
        </P
></LI
><LI
><P
>        <A
HREF="http://dns.solucorp.qc.ca/xterminals"
TARGET="_top"
>Веб-страницы, посвященные X-терминалам</A
>
        </P
></LI
></UL
>
      </P
></DD
><DT
>XDM</DT
><DD
><P
>      <P
></P
><UL
><LI
><P
>        Man-страницы : xdm
        </P
></LI
></UL
>
      </P
></DD
></DL
></DIV
>
  </P
></DIV
></DIV
></BODY
></HTML
>