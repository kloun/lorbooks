<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>  IP Sub-networking Mini-Howto: Анатомия адресов IP </TITLE>
 <LINK HREF="IP-Subnetworking-HOWTO-4.html" REL=next>
 <LINK HREF="IP-Subnetworking-HOWTO-2.html" REL=previous>
 <LINK HREF="IP-Subnetworking-HOWTO.html#toc3" REL=contents>
</HEAD>
<BODY>
<A HREF="IP-Subnetworking-HOWTO-4.html">Next</A>
<A HREF="IP-Subnetworking-HOWTO-2.html">Previous</A>
<A HREF="IP-Subnetworking-HOWTO.html#toc3">Contents</A>
<HR>
<H2><A NAME="s3">3. Анатомия адресов IP </A></H2>

<P>Перед обсуждением вопросов о подсетях, нам нужно узнать основные
принципы IP адресации.
<P>
<H2><A NAME="ss3.1">3.1 IP адреса назначаются интерфейсам - НЕ хостам!</A>
</H2>

<P>Самое первое, что надо уяснить себе - IP назначаются не хостам. IP адреса 
назначаются сетевым интерфейсам хостов. Eh - как так?
<P>Очень многие (если не большинство) компьютеров в IP сети имеют единственный 
сетевой интерфейс (и как следствие один IP адрес). Но компьютеры и другие 
устройства могут иметь несколько (если не больше) сетевых интерфейсов - и 
каждый интерфейс будет иметь свой собственный IP адрес.
<P>Так устройство с 6 активными интерфейсами (например, маршрутизатор) будет
иметь 6 IP адресов - по одному на каждый интерфейс в каждой сети, к которой
он подключен. Причина этого станет ясной, если мы взглянем на IP сеть!
<P>Подозреваю, что большинство людей имеют в виду хостовый адрес, когда
ссылаются на IP адрес. Только помните, это просто сокращание IP адреса
определенного интерфейса на этом хосту. Многие (если не большинство)
из устройств в Internet имеют только один интерфейс и значит один IP адрес.
<P>
<H2><A NAME="ss3.2">3.2 IP адреса в "точечной нотации"</A>
</H2>

<P>В текущей (IPv4) реализации адресов IP, IP адреса состоят из 4 байт
(8 бит) - дающих в совокупности 32 бита доступной информации. Это приводит
к тому, что числа выглядят слишком большими (даже когда записаны в 
десятичном исчислении). Поэтому для читабельности (и по организационным 
причинам) IP адреса обычно записываются в "точечно-разделительной нотации". 
Вот пример IP адреса
<BLOCKQUOTE><CODE>
<PRE>
               192.168.1.24
</PRE>
</CODE></BLOCKQUOTE>

- 4 (десятичных) числа, разделенных (.) точками.
<P>Так как каждое из четырех чисел - это десятичное представление 8-битного
байта, то каждое число может принимать значения от 0 до 255 (что дает
256 уникальных значений - помните, ноль - это тоже величина).
<P>Кроме того, часть IP адреса хоста определяет сеть, в которой находится
хост, а оставшиеся 'биты' IP адреса определяют сам хост (oops - сетевой 
интерфейс). То, сколько бит используется сетевым ID и сколько бит
доступно для идентификации хостов (интерфейсов) в этой сети, определяется 
сетевыми 'классами'.
<P>
<H2><A NAME="ss3.3">3.3 Классы IP сетей</A>
</H2>

<P>Существует три класса IP адресов
<UL>
<LI>    Класс A IP сетевых адресов использует левые 8 бит (самый левый октет)
для указания сети, оставшиеся 24 бита (оставшиеся три октета) для
идентификации интерфейса хоста в этой сети. Адреса класса A всегда имеют 
самый левый бит самого левого байта нулевым, то есть значения от 0 до 127
для первого октета в десятичной нотации. Таким образом доступно максимум 
128 адресов сетей класса A, каждый из которых может содержать до 
33,554,430 интерфейсов.
<P>Однако сети 0.0.0.0 (известная как маршрут по умолчанию) и 127.0.0.0
(loop back сеть) имеют специальное назначение и не доступны для 
использования в качестве идентификаторов сети. ПОэтому доступно только
126 адресов сетей класса A.
<P>
</LI>
<LI>    Класс B IP сетевых адресов использует левые 16 бит (два левых октета)
для идентификации сети, оставшиеся 16 бит (последние два октета) 
указывают хостовые интерфейсы. Адрес класса B всегда имеет самые левые
два бита установленными в 1 0. Таким образом для номера сети остается
14 бит, что дает 32767 доступных сетей класса B. Первый октет адреса 
сети класса B может принимать значения от 128 до 191, и каждая из
таких сетей может иметь до 32,766 доступных интерфейсов.
</LI>
<LI>    Класс C IP сетевых адресов использует левые 24 бит (три левых октета)
для идентификации сети, оставшиеся 8 бит (последний октет) указывает
хостовый интерфейс. Адрес класса С всегда имеет самые левые три бита 
установленными в 1 1 0. Таким образом для номера сети остается 14 бит, 
что дает 4,194,303 доступных сетей класса B. Первый октет адреса сети 
класса B может принимать значения от 192 до 255, и каждая из таких сетей 
может иметь до 254 доступных интерфейсов. Однако сети класса C с первым 
байтом больше, чем 223, зарезервированы и не используются.</LI>
</UL>

Итак:
<P>
<BLOCKQUOTE><CODE>
<PRE>
           Сетевой класс   Диапазон значений первого байта (десятичный)
                       A           от    1 до 126
                       B           от  128 до 191
                       C           от  192 до 254
</PRE>
</CODE></BLOCKQUOTE>

Существует также специальные адреса, которые зарезервированы для 
'несвязанных' сетей - это сети, которые используют IP, но не подключены
к Internet. Вот эти адреса:-
<UL>
<LI>    Одна сеть класса A
<P>     10.0.0.0
<P>
</LI>
<LI>    16 сетей класса B
<P>     172.16.0.0 - 172.31.0.0
<P>
</LI>
<LI>    256 сетей класса С 
<P>     192.168.0.0 - 192.168.255.0
</LI>
</UL>

В дальшейшем вы заметите, что в данном документе используются именно
эти адреса, чтобы предотвратить пересечение с 'настоящими' сетями и
хостами.
<P>
<H2><A NAME="ss3.4">3.4 Сетевые адреса, адреса интерфейсов и широковещательные адреса</A>
</H2>

<P>IP адрес может означать одно из трех:-
<UL>
<LI>    Адрес IP сети (группа IP устройств, имеющих доступ к общей среде 
передаче - например, все устройства в сегменте Ethernet). Сетевой
адрес всегда имеет биты интерфейса (хоста) адресного пространства
установленными в 0 (если сеть не разбита на подсети - как мы еще увидим);
</LI>
<LI>    Широковещательный адрес IP сети (адрес для 'разговора' со всеми
устройствами в IP сети). Широковещательные адреса для сети всегда имеют 
интерфейсные (хостовые) биты адресного пространства установленными в 1 
(если сеть не разбита на подсети - опять же, как мы вскоре увидим).
</LI>
<LI>    Адрес интерфейса (например Ethernet-адаптер или PPP интерфейс хоста,
маршрутизатора, сервера печать итд). Эти адреса могут иметь любые
значения хостовых битов, исключая все нули или все единицы - чтобы
не путать с адресами сетей и широковещательными адресами.</LI>
</UL>

Подытожим и уточним
<UL>
<LI>     Для сети класса A ...
<P>       (один байт под адрес сети, три байта под номер хоста)
<P>
<BLOCKQUOTE><CODE>
<PRE>
               10.0.0.0        сеть класса А, потому что все хостовые биты равны 0.
               10.0.1.0        адрес хоста в этой сети
               10.255.255.255  широковещательный адрес этой сети,
                               поскольку все сетевые биты установлены в 1
</PRE>
</CODE></BLOCKQUOTE>
<P>
</LI>
<LI>       Для сети класса B...
<P>       (два байта под адрес сети, два байта под номер хоста)
<P>
<BLOCKQUOTE><CODE>
<PRE>
               172.17.0.0     сеть класса B
               172.17.0.1     адрес хоста в этой сети
               172.17.255.255 сетевой широковещательный адрес
</PRE>
</CODE></BLOCKQUOTE>
<P>
</LI>
<LI>       Для сети класса C...
<P>       (три байта под адрес сети, один байт под номер хоста)
<P>
<BLOCKQUOTE><CODE>
<PRE>
               192.168.3.0   адрес сети класса C
               192.168.3.42  хостовый адрес в этой сеть
               192.168.3.255 сетевой широковещательный адрес
</PRE>
</CODE></BLOCKQUOTE>

Едва ли не все доступные сетевые IP адреса принадлежат классу C.
</LI>
</UL>
<H2><A NAME="ss3.5">3.5 Сетевая маска</A>
</H2>

<P>Сетевую маску более правильно называть подсетевой маской. Однако в
основном говорят "сетевая маска".
<P>Сетевая маска определяет как будут локально интерпретироваться IP адреса
в сегменте IP сети, что для нас весьма важно, поскольку определяет
процесс разбивки на подсети.
<P>Стандартная (под-) сетевая маска - все сетевые биты в адресе установлены
в '1' и все хостовые биты установлены в '0'. Это означает, что стандартные
сетевые маски для трех классов сетей:-
<UL>
<LI>    A класс - сетевая маска: 255.0.0.0
</LI>
<LI>    B класс - сетевая маска: 255.255.0.0
</LI>
<LI>    C класс - сетевая маска: 255.255.255.0</LI>
</UL>

О сетевой маске нужно помнить три вещи:-
<UL>
<LI>    Сетевая маска предназначена только для локальной интерпретации локальных
IP адресов (где локальный значит - в том же сетевом сегменте);
</LI>
<LI>    Сетевая маска - не IP адрес - она используется для локальной модификации
интерпретации IP адреса.</LI>
</UL>
<HR>
<A HREF="IP-Subnetworking-HOWTO-4.html">Next</A>
<A HREF="IP-Subnetworking-HOWTO-2.html">Previous</A>
<A HREF="IP-Subnetworking-HOWTO.html#toc3">Contents</A>
</BODY>
</HTML>
