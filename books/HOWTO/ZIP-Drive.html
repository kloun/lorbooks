<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML
><HEAD
><TITLE
>Мини-HOWTO: Zip-дисковод</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.57"></HEAD
><BODY
CLASS="ARTICLE"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="ARTICLE"
><DIV
CLASS="TITLEPAGE"
><H1
CLASS="TITLE"
><A
NAME="AEN2"
>Мини-HOWTO: Zip-дисковод</A
></H1
><DIV
CLASS="AUTHORGROUP"
><A
NAME="AEN4"
></A
><H3
CLASS="AUTHOR"
><A
NAME="AEN5"
>Kyle Dansie</A
></H3
><DIV
CLASS="AFFILIATION"
><DIV
CLASS="ADDRESS"
><P
CLASS="ADDRESS"
>dansie@ibm.net</P
></DIV
></DIV
><H3
CLASS="CORPAUTHOR"
>Перевод: <A
HREF="mailto:sam@asp-linux.com"
TARGET="_top"
>Станислав Рогин</A
>,
<A
HREF="http://www.asplinux.com"
TARGET="_top"
>SWSoft Pte Ltd.</A
></H3
></DIV
><P
CLASS="PUBDATE"
>версия 2.4, 10 января 1999<BR></P
><DIV
><DIV
CLASS="ABSTRACT"
><A
NAME="AEN15"
></A
><P
></P
><P
>В этом документе описывается, как настроить и использовать в Linux дисковод Iomegа ZIP. </P
><P
></P
></DIV
></DIV
><HR></DIV
><DIV
CLASS="TOC"
><DL
><DT
><B
>Содержание</B
></DT
><DT
>1. <A
HREF="ZIP-Drive.html#AEN17"
>Введение</A
></DT
><DD
><DL
><DT
>1.1. <A
HREF="ZIP-Drive.html#AEN42"
>Где находится этот документ</A
></DT
></DL
></DD
><DT
>2. <A
HREF="ZIP-Drive.html#AEN46"
>Быстрый запуск</A
></DT
><DT
>3. <A
HREF="ZIP-Drive.html#AEN95"
>Настройка поддержки дисководов ZIP в ядре</A
></DT
><DD
><DL
><DT
>3.1. <A
HREF="ZIP-Drive.html#AEN139"
>SCSI-версия</A
></DT
></DL
></DD
><DT
>4. <A
HREF="ZIP-Drive.html#AEN150"
>Дисковод ZIP</A
></DT
><DD
><DL
><DT
>4.1. <A
HREF="ZIP-Drive.html#AEN172"
>Zip100 - версия для параллельного порта</A
></DT
><DT
>4.2. <A
HREF="ZIP-Drive.html#AEN188"
>Внешняя SCSI-версия</A
></DT
><DD
><DL
><DT
>4.2.1. <A
HREF="ZIP-Drive.html#AEN198"
>Адаптер ZIP ZOOM</A
></DT
></DL
></DD
><DT
>4.3. <A
HREF="ZIP-Drive.html#AEN204"
>Встроенная SCSI-версия</A
></DT
><DT
>4.4. <A
HREF="ZIP-Drive.html#AEN221"
>ZIP Plus - драйвер IMM</A
></DT
><DT
>4.5. <A
HREF="ZIP-Drive.html#AEN257"
>Версия ATAPI</A
></DT
><DT
>4.6. <A
HREF="ZIP-Drive.html#AEN268"
>Версия IDE</A
></DT
><DT
>4.7. <A
HREF="ZIP-Drive.html#AEN274"
>Версия USB</A
></DT
><DT
>4.8. <A
HREF="ZIP-Drive.html#AEN281"
>Версия ZIP250</A
></DT
></DL
></DD
><DT
>5. <A
HREF="ZIP-Drive.html#AEN287"
>Использование ZIP-дисковода</A
></DT
><DD
><DL
><DT
>5.1. <A
HREF="ZIP-Drive.html#AEN291"
>Fdisk, mke2fs, mount, и т.п.</A
></DT
><DT
>5.2. <A
HREF="ZIP-Drive.html#AEN300"
>Существующий диск, отформатированный под DOS</A
></DT
><DT
>5.3. <A
HREF="ZIP-Drive.html#AEN312"
>Переформатирование диска в формате Linux</A
></DT
><DT
>5.4. <A
HREF="ZIP-Drive.html#AEN330"
>Строки файла fstab</A
></DT
><DT
>5.5. <A
HREF="ZIP-Drive.html#AEN340"
>Диск с утилитами ZIP</A
></DT
></DL
></DD
><DT
>6. <A
HREF="ZIP-Drive.html#AEN344"
>Быстродействие</A
></DT
><DT
>7. <A
HREF="ZIP-Drive.html#AEN358"
>Часто задаваемые вопросы</A
></DT
><DD
><DL
><DT
>7.1. <A
HREF="ZIP-Drive.html#AEN361"
>Могу ли я использовать принтер, подключив его к дисководу ZIP?</A
></DT
><DT
>7.2. <A
HREF="ZIP-Drive.html#AEN367"
>Будет ли когда-нибудь в PPA встроена поддержка EPP/ECP?</A
></DT
><DT
>7.3. <A
HREF="ZIP-Drive.html#AEN371"
>Могу ли я загрузить Linux с ZIP-дисковода?</A
></DT
><DT
>7.4. <A
HREF="ZIP-Drive.html#AEN376"
>Могу ли я загрузиться с ZIP-дисковода?</A
></DT
><DT
>7.5. <A
HREF="ZIP-Drive.html#AEN381"
>Почему IOMega использует раздел номер 4?</A
></DT
><DT
>7.6. <A
HREF="ZIP-Drive.html#AEN384"
>Может ли ZIP-диск быть подключен в процессе загрузки системы?</A
></DT
><DT
>7.7. <A
HREF="ZIP-Drive.html#AEN392"
>Что произойдет, если при загрузке в дисководе не будет диска?</A
></DT
><DT
>7.8. <A
HREF="ZIP-Drive.html#AEN397"
>Могу ли я использовать дисковод, подключенный к параллельному порту, как настоящий SCSI?</A
></DT
><DT
>7.9. <A
HREF="ZIP-Drive.html#AEN401"
>Можно ли использовать PPA с стриммерами Iomega, подключенными к параллельному порту?</A
></DT
><DT
>7.10. <A
HREF="ZIP-Drive.html#AEN405"
>Будет ли PPA работать с подключенному к параллельному порту SyQuest EZ135 ?</A
></DT
></DL
></DD
><DT
>8. <A
HREF="ZIP-Drive.html#SEC-MORE-INFO"
>Более подробная информация</A
></DT
><DT
>9. <A
HREF="ZIP-Drive.html#AEN433"
>Авторские права</A
></DT
></DL
></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="AEN17"
>1. Введение</A
></H1
><P
>Iomega ZIP -это очень популярный дисковод (со съемными дисками). Он существует в нескольких вариантах.

<P
></P
><UL
><LI
><P
> Для параллельного порта</P
></LI
><LI
><P
> SCSI</P
></LI
><LI
><P
> IDE - ATAPI</P
></LI
><LI
><P
> Plus </P
></LI
></UL
>
  
Наиболее популярна версия, подключаемая к параллельному порту. Дисковод существует уже сравнительно давно, и, к тому же, недорого стоит. Продолжительное время существует и SCSI-версия, но она требует наличия SCSI-контроллера, поэтому не так популярна. Все большую популярность в последняя время набирает ATAPI-версия. Plus - это самая новая реализация ZIP-дисковода. В него встроена новая возможность - дисковод сам определяет, куда он подключен - к параллельному порту, или SCSI. Этот документ в основном будет описывать дисковод для параллельного порта, но также по ходу затронет и особенности остальных версий.</P
><P
>Документ включает в себя информацию, собранную и опубликованную другими авторами. Особенно хотелось бы отметить:

<P
></P
><UL
><LI
><P
> Grant Guenther, grant@torque.net</P
></LI
><LI
><P
> Scot Wilcoxon, sewilco@fielday.mn.org</P
></LI
><LI
><P
> Joe Mack, mack@ncifcrf.gov</P
></LI
><LI
><P
> Byron Jeff, byron@cc.gatech.edu</P
></LI
></UL
>
  </P
><P
>Я благодарю их за очень полезный вклад в создание этого документа. Я понимаю, что мог допустить в этом документе.</P
><P
>Большое спасибо также Grant Guenther, который написал версию 0.26 программы ppa, а также написал исходную версию этого HOWTO. Если вы найдете ошибки или упущения, которые я допустил в этом документе, то пишите мне по адресу.
<A
HREF="mailto:dansie@ibm.net"
TARGET="_top"
>dansie@ibm.net</A
></P
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="AEN42"
>1.1. Где находится этот документ</A
></H2
><P
>Наиболее свежая версия этого документа находится по адресу
<A
HREF="http://www.njtcom.com/dansie/zip-drive.html"
TARGET="_top"
>http://www.njtcom.com/dansie/zip-drive.html</A
></P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H1
CLASS="SECT1"
><A
NAME="AEN46"
>2. Быстрый запуск</A
></H1
><P
>ИТАК, вы купили новый ZIP-дисковод, и хотите его использовать. Поддержка zip, и все необходимые модули, бывают встроены в ядра некоторых дистрибутивов. Для начала попробуйте дать команду insmod ppa. (Проверьте, подключен ли дисковод, и вставлен ли в него диск). Если программа ppa не найдена, то пересоберите ядро. На моей машине 2 параллельных порта, один для zip, а второй для принтера. Такая конфигурация все упрощает - не надо переключать кабеля и т.п.</P
><P
>Настройка и сборка ядра:

<P
></P
><UL
><LI
><P
> Перейдите в каталог /usr/src/linux</P
></LI
><LI
><P
> Дайте команду make xconfig</P
></LI
><LI
><P
> Опция scsi support = Y</P
></LI
><LI
><P
> Опция scsi disk support = Y</P
></LI
><LI
><P
> Опция Iomega zip support - поддержка в виде модуля</P
></LI
><LI
><P
> Опция printer support - поддержка в виде модуля</P
></LI
><LI
><P
> Запишите изменения и выйдите из программы конфигурирования</P
></LI
><LI
><P
> make dep</P
></LI
><LI
><P
> make clean</P
></LI
><LI
><P
> make zImage или zlilo или zdisk </P
></LI
><LI
><P
> make modules</P
></LI
><LI
><P
> make modules_install</P
></LI
></UL
>&#13;</P
><P
>Теперь используйте дисковод:

<P
></P
><UL
><LI
><P
> Загрузите модуль командой <TT
CLASS="LITERAL"
>insmod ppa</TT
></P
></LI
><LI
><P
> Создайте точку подключения: <TT
CLASS="LITERAL"
>mkdir /zip</TT
></P
></LI
><LI
><P
> Вставьте форматированный dos-zip-диск в дисковод.</P
></LI
><LI
><P
> Подключите диск: <TT
CLASS="LITERAL"
>mount -t vfat /dev/sda4 /zip</TT
></P
></LI
><LI
><P
> Используйте стандартные команды работы с файлами: <TT
CLASS="LITERAL"
> l /zip, ls /zip, df, cp,</TT
></P
></LI
><LI
><P
> После завершения работы отключите диск <TT
CLASS="LITERAL"
> umount /zip </TT
></P
></LI
></UL
>&#13;</P
><P
>Если в предыдущих шагах у вас возникли какие-нибудь проблемы, то читайте следующие главы этого документа, в которых, возможно, будет описание решения проблемы.</P
></DIV
><DIV
CLASS="SECT1"
><HR><H1
CLASS="SECT1"
><A
NAME="AEN95"
>3. Настройка поддержки дисководов ZIP в ядре</A
></H1
><P
>Для того, чтобы использовать ZIP-дисковод в Linux, ваше ядро должно поддерживать SCSI, SCSI-диски, и SCSI-контроллер, который вы используете. Если вы не знакомы с процессом пересборки ядра, то читайте
<A
HREF="http://metalab.unc.edu/mdw/HOWTO/Kernel-HOWTO.html"
TARGET="_top"
>HOWTO: Ядро Linux</A
>.</P
><P
>Процесс сборки ядра начинается с конфигурирования. В нем вы указываете те функции ядра, которые вам необходимы. Сначала зайдите в каталог <TT
CLASS="LITERAL"
> cd /usr/src/linux</TT
>. Существует несколько разных способов конфигурирования ядра. В X windows я использую
<I
CLASS="EMPHASIS"
>make xconfig</I
>. Также существуют <TT
CLASS="LITERAL"
>make menuconfig</TT
>
или <TT
CLASS="LITERAL"
>make config</TT
> в командной строке. Самый простой - xconfig.</P
><P
>В разделе <I
CLASS="EMPHASIS"
>SCSI Support (Поддержка SCSI)</I
> установите <I
CLASS="EMPHASIS"
>SCSI support(Поддержка SCSI) = Y</I
>.
Также установите <I
CLASS="EMPHASIS"
>SCSI disk support (Поддержка SCSI-дисков) = Y</I
>.</P
><P
>В разделе <I
CLASS="EMPHASIS"
>SCSI low-level drivers (драйверы SCSI)</I
> установите
<I
CLASS="EMPHASIS"
>IOMEGA Parallel Port ZIP drive SCSI support (Поддержка дисковода IOMEGA ZIP для параллельного порта) = M</I
>. M означает "модуль".</P
><P
>В разделе <I
CLASS="EMPHASIS"
>Character Devices (символьные устройства)</I
> найдите и установите 
<I
CLASS="EMPHASIS"
>Parallell Printer support (Поддержка принтера на параллельном порту) = M</I
>.</P
><P
>Если вы не очень уверены в чем то из вышеописанного, используйте опцию zdisk при запуске make. В результате этого, новое ядро после сборки будет записано на флоппи-диск. Если вы что-то напутаете, то вы все еще сможете запустить систему с жесткого диска.</P
><P
>Теперь соберите ядро при помощи следующих команд:

<P
></P
><UL
><LI
><P
> make dep</P
></LI
><LI
><P
> make clean</P
></LI
><LI
><P
> make zImage или zlilo или zdisk </P
></LI
><LI
><P
> make modules</P
></LI
><LI
><P
> make mdoules_install</P
></LI
></UL
>&#13;</P
><P
><I
CLASS="EMPHASIS"
>Подсказка:</I
> если вы хотите, чтобы сообщения команды make zImage были записаны в журнал, используйте команду

<PRE
CLASS="SCREEN"
>   make zImage 2&#62;&#38;1 | tee zImage.out
   </PRE
>

Это довольно хороший совет - если у вас в процессе компиляции возникнут ошибки или конфликты, то у вас будет файл с содержанием этих ошибок. Так значительно проще получить чью-либо помощь.</P
><P
>Вам также придется в каком-нибудь файле загрузить модули. В моей системе я просто добавил пару строк в файл boot.local.

<P
></P
><UL
><LI
><P
> insmod ppa</P
></LI
><LI
><P
> insmod lp</P
></LI
></UL
>

Моя система - это Suse 5.3, и файл находится в каталоге /etc/rc.d. Местоположение этого файла может различаться в разных дистрибутивах, но такой файл должен существовать. В нем находятся команды, вносящие локальные изменения в систему при загрузке. Вы должны исправить файл в соответствии с вашим дистрибутивом.</P
><P
>После этого <TT
CLASS="LITERAL"
>перезагрузите систему</TT
>. </P
><P
>Вы также можете построить всю SCSI-систему в виде модуля. Если вы это сделали, то не забудьте загрузить scsi.o, потом sd.o и затем драйвер вашего адаптера перед тем, как использовать ZIP-дисковод.</P
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="AEN139"
>3.1. SCSI-версия</A
></H2
><P
>Если в вашей системе уже есть SCSI-диск, и вы подключаете ZIP-дисковод к тому же контроллеру, то вам не требуется перенастраивать ядро. Однако, вам все таки лучше это сделать.</P
><P
>Если вы собираете ядро с поддержкой SCSI -версии ZIP-дисковода, то вы должны включить в ядро поддержку SCSI и SCSI-дисков. Вы также должны включить в него поддержку контроллера, который вы будете использовать. Если у вас ZIP Zoom, то выберите драйвер aha152x.</P
><P
>Обязательно прочитайте документацию по вашему адаптеру в SCSI HOWTO, а также все файлы README в каталоге drivers/scsi исходных текстов ядра. Обратите внимание на возможные аргументы запуска модуля. Они могут помочь ядру инициализировать ваш адаптер.</P
><P
>Например, если у вас карта ZIP Zoom, то вам надо добавить что-то типа</P
><P
>&#13;<PRE
CLASS="SCREEN"
>          aha152x=0x340,11,7,1</PRE
>&#13;</P
><P
>в команду загрузки ядра (или добавить это в файл /etc/lilo.conf file). Здесь драйверу карты указываются номера портов ввода-вывода и IRQ карты - убедитесь в том, что эти числа соответствуют положению переключателей на вашей карте.</P
><P
>Вы также можете прочитать
<A
HREF="http://metalab.unc.edu/mdw/HOWTO/BootPrompt-HOWTO.html"
TARGET="_top"
>BOOTPROMPT HOWTO</A
> (автор Paul Gortmaker) для того, чтобы найти более подробную информацию о настройке ядра при помощи LILO или LOADLIN.</P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H1
CLASS="SECT1"
><A
NAME="AEN150"
>4. Дисковод ZIP</A
></H1
><P
>Существуют, как минимум, пять или шесть реализаций дисковода Iomega ZIP 100. Все они описаны на сайте Iomega по адресу
<A
HREF="http://www.iomega.com/product/zip/"
TARGET="_top"
>http://www.iomega.com/product/zip/</A
>
Все они работают со специальными картриджами, похожими на 3.5" флоппи-диски, которые содержат в себе 100 Мб данных. На самом деле на диске есть 96 цилиндров по 2048 секторов по 512 байт каждый. Вообще-то, это 96 мегабайт.</P
><P
>Внешний дисковод бывает трех типов:

<P
></P
><UL
><LI
><P
> Для параллельного порта</P
></LI
><LI
><P
> SCSI</P
></LI
><LI
><P
> Plus</P
></LI
></UL
>&#13;</P
><P
>Внутренний дисковод бывает одним следующих типов:

<P
></P
><UL
><LI
><P
> SCSI</P
></LI
><LI
><P
> IDE</P
></LI
><LI
><P
> ATAPI</P
></LI
></UL
>&#13;</P
><P
>Внутренние версии могут быть встроены в стандартные слоты 3.5- или 5.25-дюймовых дисководов. Внешние версии представляют из себя небольшую синюю коробочку с внешним блоком питания.</P
><P
>У всех дисководов на передней панели есть большая кнопка. Она используется для выброса диска. Linux запрещает извлечение диска при работе, но, если вы нажмете эту кнопку, то дисковод это запомнит, и выбросит диск после того, как это разрешит программа.</P
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="AEN172"
>4.1. Zip100 - версия для параллельного порта</A
></H2
><P
>Этот дисковод описан на веб-странице по адресу
<A
HREF="http://www.iomega.com/product/zip/zippp.html"
TARGET="_top"
>http://www.iomega.com/product/zip/zippp.html</A
></P
><P
>Его драйвер для Linux существует в нескольких версиях. Версия 0.26 программы ppa.c поставляется в комплекте ядер 2.0.x. Если вше ядро старее, чем 2.0.35, то у вас <I
CLASS="EMPHASIS"
>СТАРАЯ</I
>
версия программы.</P
><P
>Зайдите на веб-страницу 
<A
HREF="http://www.torque.net/~campbell/"
TARGET="_top"
>David Campbell</A
>
для того, чтобы получить свежую версию программы. На настоящий момент это версия 1.42.</P
><P
>В нее встроены очень удобные функции автонастройки. Вы НЕ должны сообщать программе базовый адрес ввода-вывода параллельного порта. Программа сама проверит стандартные порты ввода-вывода параллельных портов, и подключит дисковод, если найдет его.</P
><P
>Самая распространенная ошибка, приводящая к проблемам - это загрузка модуля принтера lp до загрузки ppa. Программа ppa должны быть загружена ДО загрузки модуля lp. Модуль lp заблокирует порты, необходимые zip-дисководу, поэтому ppa должна быть загружена первой.</P
><P
>Проверьте еще раз правильность подключения кабелей.</P
><P
>Если вы все сделали правильно :), то, при загрузке системы, вы увидите примерно следующие сообщения.</P
><P
>  VFS: Mounted root (ext2 filesystem) readonly.
  Adding Swap: 102528k swap-space (priority -1)
  ppa: Version 1.42
  ppa: Probing port 03bc
  ppa: Probing port 0378
  ppa:     SPP port present
  ppa:     EPP 1.9 with hardware direction protocol
  ppa: Found device at ID 6, Attempting to use EPP 32 bit
  ppa: Communication established with ID 6 using EPP 32 bit
  ppa: Probing port 0278
  ppa:     SPP port present
  scsi0 : Iomega parport ZIP drive
  scsi : 1 host.
    Vendor: IOMEGA    Model: ZIP 100           Rev: D.09
    Type:   Direct-Access                      ANSI SCSI revision: 02
  Detected scsi removable disk sda at scsi0, channel 0, id 6, lun 0
  SCSI device sda: hdwr sector= 512 bytes. Sectors= 196608 [96 MB] [0.1 GB]
  sda: Write Protect is off
    sda: sda4
  lp2 at 0x0278, (polling)
  </P
><P
>Вы можете также просмотреть эти сообщения при помощи команды dmesg | more. Вы можете записать эти сообщения в файл командой dmesg &#62; dmesg.txt.
Это бывает необходимо при отладке процедуры загрузки системы.</P
><P
>Также вы можете прочесть об этом в разделе <A
HREF="ZIP-Drive.html#SEC-MORE-INFO"
><I
>Более подробная информация</I
></A
></P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="AEN188"
>4.2. Внешняя SCSI-версия</A
></H2
><P
>Этот дисковод описан на веб-странице по адресу
<A
HREF="http://www.iomega.com/product/zip/zipscsi.html"
TARGET="_top"
>http://www.iomega.com/product/zip/zipscsi.html</A
></P
><P
>У внешнего SCSI ZIP-дисковода есть два коннектора DB25F, и два переключателя. Первый переключатель задает SCSI-адрес дисковода. Выбор ограничен адресами 5 и 6. Второй переключатель включает внутренний терминатор, на тот случай, если дисковод - последний в цепи SCSI-устройств. 25-контактные SCSI-коннекторы используют раскладку типа Macintosh. Дисковод поставляется с кабелем, похожим на SCSI-кабели Macintosh, но стандартные кабели и переходники (Centronics, или уплотненные) тоже достаточно просто найти.</P
><P
>Я сам лично не видел внутреннего SCSI-дисковода, но я предполагаю, что на нем будет стандартный 50-контактный DIP SCSI-коннектор и аналогичные переключатели.</P
><P
>Убедитесь в том, что SCSI-адрес, который вы выделите ZIP-дисководу, не конфликтует с другими SCSI-устройствами на той же шине. Также убедитесь в том, что на _физически_ последнем устройстве SCSI-цепи, включен встроенный терминатор, или за ним в цепи включен внешний терминатор.</P
><P
>Если у вас есть внутренний SCSI-диск или CD-ROM, и вы подключаете ваш ZIP-дисковод к существующему адаптеру, то вы должны убрать или отключить все терминаторы, которые есть на карте или устройствах. Терминаторы должны быть только на двух оконечных устройствах SCSI-цепи. Если ваша шина наполовину внутренняя и наполовину внешняя, то терминаторы должны стоять по одному на последних SCSI-устройствах внешней и внутренней половины цепи, а на самой карте терминатора не должно быть.</P
><P
>Проверьте жесткость и правильность подключения всех кабелей.</P
><P
>Конфигурация ядра аналогична тому, что требуется для внутренней реализации SCSI-ZIP-дисковода. См. следующую главу "Встроенная SCSI-версия", в которой приведен пример конфигурации ядра.</P
><DIV
CLASS="SECT3"
><HR><H3
CLASS="SECT3"
><A
NAME="AEN198"
>4.2.1. Адаптер ZIP ZOOM</A
></H3
><P
>Iomega продает SCSI-адаптер, называемый ZIP Zoom. Это один из представителей семейства адаптеров <I
CLASS="EMPHASIS"
>Adaptec AHA1520</I
>. У него есть внешний DB25F-коннектор типа Macintosh, совместимый с кабелем, поставляемым с ZIP-дисководом.</P
><P
>Linux поддерживает этот адаптер при помощи драйвера <I
CLASS="EMPHASIS"
>aha152x</I
>.</P
></DIV
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="AEN204"
>4.3. Встроенная SCSI-версия</A
></H2
><P
>  </P
><P
>Установите карту в соответствии с "Руководством по Установке", запоминая номера SCSI ID, IRQ и портов ввода-вывода. (Вам они понадобятся.) Все будет значительно проще, если дисковод и карта используют разные SCSI ID.</P
><P
><I
CLASS="EMPHASIS"
>Внимание</I
> Карта zip zoom всегда использует scsi ID, равное 7. "scsi id" в командах, приведенных ниже, относятся к карте, а не к дисководу. Карта и дисковод должны использовать разные номера scsi id. Например, если карта использует 7, то дисковод должен использовать 5 или что-то другое, отличное от 7.</P
><P
>Пересоберите ядро, включив в него поддержку 'SCSI', 'SCSI disk' и 'AHA152X/2825'. УСТАНОВИТЕ НОВОЕ ЯДРО :-(</P
><P
>Строка, передаваемая ядру при запуске, должна иметь следующий вид:</P
><P
><TT
CLASS="LITERAL"
> aha152x=[I/O Port][,IRQ][,SCSI ID][,RECONNECT][,PARITY] </TT
></P
><P
>Например:</P
><P
><TT
CLASS="LITERAL"
>  aha152x=0x140,10,7,1 </TT
></P
><P
>Если вы используете LILO, то добавьте необходимую строку в командную строку ядра в файле lilo.conf при помощи опции append.</P
><P
>  (например: append = "aha152x=0x140,10,7,1")</P
><P
>Если вы используете LOADLIN, то добавьте эту строку в команду загрузки ядра:</P
><P
>  (например: loadlin c:\vmlinuz root=/dev/hda3 aha152x=0x140,10,5,1 ro)
	 </P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="AEN221"
>4.4. ZIP Plus - драйвер IMM</A
></H2
><P
>Этот дисковод описан на веб-странице по адресу
<A
HREF="http://www.iomega.com/product/zip/zipplus.html"
TARGET="_top"
>http://www.iomega.com/product/zip/zipplus.html</A
></P
><P
>Это - <I
CLASS="EMPHASIS"
>самая новая</I
> версия внешнего Zip-дисковода. Для работы
<I
CLASS="EMPHASIS"
> Zip Plus </I
> не используется драйвер ppa, вместо него применяется драйвер
<I
CLASS="EMPHASIS"
> imm </I
>.
<A
HREF="mailto:Philippe_Andersson@ste.scitex.com"
TARGET="_top"
>Philippe Andersson</A
>
прислал нам эти советы по использованию драйвера imm вместе с Zip Plus. Большое спасибо, Philippe.</P
><P
>Во-первых вам надо пересобрать ядро, включив в него следующее:</P
><P
>&#13;<P
></P
><UL
><LI
><P
>Поддержку модулей (modules support)</P
></LI
><LI
><P
>Поддержку SCSI (SCSI support)</P
></LI
><LI
><P
>Поддержку SCSI дисков (SCSI Disk support)</P
></LI
><LI
><P
>Драйвер lp должен быть собран в виде модуля (если он вам вообще нужен)</P
></LI
></UL
>&#13;</P
><P
>Заметьте, что мы не включаем поддержку какого-то конкретного SCSI-адаптера. Это правильно -- она будет отдельно построена позже.</P
><P
>Затем вам понадобятся исходные тексты драйвера с домашней страницы Dave Campbell (<A
HREF="http://www.torque.net/~campbell/imm.tar.gz"
TARGET="_top"
>http://www.torque.net/~campbell/imm.tar.gz</A
>). На момент написания этого документа (Август 1998 года) текущей является версия 0.18. Разархивируйте этот файл (например в каталог <TT
CLASS="LITERAL"
>/usr/src</TT
>). Затем просто дайте команду
<TT
CLASS="LITERAL"
>make</TT
>. Вы получите необходимый вам модуль (<TT
CLASS="LITERAL"
>imm.o</TT
>). Скопируйте его в каталог /lib/modules/$(uname -r)/scsi.</P
><P
>Если у вас был загружен модуль lp, (проверьте это при помощи команды <I
CLASS="EMPHASIS"
>lsmod</I
>(1)), то вам надо его выгрузить
(<TT
CLASS="LITERAL"
>rmmod lp</TT
>), затем загрузить <TT
CLASS="LITERAL"
>imm.o</TT
> (<TT
CLASS="LITERAL"
>insmod imm</TT
>)
и у вас практически все настроено.</P
><P
>Если ZIP-дисковод не был подключен и включен в сеть при загрузке модуля, то вы получите сообщение "init_module: Device or resource busy (Устройство или ресурс заняты)", и модуль не загрузится. (Кстати, оказывается, что для подключения ZIP-дисковода не надо отключать компьютер -- просто убедитесь в том, что модуль не загружен в память и дисковод отключен от сети, затем подключите дисковод к компьютеру, включите его и загрузите модуль.)</P
><P
>Если дисковод был подключен и включен, но в нем не было диска, то модуль загрузится, но выдаст сообщение о том, что он не может прочитать таблицу разделов. Это нормально - таблица разделов загрузится автоматически, когда вы вставите диск.</P
><P
>Если в дисководе был диск, то на экран будет выдана подробная информация, включая данные о разделах на диске, и статус Защиты от Записи. В этом случае он выдаст на экран примерно следующее:</P
><P
>vger:~# insmod imm
imm: Version 0.18
imm: Probing port 03bc
imm: Probing port 0378
imm:     SPP port present
imm:     ECP with a 16 byte FIFO present
imm:     PS/2 bidirectional port present
imm:     Passed Intel bug check.
imm: Probing port 0278
scsi0 : Iomega ZIP Plus drive
scsi : 1 host.
  Vendor: IOMEGA    Model: ZIP 100 PLUS      Rev: J.66
  Type:   Direct-Access                      ANSI SCSI revision: 02
Detected scsi removable disk sda at scsi0, channel 0, id 6, lun 0
SCSI device sda: hdwr sector= 512 bytes. Sectors= 196608 [96 MB] [0.1 GB]
sda: Write Protect is off
 sda: sda1
vger:~#</P
><P
>И, напоследок, маленькое замечание: эта версия драйвера блокирует дверцу дисковода на период работы с диском. Если в этом случае нажать кнопку выброса диска, то ничего не произойдет, однако дисковод "запомнит", что вы нажали эту кнопку и выбросит диск сразу после того, как вы отключите все подключенные с него разделы.</P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="AEN257"
>4.5. Версия ATAPI</A
></H2
><P
>Этот дисковод описан на веб-странице по адресу
<A
HREF="http://www.iomega.com/product/zip/zipatapi.html"
TARGET="_top"
>http://www.iomega.com/product/zip/zipatapi.html</A
></P
><P
>Некоторое время производилась IDE-версия этого дисковода. Я думаю, что в большинстве своем, она уже заменена на ATAPI-версию.</P
><P
>Donald Stidwell прислал нам эти советы по использованию ATAPI-версии. Спасибо, Don.</P
><P
>Я использую ATAPI Zip-дисковод, и он работает и с ядром 2.0.32, и с 2.0.33. Я использовал его как в RH 5.0, так и в OpenLinux 1.2 (она сейчас установлена у меня). Для того, чтобы дисковод работал в OpenLinux, я просто включил в ядре поддержку ATAPI флоппи-дисков
(<I
CLASS="EMPHASIS"
>ATAPI floppy support</I
>). По умолчанию такая поддержка не включена в OpenLinux.</P
><P
>Никаких других драйверов не требуется. Он подключается, как расширенный раздел на 4-ом основном разделе. То есть, у меня это hdb4. Я подключаю его к /mnt/zip без автоподключения. Я не думаю, что у вас могут возникнуть проблемы с автоподключением, просто я думаю о извлечении диска.. Я всегда отключаю подключенные разделы перед тем, как извлечь диск.</P
><P
>Более подробные инструкции по установке ATAPI ZIP читайте в майском (1998 г.) выпуске Linux Gazette. См. раздел "2-центовые советы".</P
><P
>     &#60;url url="http://www.linuxgazette.com/issue28/lg_tips28.html#atapi"&#62;
       </P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="AEN268"
>4.6. Версия IDE</A
></H2
><P
>Я не использовал IDE-версию. Эти советы прислал Eric Backus. Спасибо, Eric.</P
><P
>У меня есть один из этих дисководов. Он входил в комплект поставки моего компьютера Gateway 2000, который я приобрел около года назад. Я думаю, что большинство таких дисководов поставлялись большим OEM-компаниям, таким как Gateway, до того, как появились ATAPI-версии.</P
><P
>Хорошие новости: для работы с эти дисководом не требуется никаких дополнительных модулей, ни каких либо исправлений в ядре. Ядро воспринимает его, как обычные IDE-диск. Он работал в моей системе без проблем, с ядрами 2.0.31 и 2.0.32.</P
><P
>Плохие новости: этот дисковод не использует ATAPI, поэтому вы не можете использовать эмуляцию  SCSI-ATAPI - это означает, что вы не можете использовать mtools для установки защиты от записи (или например для извлечения диска).</P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="AEN274"
>4.7. Версия USB</A
></H2
><P
>Этот дисковод описан на веб-странице по адресу
<A
HREF="http://www.iomega.com/product/zip/imac.html"
TARGET="_top"
>http://www.iomega.com/product/zip/imac.html</A
></P
><P
>Эти дисководы выглядят очень красиво, также как и интерфейс USB. Единственная проблема состоит в том, что поддержка интерфейса USB в Linux все еще находится на стадии начальной разработки. Поэтому, к сожалению, этот дисковод в Linux использовать нельзя. Об обновлениях читайте по адресу:</P
><P
><A
HREF="http://peloncho.fis.ucm.es/~inaky/USB/news.html"
TARGET="_top"
>http://peloncho.fis.ucm.es/~inaky/USB/news.html</A
></P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="AEN281"
>4.8. Версия ZIP250</A
></H2
><P
>Этот дисковод описан на веб-странице по адресу
<A
HREF="http://www.iomega.com/product/zip/zip250.html"
TARGET="_top"
>http://www.iomega.com/product/zip/zip250.html</A
></P
><P
>Этот дисковод впервые появился в Январе 1999 года. Я только что его приобрел и он прекрасно работает в Linux. Он работает с драйвером IMM, который есть по адресу
<A
HREF="http://www.torque.net/~campbell/imm.tar.gz"
TARGET="_top"
>http://www.torque.net/~campbell/imm.tar.gz</A
>
Настройте драйвер также, как это надо делать с zip plus. Просто загрузите драйвер, распакуйте его, и запустите make. Затем скопируйте файл imm.o в каталог модулей. Это будет /lib/modules/версия_ядра/scsi (вместо версия_ядра подставьте версию вашего ядра). Если вы не знаете номера версии ядра, то вы можете узнать его командой uname -r.</P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H1
CLASS="SECT1"
><A
NAME="AEN287"
>5. Использование ZIP-дисковода</A
></H1
><P
>Если в ваше ядро встроены все требуемые компоненты, то оно должно распознать ваш адаптер и устройство во время загрузки. Если вы используете загружаемый модуль для вашего драйвера, то обращение к нему происходит когда он загружен.</P
><P
>В общем случае, SCSI версии и версии устройства ZIP для параллельного порта ведут себя одинаково, за исключением того, что версия для параллельного порта работает медленнее.</P
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="AEN291"
>5.1. Fdisk, mke2fs, mount, и т.п.</A
></H2
><P
>Теперь, когда вы знаете имя устройства ZIP, которое вы установили. С помощью команд управления вы можете работать с этим устройством, как с нормальным диском.
<TT
CLASS="LITERAL"
>fdisk</TT
> (или <TT
CLASS="LITERAL"
>cfdisk</TT
>) используется для управления разделами на диске. <TT
CLASS="LITERAL"
>mke2fs</TT
> может использоваться для форматирования раздела под файловую систему ext2 - наиболее часто используемая в Linux. <TT
CLASS="LITERAL"
>mount</TT
> - для подсоединения форматированного раздела к вашему дереву каталогов.</P
><P
>Вы можете изучить страницы руководства (man) по этим утилитам, если вы не достаточно знакомы с ними. Предупреждаю, что сейчас существуют несколько версий программы <TT
CLASS="LITERAL"
>fdisk</TT
> - будьте внимательны.</P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="AEN300"
>5.2. Существующий диск, отформатированный под DOS</A
></H2
><P
>Если на вашем ZIP диске файловая система DOS, созданная с помощью утилит фирмы Iomega, то у вас будет только один раздел, <TT
CLASS="LITERAL"
>/dev/sda4</TT
>.</P
><P
>Создайте каталог <TT
CLASS="LITERAL"
>/zip</TT
>, и присоедините устройство как файловую систему MS-DOS:</P
><P
>&#13;<PRE
CLASS="SCREEN"
>       mkdir /zip
       mount -t vfat /dev/sda4 /zip</PRE
>&#13;</P
><P
>Вы можете также использовать msdos вместо vfat. vfat поддедрживает длинные имена файлов, а msdos - нет. Теперь, файлы на диске должны появиться в каталоге /zip. Пока диск присоединен, вы не можете его вынуть. Когда вы закончите работу с диском, вы должны отсоединить его и отделить от вашей файловой структуры.</P
><P
>&#13;<PRE
CLASS="SCREEN"
>       umount /zip</PRE
>&#13;</P
><P
>Раз сделав точку монтирования /zip - вам не нужно повторять эту процедуру снова, вы можете таким же образом монтировать другие диски.</P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="AEN312"
>5.3. Переформатирование диска в формате Linux</A
></H2
><P
>Если вы хотите создать на диске файловую систему Linux native. Вы должны использовать fdisk:</P
><P
>&#13;<PRE
CLASS="SCREEN"
>       fdisk /dev/sda</PRE
>&#13;</P
><P
>- удаляет любые существующие разделы (с командой <TT
CLASS="LITERAL"
>d</TT
>). Создайте новый раздел с использованием команды <TT
CLASS="LITERAL"
>n</TT
>, сделайте его основным разделом с номером 1, используйте команду <TT
CLASS="LITERAL"
>w</TT
>, чтобы записать таблицу разделов на диск, и <TT
CLASS="LITERAL"
>q</TT
> - выход.</P
><P
>Форматируйте раздел</P
><P
>&#13;<PRE
CLASS="SCREEN"
>       mke2fs /dev/sda1</PRE
>&#13;</P
><P
>(1 - номер, который вы дали этому разделу в программе <TT
CLASS="LITERAL"
>fdisk</TT
>). Теперь вы можете монтировать диск:</P
><P
>&#13;<PRE
CLASS="SCREEN"
>       mount -t ext2 /dev/sda1 /zip</PRE
>&#13;</P
><P
>(точка монтирования /zip уже была создана).</P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="AEN330"
>5.4. Строки файла fstab</A
></H2
><P
>Файл /etc/fstab позволяет вам конфигурировать команду mount. Мне нравиться чтобы монтирование и запись на диск мог осуществлять любой пользователь в системе. Я добавил 2 строки в конец файла fstab.</P
><P
>   /dev/sda1	/zip		ext2		noauto,rw,user,nosuid,sync
   /dev/sda4	/zipdos		vfat		noauto,rw,user,nosuid,sync,mode=0777
   </P
><P
>Эти записи предполагают, что вы имеете директории /zip и a /zipdos. Если вы хотите, чтобы все пользователи могли писать и читать с диска, установите соответствующие права. Например, <I
CLASS="EMPHASIS"
> chmod 666 /zip </I
>. Исполняйте chmod под root. Записи в файле fstab также предполагают, что ваш dos диск имеет номер 4 (sda4 в моем случае), и ext2(linux) диск имеет номер 1 (sda1). Вы можете узнать больше об опциях fstab из руководства <I
CLASS="EMPHASIS"
>man mount</I
>.</P
><P
>Используя описанные выше записи файла fstab вы можете монтировать диск с файловой системой dos, используя
<I
CLASS="EMPHASIS"
> mount /zipdos </I
>.
Если вы используете linux ext2 диск, тогда применяйте команду
<I
CLASS="EMPHASIS"
> mount /zip </I
>.</P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="AEN340"
>5.5. Диск с утилитами ZIP</A
></H2
><P
>Необходимо сделать некоторые действия, если вы хотите использовать диск который идет с устройством ZIP. Программное обеспечение позволяет контролировать защиту от записи на диск. Большинство людей разблокируют диск под DOS, прежде чем использовать его в Linux. Linux не может получить доступ к заблокированному диску, и вы должны разблокировать его с помощью утилиты фирмы Iomega.</P
><P
>Как ожидается, скоро такая утилита будет доступна под Linux.</P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H1
CLASS="SECT1"
><A
NAME="AEN344"
>6. Быстродействие</A
></H1
><P
>Со стандартной версией (2.0.x) ядра вы получаете программу ppa.c версии 0.26. Это очень надежная и простая программа. Она получила достаточное распространение и очень неплохо поддерживается. Одно только плохо - программа работает не очень быстро, как того хотелось бы. На моей машине ядро версии 2.0.30, два параллельных порта, pentium 133, 16Мб памяти и 5 Гб eide жесткий диск. Машина обошлась мне в 500. U.S. $ и устройство ZIP в 250 $.</P
><P
>ZIP устройство у меня стоит на втором порту, а принтер на первом. Второй порт находится на старой карте и не поддерживает режим EPP. Таким образом драйвер работает в 4 битном режиме.</P
><P
>Чтобы проверить производительность, я скопировал файл (10.6Мб) с жесткого диска на zip. Время копирования - 7 минут 15 секунд. Копирование с zip на жесткий диск заняло 7 минут.</P
><P
>Я сделал 2 изменения. Первое, я переключил zip на первый порт и установил в BIOS режим EPP для первого порта. В тоже время, я подключил принтер ко второму порту.</P
><P
>Второе, я скачал новую версию программы со странички <A
HREF="http://www.torque.net/~campbell/"
TARGET="_top"
>David Campbells</A
>.
Затем я установил эту программу.</P
><P
>Прочитайте файл readme, который идет вместе с программой. Потом я запусти тот же тест (копирование файла) снова и скопировал файл с zip и обратно. Копирование на жесткий диск заняло 1 минуту 55 секунд. С жесткого диска на Zip ровно 1 минуту. Сравните - 7:15 и7:00 со старой программой. Это большое усовершенствование по сравнению с версией 0.26.</P
><P
>Далее я отформатировал zip диск в файловую систему ext2. Запустил тот же тест. Результаты соответственно 50 и 40 секунд.</P
><P
><I
CLASS="EMPHASIS"
> Отчет о производительности </I
></P
><P
>Тест на копирование файла размером 10.6 Мб с zip на диск и обратно. Стандартный порт в режиме 4 бит и программа (версия 0.26) - 7:00 и 7:15 (медленно).</P
><P
>Новая программа (версия 1.41) и режим порта EPP с файловой системой ext2 - 50 и 40 секунд (очень быстро).</P
></DIV
><DIV
CLASS="SECT1"
><HR><H1
CLASS="SECT1"
><A
NAME="AEN358"
>7. Часто задаваемые вопросы</A
></H1
><P
>Здесь рассмотрены некоторые вопросы, которые мне часто задаеют. Пожалуйста почитайте ответы на них, перед тем как задать их же!</P
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="AEN361"
>7.1. Могу ли я использовать принтер, подключив его к дисководу ZIP?</A
></H2
><P
>Да, но. В настоящее время, вы не можете иметь оба драйвера (lp и ppa) активными на одном параллельном порту. Совместно используемый протокол был разработан и находится на ранней стадии использования, но он не будет доступен до того, как будет выпущен Linux 2.0.</P
><P
>Если вы хотите иметь такую вещь, получите ядро версии 2.1.x и вы получите возможность совместного использования порта. См.
<A
HREF="http://www.cyberelk.demon.co.uk/parport.html"
TARGET="_top"
>http://www.cyberelk.demon.co.uk/parport.html</A
>  </P
><P
>Проще иметь 2 параллельных порта. Я купил мой второй относительно дешево (15 $) и все работает превосходно. Вы можете использовать один для печати, другой для ZIP. Только соберите ядро с обоими драйверами lp и ppa в качестве модулей. Я использую более новую (1.41) версию ppa, т.о. я только загружаю ppa первым (insmod ppa). Тогда он находит zip на первом порту. Затем загружается lp (insmod lp) и назначает принтеру второй порт. Если вы используете версию 0.26, тогда обновите ее до 1.41 или до более новой. Единственное, что можно сказать относительно этого драйвера - обновите его.</P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="AEN367"
>7.2. Будет ли когда-нибудь в PPA встроена поддержка EPP/ECP?</A
></H2
><P
>Версия программы 0.26не поддерживает режим EPP. Версия 1.41 <I
CLASS="EMPHASIS"
>имеет</I
>
поддержку EPP. Эта программа также намного быстрее. Смотри раздел по производительности.</P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="AEN371"
>7.3. Могу ли я загрузить Linux с ZIP-дисковода?</A
></H2
><P
>Это уже сделано и т.о. можно сделать большой диск для аварийного восстановления или использовать его для проверки установки.</P
><P
><A
HREF="http://metalab.unc.edu/LDP/HOWTO/mini/ZIP-Install.html"
TARGET="_top"
>http://metalab.unc.edu/LDP/HOWTO/mini/ZIP-Install.html</A
></P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="AEN376"
>7.4. Могу ли я загрузиться с ZIP-дисковода?</A
></H2
><P
>Это зависит от того, что вы используете в качестве главного контроллера. Если ваш контроллер есть в BIOS, тогда да, вы можете загружаться с устройства SCSI ZIP. Вы не можете загружаться с устройства для параллельного порта.</P
><P
>Если у вас есть DOS на основном диске и вы хотите загружать Linux с ZIP диска, вы можете использовать для этого загрузчик LOADLIN. Ваше ядро должно находится где-то на DOS диске, но остальная часть системы может находиться на ZIP. Убедитесь, что ядро которое вы используете имеет корректные встроенные драйверы.</P
><P
>Насколько я знаю, нет никаких установочных загрузочных дискет любых популярных дистрибутивов, которые содержат драйверы ZIP для параллельного порта.</P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="AEN381"
>7.5. Почему IOMega использует раздел номер 4?</A
></H2
><P
>Это один из самых популярных вопросов, но я не думаю, что кто-то знает определенный ответ на него. Может это просто им в голову пришло, а возможно просто нет никакой причины.</P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="AEN384"
>7.6. Может ли ZIP-диск быть подключен в процессе загрузки системы?</A
></H2
><P
>Все, что вы должны сделать - добавить строку в файл <TT
CLASS="LITERAL"
>/etc/fstab</TT
>. Например, если вы всегда держите диск DOS в устройстве, когда загружаетесь, вы должны поместить строку</P
><P
>&#13;<PRE
CLASS="SCREEN"
>       /dev/sda4   /zip  vfat  defaults  0 0</PRE
>&#13;</P
><P
>в файл <TT
CLASS="LITERAL"
>fstab</TT
>. Многое зависит от вашего дистрибутива, инициализационный скрипт может попробовать запустить fsck на разделах, записанных в файле fstab. Знайте, что это может вызвать проблемы, если вы забудете поместить диск в устройство, когда идет загрузка или когда в нем неправильный диск.</P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="AEN392"
>7.7. Что произойдет, если при загрузке в дисководе не будет диска?</A
></H2
><P
>Ядро будет пробовать прочитать таблицу разделов, но операция прервется из-за превышения времени ожидания. Нет причин волноваться по этому поводу. Как только вы вставите диск, ядро обратит внимание, что он имеется в устройстве и пересканирует таблицу разделов.</P
><P
>ПОДСКАЗКА: когда вы меняете диски, неплохо бы всегда использовать fdisk, чтобы проверить структуру разделов на новом диске.</P
><P
>BIOS на некоторых SCSI конроллерах будет пытаться читать таблицу разделов на вашем диске в течении загрузки системы. Если вы не можете отключить эту проверку, вам придется всегда загружаться с диском в устройстве.</P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="AEN397"
>7.8. Могу ли я использовать дисковод, подключенный к параллельному порту, как настоящий SCSI?</A
></H2
><P
>Адаптер PPA-3 parallel -&#62; SCSI - выполнен, как единый ASIC чип, который Iomega называет VPI0. Он встроен в контроллер ZIP. Это фактически SCSI шина, но от этого мало толку.</P
><P
>Хотя я не пробовал сравнивать эти две платы, логически кажется, что VPI0 заменяет обычные электрические схемы буферизации, которые требовались бы если SCSI шина была вне пакета.</P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="AEN401"
>7.9. Можно ли использовать PPA с стриммерами Iomega, подключенными к параллельному порту?</A
></H2
><P
>Нет. Это ленточные накопители. Нет никаких SCSI устройств.</P
><P
>Некоторые люди попробовали определить протокол и разрабатывают драйвер для этих устройств. Неплохо бы получить DOS драйвер работающий под DOSemu. Но я еще не слышал, чтобы кто-нибудь добился этого.</P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="AEN405"
>7.10. Будет ли PPA работать с подключенному к параллельному порту SyQuest EZ135 ?</A
></H2
><P
>Нет. EZ135 - IDE устройство с конвертером ShuttlePort parallel -&#62; IDE встроенный в него.</P
><P
>Однако есть некоторая работа по этому драйверу. Проверьте</P
><P
><A
HREF="http://www.torque.net/linux-pp.html"
TARGET="_top"
>http://www.torque.net/linux-pp.html</A
></P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H1
CLASS="SECT1"
><A
NAME="SEC-MORE-INFO"
>8. Более подробная информация</A
></H1
><P
>Более новые версии программы zip для параллельного порта и техническая информация по драйверу - 
<A
HREF="http://www.torque.net/~campbell/"
TARGET="_top"
>http://www.torque.net/~campbell/</A
></P
><P
>Информация по многим устройствам для параллельного порта - 
<A
HREF="http://www.torque.net/linux-pp.html"
TARGET="_top"
>http://www.torque.net/linux-pp.html</A
></P
><P
>Совместное использование параллельного порта - 
<A
HREF="http://www.cyberelk.demon.co.uk/parport.html"
TARGET="_top"
>http://www.cyberelk.demon.co.uk/parport.html</A
></P
><P
>Установка Linux с zip (для машин без CD) - 
<A
HREF="http://metalab.unc.edu/mdw/HOWTO/mini/Install-From-ZIP.html"
TARGET="_top"
>http://metalab.unc.edu/mdw/HOWTO/mini/Install-From-ZIP.html</A
></P
><P
>X интерфейс для программы ziptool - 
<A
HREF="http://www.scripps.edu/~jsmith/jazip/"
TARGET="_top"
>http://www.scripps.edu/~jsmith/jazip/</A
></P
><P
>Информация по конфигурации Lilo - 
<A
HREF="http://metalab.unc.edu/mdw/HOWTO/mini/LILO.html"
TARGET="_top"
>http://metalab.unc.edu/mdw/HOWTO/mini/LILO.html</A
></P
><P
>Информация по использованию bootprompts - 
<A
HREF="http://metalab.unc.edu/mdw/HOWTO/BootPrompt-HOWTO.html"
TARGET="_top"
>http://metalab.unc.edu/mdw/HOWTO/BootPrompt-HOWTO.html</A
></P
><P
>Если вы устанавливаете Linux ОС на Zip или запускаете ОС с Zip - 
<A
HREF="http://metalab.unc.edu/LDP/HOWTO/mini/ZIP-Install.html"
TARGET="_top"
>http://metalab.unc.edu/LDP/HOWTO/mini/ZIP-Install.html</A
></P
><P
>Iomega - 
<A
HREF="http://www.iomega.com/"
TARGET="_top"
>http://www.iomega.com/</A
></P
><P
>Общая информация для программирования параллельного порта на PC - 
<A
HREF="http://www.lvr.com/parport.htm"
TARGET="_top"
>http://www.lvr.com/parport.htm</A
></P
></DIV
><DIV
CLASS="SECT1"
><HR><H1
CLASS="SECT1"
><A
NAME="AEN433"
>9. Авторские права</A
></H1
><P
>Авторские права на русский перевод этого текста принадлежат &copy; 2000 SWSoft Pte Ltd.
Все права зарезервированы.</P
><P
>Этот документ является частью проекта Linux HOWTO.</P
><P
>Авторские права на документы Linux HOWTO принадлежат их авторам, если явно
не указано иное. Документы Linux HOWTO, а также их переводы, могут
быть воспроизведены и распространены полностью или частично на любом
носителе, физическом или электронном, при условии сохранения этой заметки об
авторских правах на всех копиях. Коммерческое распространение разрешается и
поощряется; но, так или иначе, автор текста и автор перевода желали бы знать о
таких дистрибутивах.</P
><P
>Все переводы и производные работы, выполненные по документам Linux HOWTO,
должны сопровождаться этой заметкой об авторских правах. Это делается в
целях предотвращения случаев наложения дополнительных ограничений на
распространение документов HOWTO. Исключения могут составить случаи
получения специального разрешения у координатора Linux HOWTO, с которым
можно связаться по адресу приведенному ниже.</P
><P
>Мы бы хотели распространить эту информацию по всем возможным каналам. Но
при этом сохранить авторские права и быть уведомленными о всех планах
распространения HOWTO. Если у вас возникли вопросы, пожалуйста, обратитесь
к координатору проекта Linux HOWTO по электронной почте:
<TT
CLASS="EMAIL"
>&#60;<A
HREF="mailto:linux-howto@metalab.unc.edu"
>linux-howto@metalab.unc.edu</A
>&#62;</TT
> или к координатору русского
перевода Linux HOWTO компании SWSoft Pte Ltd. по адресу
<TT
CLASS="EMAIL"
>&#60;<A
HREF="mailto:linux-howto@asplinux.ru"
>linux-howto@asplinux.ru</A
>&#62;</TT
></P
></DIV
></DIV
></BODY
></HTML
>