<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>PPP HOWTO: Связывание двух сетей, использующих PPP</TITLE>
 <LINK HREF="PPP-HOWTO-23.html" REL=next>
 <LINK HREF="PPP-HOWTO-21.html" REL=previous>
 <LINK HREF="PPP-HOWTO.html#toc22" REL=contents>
</HEAD>
<BODY>
<A HREF="PPP-HOWTO-23.html">Next</A>
<A HREF="PPP-HOWTO-21.html">Previous</A>
<A HREF="PPP-HOWTO.html#toc22">Contents</A>
<HR>
<H2><A NAME="s22">22. Связывание двух сетей, использующих PPP</A></H2>

<P>В основном нет различия между соединением одного Linux PC с PPP сервером и 
соединением двух LAN, использующих PPP на машине в каждой LAN.
<P>Помните, PPP - это протокол точка-точка.
<P>Однако, вы ОПРЕДЕЛЕННО должны понимать как устанавливается маршрутизация. 
Читайте NET-2 howto и Руководство Сетевого Администратора Linux (NAG). Вы также
найдете неоценимую помощь в книге "Сетевое администрирование TCP/IP" (изданной 
O'Reilly и Assoc - ISBN 0-937175-82-X).
<P>Если вы собираетесь работать с подсетями на обоих сторонах связи, то вам также 
надо найти Linux subnetworking mini-howto). Он доступен в 
<A HREF="http://www.interweft.com.au/other/">Linux Subnetworking  mini-HOWTO</A>.
<P>Для того, чтобы связать две LAN, вы должны использовать различные сетевые IP
адреса (или подсети одного и того же сетевого адреса) и должны будете 
использовать статические IP адреса - или использовать IP masquerade. Если вы 
хотите использовать IP masquerade, см. IP masquerade mini-howto для инструкций
по его установке.
<P>
<P>
<H2><A NAME="ss22.1">22.1 Установка IP адресов</A>
</H2>

<P>Договоритесь с сетевым администратором другой LAN о IP адресах, которые будут 
использоваться на каждом конце интерфейса PPP. Если вы используете статические 
IP адреса, то также вероятно потребуется, чтобы вы звонили по определенному 
номеру телефона.
<P>Теперь отредактируйте соответствующий файл /etc/ppp/options[.ttyXX] - это 
хорошая идея - иметь специальный модем и порт на вашем конце для этого 
соединения. Может потребоваться изменить ваш файл /etc/ppp/options - и создать 
соответствующие файлы options.ttyXX для любых других соединений!
<P>Определите IP адреса на вашем конце PPP соединения в соответствующем файле 
опций точно так, как указано выше для статических IP адресов.
<P>
<P>
<H2><A NAME="ss22.2">22.2 Установка маршрутизации</A>
</H2>

<P>Вы должны упорядочить прохождение пакетов вашей LAN по интерфейсу, который 
устанавливает PPP связь. Это - двустадийный процесс.
<P>Прежде всего, вы должны установить маршрут от машины, выполняющей PPP соединение
с сетью(ями) на удаленном конце связи. Если связь с Интернет, то она может быть 
обработана в соответствии с маршрутом заданным по умолчанию, установленным 
непосредственно pppd на вашем конце соединения, используя опцию 'defaultroute'
pppd.
<P>Если однако, связь связывает только две LAN, то специальный сетевой маршрут 
добавляется для каждой сети, которая доступна через соединение. Это делается с 
использованием команды 'route' для каждой сети в скрипте /etc/ppp/ip-up (см. 
После того, как связь установлена... для инструкций о том, как это выполнить).
<P>Вторая вещь, которую вы должны сделать, это сообщить другим компьютерам о вашей
LAN, что ваш Linux компьютер является фактически 'шлюзом' для сети(ей) на 
удаленный конец ppp соединения.
<P>Конечно, сетевой администратор на другой стороне соединения также должен 
проделать все это! Однако, так как он/она будет направлять пакеты в указанные 
вами сети, то потребуется специфический сетевой маршрут, не заданный по 
умолчанию (unless the LANs at the far and of the link are linking into you to 
access the Internet across your connection).
<P>
<P>
<H2><A NAME="ss22.3">22.3 Сетевая безопасность</A>
</H2>

<P>Если Вы связываете вашу LAN с Интернетом, используя PPP - или даже только к 
"чужой" LAN, вы должны подумать о проблеме защиты. Я настойчиво прошу вас 
подумать об установке firewall!
<P>Вы должны также поговорить об этом с администратором LAN вашего сайта ПРЕЖДЕ, 
ЧЕМ вы начнете связываться с посторонними LAN или Интернет. Неправильная 
настройка может привести к неизвестно чему - от отсутствия какой-либо реакции 
до действительно серьезной проблемы!
<HR>
<A HREF="PPP-HOWTO-23.html">Next</A>
<A HREF="PPP-HOWTO-21.html">Previous</A>
<A HREF="PPP-HOWTO.html#toc22">Contents</A>
</BODY>
</HTML>
