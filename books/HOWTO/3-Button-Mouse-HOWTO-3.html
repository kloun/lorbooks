<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>The 3 Button Serial Mouse mini-HOWTO: Переключение мыши в 3х кнопочный режим</TITLE>
 <LINK HREF="3-Button-Mouse-HOWTO-4.html" REL=next>
 <LINK HREF="3-Button-Mouse-HOWTO-2.html" REL=previous>
 <LINK HREF="3-Button-Mouse-HOWTO.html#toc3" REL=contents>
</HEAD>
<BODY>
<A HREF="3-Button-Mouse-HOWTO-4.html">Next</A>
<A HREF="3-Button-Mouse-HOWTO-2.html">Previous</A>
<A HREF="3-Button-Mouse-HOWTO.html#toc3">Contents</A>
<HR>
<H2><A NAME="s3">3. Переключение мыши в 3х кнопочный режим</A></H2>

<P>Даже самые дешевые мыши обычно также могут работать с протоколом Mouse Systems,
и соотвественно с возможностью использования всех 3 кнопок. Весь вопрос заключается в том , как заставить мышь думать что она производства компании
Mouse Systems. Далее описаны несколько спобособ сделать это.
<P>
<H2><A NAME="ss3.1">3.1 Переключение с помошью левой клавиши </A>
</H2>

<P>Перед выключением питания нажмите левую клавишу мыши и держите её до тех
пор пока компьютер не загрузиться. 
<P>   
Когда мышь получает питание ,она проверяет не нажата ли левая клавиша мыши и ,если она нажата ,то происходит автоматическое переключение в режим
Mouse Systems. (!!!Внимание при простой перезагрузке компьютера (без отключения питания) мышь не выключается , поэтому для использования описанного выше метода надо отключить питание компьютера)
<H2><A NAME="ss3.2">3.2 Другие способы сброса мыши   </A>
</H2>

<P>  
Помимо способа показанного выше , существует еще несколько способов
переключения:
Можно не выключать компьютер , а просто вынуть мышь из последовательного порта и вставить обратно предварительно зажав левую кнопку.
<P> 
Некоторые мыши можно сбросить командой echo "*n" > /dev/mouse , что     будет иметь тот-же самый эффект , что и простое отключение питания 
Если этот метод срабатывает на вашей мыши то можете поместить соответствующую команду в ваш .xinitrc или другой файл используемый вами при инициализации X`ов
<P>
<P>  Боб Николас (
<A HREF="mailto:rnichols@interaccess.com">rnichols@interaccess.com</A>) написал программу на C которая делает то же самое , но часто работает даже если echo не срабатывает.
Вы можете взять копию программы на 
<A HREF="http://kipper.york.ac.uk/src/fix-mouse.c">http://kipper.york.ac.uk/src/fix-mouse.c</A><P>Для некоторых мышей также может быть достаточно вставить строку
'ClearDTR' в Xconfig , чтобы переключить их в режим MSS.
<P>
<P>
<H2><A NAME="ss3.3">3.3 Переключение режима путем манипуляций с микросхемой</A>
 </H2>

<P>И наконец если не один из описанных выше способов вам не помог , то вам скорее всего придеться вскрыть вашу мышь и попробывать переключить режим 
на ИС. 
<H3>Переключение посредством джампера </H3>

<P>На наиболее дешевых моделях мышей , часто встречается джампер вида
<PRE>
  
           -----------
          | o | o | o |  SW1
           -----------
            1   2   3
</PRE>
            
Где положения джампера 1-2 и 2-3 соответствует положению
PC\MS внешнего переключателя. Мышь с джампером но без внешнего переключателя довольно распространенное явление , т.к. таким образом многие
NONAME компании пытаются сэкономить на производстве.
<H3>Подключение средней клавиши к 2 другим   </H3>

<P> 
Еще одно возможное решение для мыши которая напрочь отказывается понимать   понимать протокол MSS это соединение проводника от средней клавиши с   сооствествующими проводниками левой и правой клавиш , так ,чтобы нажатие средней клавиши приводило к появлению токов в линиях левой и правой клавиши.
После такой операции нажатие средней клавиши будет эквивалентно нажатию   левой и правой клавиш одновременно , что при включенной эмуляции 3й   кнопки
даст нам полнофункциональную 3х кнопочную мышь.
<H3>Переключение режима  на чипе   </H3>

<P>Если вы обладаете мышью на чипсете Z8350(16pin) или HM8350A (18pin) то
вы можете использовать выходы из чипа для того чтобы активировать   необходимый вам режим. На обоих чипсетах режим мыши управляется с помощью
третьего вывода. Подключение его к "земле" активирует режим MSS. 
<P>
<PRE>
       pin1  -| \/ |-
       pin2  -|    |-
       pin3  -|    |-
             -|    |-
             -|    |-
             -|    |-
             -|    |-
       pin8  -|____|-
</PRE>
<P>
<P>   
<P>Подобное подключение возможно еще на нескольких чипах , их список с   инструкциями по подключению pin`он приведен ниже.
<PRE>
  SYSGRATION SYS2005  Pin3 --> земля
  HN8348A             Pin3 --> Pin9
  EC3567A1            Pin3 --> Pin8
  HT6510A             Pin3 --> Pin9
  HT6513B,HT6513F     Pin3 --> Pin8
  EM83701BP           Pin3 --> Pin8
  EC3576A1            Pin3 --> земля
  HM8370GP            Pin2 --> Pin7
  HM8348A             Pin3 --> Pin8 
  UA5212S             Pin3 --> Pin9
  
</PRE>
<P>
<P>
<H3>Авто-нажатие левой клавиши при подаче питания </H3>

<P>В качестве альтернативы можете попробывать собрать следующую схему
<PRE>

                -----
             ---  R  ---------O------ + Supply
            |   -----   |        |                     C = 100нФ конденсатор
            |           | E      |                     R = 100кОм
            |       __ /         |                     T = транзистор BC557 
            |      /  \          O
            |   B | #V | T         /
            |-----|-#  |          /   Переключатель левой клавиши
            |     | #\ |         O
            |      \__/          |
           ---         \  C      |
           --- C        ------O---------->
            |
           ###  Земля

   
</PRE>
<P>
<P>Примечание : если переключатель подключен к земле а не к + источника,
то необходимо использовать npn транзистор и поменять местами сопротивление
и емкость.
<P>
<HR>
<A HREF="3-Button-Mouse-HOWTO-4.html">Next</A>
<A HREF="3-Button-Mouse-HOWTO-2.html">Previous</A>
<A HREF="3-Button-Mouse-HOWTO.html#toc3">Contents</A>
</BODY>
</HTML>
