<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML
><HEAD
><TITLE
> NCD X terminal mini HOWTO</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.57"></HEAD
><BODY
CLASS="ARTICLE"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="ARTICLE"
><DIV
CLASS="TITLEPAGE"
><H1
CLASS="TITLE"
><A
NAME="AEN2"
>NCD X terminal mini HOWTO</A
></H1
><DIV
CLASS="AUTHORGROUP"
><A
NAME="AEN4"
></A
><H3
CLASS="AUTHOR"
><A
NAME="AEN5"
>Ian Hodge</A
></H3
><DIV
CLASS="AFFILIATION"
><DIV
CLASS="ADDRESS"
><P
CLASS="ADDRESS"
>&nbsp;&nbsp;&nbsp;&nbsp;     ian@permedia.ca
    <br>
&nbsp;&nbsp;&nbsp;</P
></DIV
></DIV
><H3
CLASS="CORPAUTHOR"
> Перевод: <A
HREF="mailto:sam@asp-linux.com"
TARGET="_top"
>Станислав Рогин</A
>,
 <A
HREF="http://www.asplinux.com"
TARGET="_top"
>SWSoft Pte Ltd.</A
>
 </H3
></DIV
><P
CLASS="PUBDATE"
>v1.09, March 27, 2000<BR></P
><DIV
><DIV
CLASS="ABSTRACT"
><A
NAME="AEN15"
></A
><P
></P
><P
>В этом документе описывается процесс подключения
X-Терминала NCD к UNIX-машине</P
><P
></P
></DIV
></DIV
><HR></DIV
><DIV
CLASS="TOC"
><DL
><DT
><B
>Содержание</B
></DT
><DT
>1. <A
HREF="NCD-X-Terminal.html#AEN17"
>Copyright</A
></DT
><DT
>2. <A
HREF="NCD-X-Terminal.html#AEN20"
>Авторские права</A
></DT
><DT
>3. <A
HREF="NCD-X-Terminal.html#AEN29"
>Введение</A
></DT
><DD
><DL
><DT
>3.1. <A
HREF="NCD-X-Terminal.html#AEN33"
>Краткое описание</A
></DT
></DL
></DD
><DT
>4. <A
HREF="NCD-X-Terminal.html#AEN48"
>Требования</A
></DT
><DD
><DL
><DT
>4.1. <A
HREF="NCD-X-Terminal.html#AEN50"
>Х терминал</A
></DT
><DT
>4.2. <A
HREF="NCD-X-Terminal.html#AEN53"
>Физическое подключение</A
></DT
><DT
>4.3. <A
HREF="NCD-X-Terminal.html#AEN56"
>Программное обеспечение Х сервера  NCD</A
></DT
></DL
></DD
><DT
>5. <A
HREF="NCD-X-Terminal.html#AEN59"
>Настройка UNIX машины</A
></DT
><DD
><DL
><DT
>5.1. <A
HREF="NCD-X-Terminal.html#AEN62"
>TFTP и  BootP</A
></DT
></DL
></DD
><DT
>6. <A
HREF="NCD-X-Terminal.html#AEN123"
>Настройка процесса загрузки Х терминала NCD</A
></DT
><DD
><DL
><DT
>6.1. <A
HREF="NCD-X-Terminal.html#AEN128"
>Синтаксис команд Boot монитора</A
></DT
><DT
>6.2. <A
HREF="NCD-X-Terminal.html#AEN159"
>Меню настройки Boot монитора</A
></DT
><DT
>6.3. <A
HREF="NCD-X-Terminal.html#AEN219"
>Файлы настройки Х терминала</A
></DT
><DT
>6.4. <A
HREF="NCD-X-Terminal.html#AEN237"
>Вход на другой хост</A
></DT
></DL
></DD
><DT
>7. <A
HREF="NCD-X-Terminal.html#AEN240"
>Шрифты и Х терминал</A
></DT
><DD
><DL
><DT
>7.1. <A
HREF="NCD-X-Terminal.html#AEN245"
>Сервер шрифтов</A
></DT
></DL
></DD
><DT
>8. <A
HREF="NCD-X-Terminal.html#AEN264"
>Разное</A
></DT
><DD
><DL
><DT
>8.1. <A
HREF="NCD-X-Terminal.html#AEN266"
>Поддерживаемые терминалы</A
></DT
><DT
>8.2. <A
HREF="NCD-X-Terminal.html#AEN270"
>Ссылки</A
></DT
><DT
>8.3. <A
HREF="NCD-X-Terminal.html#AEN282"
>Оборудование, использованное при подготовке данного документа</A
></DT
><DT
>8.4. <A
HREF="NCD-X-Terminal.html#AEN290"
>Благодарности</A
></DT
><DT
>8.5. <A
HREF="NCD-X-Terminal.html#AEN293"
>Спорные вопросы</A
></DT
><DT
>8.6. <A
HREF="NCD-X-Terminal.html#AEN309"
>Обратная связь</A
></DT
></DL
></DD
></DL
></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="AEN17"
>1. Copyright</A
></H1
><P
>The NCD X terminal mini HOWTO is copyright(c) 1998 by Ian Hodge. Linux
HOWTO documents may be reproduced and distributed in whole or in part, in
any medium physical or electronic, as long as this copyright notice is
retained on all copies.</P
></DIV
><DIV
CLASS="SECT1"
><HR><H1
CLASS="SECT1"
><A
NAME="AEN20"
>2. Авторские права</A
></H1
><P
>Авторские права на русский перевод этого текста принадлежат &copy; 2000 SWSoft Pte Ltd.
Все права зарезервированы.</P
><P
>Этот документ является частью проекта Linux HOWTO.</P
><P
>Авторские права на документы Linux HOWTO принадлежат их авторам, если явно
не указано иное. Документы Linux HOWTO, а также их переводы, могут
быть воспроизведены и распространены полностью или частично на любом
носителе, физическом или электронном, при условии сохранения этой заметки об
авторских правах на всех копиях. Коммерческое распространение разрешается и
поощряется; но, так или иначе, автор текста и автор перевода желали бы знать о
таких дистрибутивах.</P
><P
>Все переводы и производные работы, выполненные по документам Linux HOWTO,
должны сопровождаться этой заметкой об авторских правах. Это делается в
целях предотвращения случаев наложения дополнительных ограничений на
распространение документов HOWTO. Исключения могут составить случаи
получения специального разрешения у координатора Linux HOWTO, с которым
можно связаться по адресу приведенному ниже.</P
><P
>Мы бы хотели распространить эту информацию по всем возможным каналам. Но
при этом сохранить авторские права и быть уведомленными о всех планах
распространения HOWTO. Если у вас возникли вопросы, пожалуйста, обратитесь
к координатору проекта Linux HOWTO по электронной почте:
<TT
CLASS="EMAIL"
>&#60;<A
HREF="mailto:linux-howto@metalab.unc.edu"
>linux-howto@metalab.unc.edu</A
>&#62;</TT
> или к координатору русского
перевода Linux HOWTO компании SWSoft Pte Ltd. по адресу
<TT
CLASS="EMAIL"
>&#60;<A
HREF="mailto:linux-howto@asplinux.ru"
>linux-howto@asplinux.ru</A
>&#62;</TT
></P
></DIV
><DIV
CLASS="SECT1"
><HR><H1
CLASS="SECT1"
><A
NAME="AEN29"
>3. Введение</A
></H1
><P
>Этот документ описывает, как  X terminal, произведенный компанией NCD
(Network Computing Devices), может быть подключен и загружен с хоста
UNIX с использованием BootP. Многие терминалы могут быть загружены с RARP,
NFS или с платы PCMCIA, а также через последовательное соединение (напрямую
или через модем).</P
><P
>Хотя материалы этого документа основаны на работе с единственным Х
терминалом, большая их часть справедлива для других моделей и других Х
терминалов в общем. Существует другой mini HOWTO по Х терминалу Linux,
(признанный устаревшим специалистами на момент написания, и поэтому он,
возможно, отсутствует в некоторых дистрибутивах Linux), который
пересекается с данным документом. Тот документ содержит более общую
информацию об Х терминале.</P
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="AEN33"
>3.1. Краткое описание</A
></H2
><P
>Процесс подсоединения Х терминала к сети UNIX может быть кратко сведен к
выполнению следующих шагов :</P
><P
>&#13;<P
></P
><UL
><LI
><P
>физически подключите Х терминал к сети  </P
></LI
><LI
><P
>настройте хост UNIX, с которого Вы хотите загрузиться </P
></LI
><LI
><P
>настройте процедуру загрузки Х терминала </P
></LI
><LI
><P
>загрузите Х терминал </P
></LI
><LI
><P
>войдите в сеть </P
></LI
></UL
>&#13;</P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H1
CLASS="SECT1"
><A
NAME="AEN48"
>4. Требования</A
></H1
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN50"
>4.1. Х терминал</A
></H2
><P
>Х терминал- это устройство, которое связывает компьютеры и отображает
информацию, используя сетевую систему X Window. Обычно пакет программ Х
терминала, называемого Х сервер, подгружается из сети в момент запуска.
Пакеты программ, отличные от пакетов программ  Х сервера (X client
programs),  запускаются не на Х терминале(за некоторым исключением); Х
терминал отображает программы, запущенные на других машинах в сети. Х
терминал, в свою очередь, - это тип сетевого компьютера, который использует
Х протокол для доступа к сетевым ресурсам.</P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="AEN53"
>4.2. Физическое подключение</A
></H2
><P
>NCD Х терминал (модель Xncd19r  была использована при подготовке этого
документа) имеет коннектор RJ-45  (витая пара) для работы в 10baseT
Ethernet. Хаб необходим для соединения более двух устройств  Ethernet  с
использованием витой пары. Если Х терминал и его машина являются
единственными устройствами в сети, они могут быть связаны с помощью
нуль-кабеля, описанного в документе HOWTO по Linux Ethernet.&#13;</P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="AEN56"
>4.3. Программное обеспечение Х сервера  NCD</A
></H2
><P
>Программное обеспечение сервера Х терминала можно приобрести у
разработчика, а также он обычно поставляется при покупке терминала. Оно
должно находиться на запускающей машине, где к нему имеется
доступ в момент загрузки Х терминала. Терминал можно запустить с любой
машины, которая поддерживает коммуникационный протокол (это будет объяснено
в следующих главах). В дополнение к Х серверу существует пакет
приложений, таких как window manager, которые могут работать на Х
терминале.</P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H1
CLASS="SECT1"
><A
NAME="AEN59"
>5. Настройка UNIX машины</A
></H1
><P
>В момент запуска Х терминал скачивает файлы (включая программное
обеспечение для Х сервера) с удаленной машины в сети. После загрузки
терминала  Х сервер управляет вводом, выводом, локальными клиентами, а
также  протоколом обмена Х-ов. Программное обеспечение Х сервера работает
на Х терминале и не обязательно совместимо с программным обеспечением
машины, на которой оно находится.&#13;</P
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="AEN62"
>5.1. TFTP и  BootP</A
></H2
><P
>Вместе tftp (trivial file transfer protocol) с BootP (boot protocol server)
используются на удаленной машине для того, чтобы Х терминал скачал
программное обеспечение Х сервера и настроил файлы через сеть. Оба сервиса
обычно запускаются от inetd (Internet Daemon).</P
><P
>После включения Х терминал, если он настроен на загрузку из сети, рассылает
широковещательное сообщение, используя BootP (TCP/IP bootstrap protocol).
Это сообщение содержит адрес устройства Ethernet Х терминала, который
используется запускающей машиной в ответ на полученный запрос.</P
><P
>Когда ответ получен удаленной машиной, inetd (отвечая на запрос порта,
описанного в /etc/services) запускает демона BootP, который находится в
/etc/inetd.conf.</P
><P
>В файле inetd.conf создайте или раскомментируйте строки, относящиеся к TFTP
и BootP. Последний аргумент tftpd entry в нижеследующем примере - это путь
к каталогу, содержащему файлы, требующиеся Х терминалу. Хотя имена
каталогов не являются обязательными, ради безопасности они всегда должны
присутствовать, так как доступ tftpd будет ограничен для файлов в указанных
каталогах</P
><P
>Из простого файла /etc/inetd.conf: 

# tftp сервис предназначен, в первую очередь, для загрузки. Большинство сайтов
# действует только на машинах, работающих как "boot серверы".
tftp dgram udp wait root /usr/sbin/tcpd /usr/sbin/in.tftpd /usr/X11/lib/X11/ncd/
bootps dgram udp wait root /usr/sbin/tcpd /usr/sbin/in.bootpd&#13;</P
><P
>После активизации BootP демон сервера считывает файл базы данных
/etc/bootptab. Каждый вход содержит набор тегов, разделенных знаками ":" .
Имя машины должно быть первым тегом.</P
><P
>Используемые теги файла bootptab 
<P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><I
CLASS="EMPHASIS"
>hd</I
></DT
><DD
><P
>домашний каталог файла загрузки (например /usr/X11/lib/X11/ncd/). </P
></DD
><DT
><I
CLASS="EMPHASIS"
>ip</I
></DT
><DD
><P
>адрес Х терминала (например 10.0.0.1). </P
></DD
><DT
><I
CLASS="EMPHASIS"
>sm</I
></DT
><DD
><P
>маска подсети (например 255.0.0.0). Чтобы понять назначение маски подсети и
других принципов IP сети, обратитесь к документу HOWTO по Linux NET-3.&#13;</P
></DD
><DT
><I
CLASS="EMPHASIS"
>gw</I
></DT
><DD
><P
>адрес шлюза (например 10.0.0.1). </P
></DD
><DT
><I
CLASS="EMPHASIS"
>ht</I
></DT
><DD
><P
>тип аппаратного обеспечения- в данном примере Ethernet &#13;</P
></DD
><DT
><I
CLASS="EMPHASIS"
>ha</I
></DT
><DD
><P
>аппаратный адрес Х терминала (6-ти байтовый адрес Ethernet) </P
><P
>В соответствии с руководством UNIX по bootptab, тег 'ht' должен
предшествовать тегу 'ha'. При первом включении терминала, Ethernet адрес Х
терминала выводится на дисплей. Адрес появляется в виде 6 сдвоенных
шестнадцатеричных чисел, разделенных двоеточием (например
00:00:A7:12:26:19).&#13;</P
></DD
><DT
><I
CLASS="EMPHASIS"
>tc</I
></DT
><DD
><P
>Продолжение таблицы или имя другой записи базы данных BootP. Смотрите
пример ниже.</P
></DD
><DT
><I
CLASS="EMPHASIS"
>ds</I
></DT
><DD
><P
>IP адрес DNS (например 10.0.0.3). Не требуется, если DNS не используется
для разрешения имен машин.</P
></DD
><DT
><I
CLASS="EMPHASIS"
>bf</I
></DT
><DD
><P
>Имя файла запуска Х терминала (Обычно модель терминала используется как имя
файла Х сервера (например Xncd19r)</P
></DD
></DL
></DIV
></P
><P
>Ниже приведен пример файла базы данных сервера протокола Boot
/etc/bootptab. Знак '\' используется для пропуска перевода строки.</P
><P
># Это запись (дано имя default)
# с информацией, общей для всех клиентов BootP. 
default:hd=/usr/X11/lib/X11/ncd/:\
	ds=10.0.0.3:\
	sm=255.0.0.0:\
	gw=10.0.0.1:

# запись об Х терминале с именем машины myxterm 
# заметьте, что тег tc ссылается на запись default
myxterm:ht=ethernet:\
	ha=0x0000a7122619:\
	ip=10.0.0.2:\
	tc=default:\
	bf=Xncd19r:</P
><P
>Когда подходящая запись аппаратного адреса в запросе на загрузку найдена,
bootpd посылает ответ с IP адресом из этой записи. Файл пересылается по
протоколу IP с использованием TFTP.</P
><P
>Имя машины может быть назначено Х терминалу, путем создания записи на
запускающей машине в файле /etc/hosts. Этот файл используется, чтобы
сопоставить имена машин и соответствующие IP-адреса. В данном примере Х терминалу
(адрес 10.0.0.2) было задано имя машины 'myxterm'.</P
><P
>10.0.0.1 linuxhost #имя машины
10.0.0.2 myxterm #Х терминал</P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H1
CLASS="SECT1"
><A
NAME="AEN123"
>6. Настройка процесса загрузки Х терминала NCD</A
></H1
><P
>После включения Х терминал готов к загрузке. Это процесс, в ходе которого
программное обеспечение загружается в память и запускается. Если Х терминал
не может запуститься, появится приглашение к вводу '&#62;' Boot Monitor. Boot
Monitor - это программа производителя, находящаяся в ППЗУ терминала. С
интерфейсом Boot Monitor можно настраивать терминал на загрузку и загрузить
программное обеспечение Х сервера с машины. Используйте '?' для вывода
списка комманд Boot Monitor</P
><P
>Параметры настройки хранятся в энергонезависимой памяти и сохраняются перед
выключением терминала.</P
><P
>Из Boot Monitor терминал загружается с использованием 'bt' команд или
систем меню. Действие обоих методов во многом пересекается, однако меню
обеспечивает управление большим количеством параметров настройки.</P
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="AEN128"
>6.1. Синтаксис команд Boot монитора</A
></H2
><P
><TT
CLASS="LITERAL"
>&#62;bt file terminal_IP host_IP gateway_IP subnet_mask</TT
></P
><P
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><I
CLASS="EMPHASIS"
>file</I
></DT
><DD
><P
>Имя файла, который скачивается с удаленной машины, содержащий программу Х
сервера, используется для загрузки Х терминала  (например "Xncd19r").
Убедитесь, что имя файла совпадает с именем, в соответствующей записи файла
bootptab (объяснение смотри в предыдущем разделе).</P
></DD
><DT
><I
CLASS="EMPHASIS"
>terminal_IP</I
></DT
><DD
><P
>IP адрес, назначенный Х терминалу (например 10.0.0.2). Повторю,  что этот
IP адрес должен быть таким же, как и адрес, заданный в  соответствующей
записи  файла bootptab.</P
></DD
><DT
><I
CLASS="EMPHASIS"
>host_IP</I
></DT
><DD
><P
>IP адрес загрузочной машины (например 10.0.0.1). </P
></DD
><DT
><I
CLASS="EMPHASIS"
>gateway</I
></DT
><DD
><P
>IP адрес шлюза подсети (например 10.0.0.1) </P
></DD
><DT
><I
CLASS="EMPHASIS"
>subnet_mask</I
></DT
><DD
><P
>маска подсистемы в виде десятичного IP адреса или шестнадцатеричного числа  (например 255.0.0.0 или ff000000)</P
></DD
></DL
></DIV
></P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="AEN159"
>6.2. Меню настройки Boot монитора</A
></H2
><P
>Доступ к меню настройки осуществляется нажатием кнопки 'Setup' или
введением команды  'se' после приглашения  '&#62;'.</P
><P
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><I
CLASS="EMPHASIS"
>Get IP Addresses From</I
></DT
><DD
><P
>IP адрес Х терминала, хранящийся в энергонезависимой памяти. Выберите пункт
'Network', если Вы используете RARP (reverse ARP) для получения IP адреса
Х терминала с удаленной машины.</P
></DD
><DT
><I
CLASS="EMPHASIS"
>Terminal IP Address</I
></DT
><DD
><P
>IP адрес, назначенный X терминалу (например 10.0.0.2). Это то же, что и параметр 'terminal_IP'. </P
></DD
><DT
><I
CLASS="EMPHASIS"
>First Boot Host IP Address</I
></DT
><DD
><P
>IP адрес загрузочной машины (например 10.0.0.1). Это то же, что и параметр 'host_IP'.</P
></DD
><DT
><I
CLASS="EMPHASIS"
>Gateway IP Address</I
></DT
><DD
><P
>IP адрес шлюза подсети. Это то же, что и параметр 'gateway'. </P
></DD
><DT
><I
CLASS="EMPHASIS"
>Subnet Mask</I
></DT
><DD
><P
>Маска подсистемы, указанная в виде десятичных чисел. Это то же, что и параметр  'subnet_mask'.</P
></DD
><DT
><I
CLASS="EMPHASIS"
>Broadcast IP Address</I
></DT
><DD
><P
>Широковещательный IP адрес подсети (например 10.255.255.255) </P
></DD
><DT
><I
CLASS="EMPHASIS"
>Boot File</I
></DT
><DD
><P
>Имя файла, закачиваемого с удаленной машины, содержащего программное
обеспечение Х сервера. Файл используется для загрузки Х терминала (например
"Xncd19r").  Это то же, что и параметр  'file'.</P
></DD
><DT
><I
CLASS="EMPHASIS"
>TFTP Boot Directory</I
></DT
><DD
><P
>Имя каталога, содержащего файл загрузки (например "/usr/X11/lib/X11/ncd/" или "/tftpboot/"). </P
></DD
><DT
><I
CLASS="EMPHASIS"
>Config file</I
></DT
><DD
><P
>Имя файла настройки Х терминала на удаленной машине. </P
></DD
><DT
><I
CLASS="EMPHASIS"
>UNIX Config Directory</I
></DT
><DD
><P
>Имя каталога, содержащего файлы настройки Х терминала  (например "/usr/X11/lib/X11/ncd/").</P
></DD
><DT
><I
CLASS="EMPHASIS"
>TFTP Order, NFS Order, Local Order</I
></DT
><DD
><P
>Задайте '1' выбранному способу загрузки. Задайте '1' TFTP при загрузке с машины с использованием BootP. </P
></DD
></DL
></DIV
></P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="AEN219"
>6.3. Файлы настройки Х терминала</A
></H2
><P
>Во время процесса загрузки Х терминал попытается переправить и загрузить
файлы с запускающей машины. Для успешной загрузки Х терминала эти файлы не
требуются. Если файл не найден, терминал использует настройки по умолчанию.</P
><P
>Файлы настройки, посылаемые Х терминалу во время загрузки: 
<P
></P
><UL
><LI
><P
>файл конфигурации Х терминала (напр. ncd.conf), используемый для сохранения настроек терминала </P
></LI
><LI
><P
>файл цветов (напр. rgb.txt). </P
></LI
><LI
><P
>база данных настроек клавиатуры (напр. XKeysymDB) &#13;</P
></LI
><LI
><P
>файлы каталога шрифтов (напр. font.dir, font.alias). </P
></LI
></UL
>&#13;</P
><P
>После успешного завершения загрузки должно появиться окно консоли Х
терминала с меню. Кнопка настройки терминала выводит/прячет окно консоли. В
выпадающем меню 'setup' окна консоли отражены характеристики терминала. Они
могут быть изменены и сохранены в файле настроек для дальнейшего
использования.</P
><P
>Если TFTP применяется для передачи файлов с загрузочной машины, все
пользователи должны иметь право читать файл. Так же, чтобы файл настройки
для запускающей машины был сохранен, он должен иметь разрешение на запись.
Если используется secure TFTP (рекомендуется из соображений безопасности),
то доступ к файлу возможен только через указанные каталоги.</P
><P
><I
CLASS="EMPHASIS"
>Внимание!</I
> Терминал может не загрузиться, если перед этим он был настроен на
работу с другими машинами или под отличающиеся параметры настройки.
Проблема решается удалением сохраненных настроек путем сброса
энергонезависимой памяти.</P
><P
>Для сброса NVRAM наберите команду 'nv'. В этом подменю выберите 'l', чтобы
загрузить настройки по умолчанию; 's' для сохранения; и 'q' для выхода.
Повторите процедуру загрузки, описанную выше.</P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="AEN237"
>6.4. Вход на другой хост</A
></H2
><P
>В главном меню консоли выберите пункт 'terminals', в нем выберите 'New
Telnet...'. Когда появится окно telnet, введите адрес машины в сети и
нажмите 'OK'. Должно появиться приглашение на вход в машину. После входа Х
программа, включая менеджер окон, может быть запущена из окна telnet.</P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H1
CLASS="SECT1"
><A
NAME="AEN240"
>7. Шрифты и Х терминал</A
></H1
><P
>Х терминал поставляется с небольшим набором шрифтов. В меню настроек Х
терминала и в файлах настройки эти шрифты описаны как встроенные
(built-ins). Терминал может обходиться только им, однако желательно иметь
большее количество шрифтов. Шрифты могут быть добавлены по указанным в меню
настройки путям к файлам шрифтов или путем применения команды xset.</P
><P
>Если программное обеспечение Х сервера уже запущено и работает на Х
терминале, то путь к файлам шрифтов может быть изменен или запрошен с
помощью команды xset.</P
><P
>Для запроса: xset -q

Для добавления записи о шрифте: xset +fp &#60;path&#62;

Для удаления записи о шрифте: xset -fp &#60;path&#62; </P
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="AEN245"
>7.1. Сервер шрифтов</A
></H2
><P
>Сервер шрифтов (xfs) работает на машине в сети и отыскивает шрифты для Х
терминала, и других клиентов в сети. Применение сервера шрифтов позволяет
использовать большее разнообразие шрифтов, так как программное обеспечение
Х сервера ограничено растровыми шрифтами. Во время загрузки сервер шрифтов
может распаковывать, масштабировать и конвертировать шрифты для Х сервера,
а также может помочь упростить управление шрифтами для групп терминалов и
пользователей в сети. Программное обеспечение сервера шрифтов введено в Х
консорциум программного обеспечения (<A
HREF="ftp://ftp.x.org"
TARGET="_top"
>ftp.x.org</A
>)
и поставляется с большинством дистрибутивов Linux.&#13;</P
><P
>Для использования сервера шрифтов существует запись tcp service,
а не пути к шрифтам файла настроек или меню настройки консоли.&#13;</P
><P
>Формат записи tcp service
tcp/&#60;IP address of font server&#62;:&#60;port used by font server&#62;</P
><P
>Пример:
tcp/10.0.0.1:7100</P
><P
>Пример записи в файле настройки, находящемся на запускающей машине:&#13;</P
><P
>xserver-default-font-path = {
        { "tcp/10.0.0.1:7100" }
        { "built-ins" }
}</P
><P
>Команда xset с указанием сервиса tcp добавляет сервер шрифтов к пути:</P
><P
>xset +fp tcp/10.0.0.1:7100</P
><P
>Внимание! Некоторые версии NCD требуют, чтобы запись сервера шрифтов
предшествовала записям встроенных шрифтов. Это противоречит документу
"Руководство системного администратора для системы UNIX" по NCD.
Поэкспериментируйте с порядком путей к шрифтам и проверьте результаты с
помощью команды 'xset q'.</P
><P
>Сервер шрифтов запускается в момент загрузки из скрипта запуска rc.local.
Сервер шрифтов (xfs) запускается следующей командой:</P
><P
>xfs -config &lt;путь к файлу настроек&gt; -port &lt;порт сервера шрифтов&gt; &#13;</P
><P
>7100 - стандартный порт сервера шрифтов. </P
><P
>Пример:</P
><P
>xfs -config /usr/X11/lib/X11/fs/config -port 7100</P
><P
>Пример файла настроек сервера шрифтов: </P
><P
># Файл настроек сервера шрифтов:
   # максимальное количество клиентов = 10
   client-limit = 10

   # когда количество клиентов достигнет client-limit, запустится еще один сервер
   clone-self = on

   # использовать системный журнал в качестве журнала ошибок
   use-syslog = on

   # список каталогов шрифтов

   catalogue = /usr/X11R6/lib/X11/fonts/misc/,
      /usr/X11R6/lib/X11/fonts/Speedo/,
      /usr/X11R6/lib/X11/fonts/Type1/,
      /usr/X11R6/lib/X11/fonts/75dpi/,
      /usr/X11R6/lib/X11/fonts/100dpi/

   # файл используется для записи ошибок в журнал, если syslog не используется.
   error-file = /usr/X11R6/lib/X11/fs/fs-errors

   # 12 пунктов в десятых долях пункта
   default-point-size = 120

   # 100 x 100 и 75 x 75
   default-resolutions = 75,75,100,100</P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H1
CLASS="SECT1"
><A
NAME="AEN264"
>8. Разное</A
></H1
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN266"
>8.1. Поддерживаемые терминалы</A
></H2
><P
>Мне известно, что последовательность действий, описанная в данном
документе, справедлива для следующих  терминалов: <I
CLASS="EMPHASIS"
>NCD 19r, NCD 19c,
NCD19m?, NCD 15b, NCD MCX</I
></P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="AEN270"
>8.2. Ссылки</A
></H2
><P
>Unix страницы руководства: bootpd(8), tftpd(8), bootptab(5), xdm(1x),
xfs(1), fsinfo(1), xset(1), inetd(8)</P
><P
>Linux Ethernet HOWTO, Linux Net-3 (Networking) HOWTO </P
><P
>NCDware System Administrator's Guide for UNIX Systems</P
><P
><A
HREF="ftp://ftp.ncd.com/pub/ncd/Archive/NCD-Articles/index.html"
TARGET="_top"
>NCD Techtips Archive</A
></P
><P
>&#13;<A
HREF="ftp://ftp.ncd.com/pub/ncd/Archive/Documentation/NCDware/index.html"
TARGET="_top"
>NCDware Reference Manual</A
>
описывающее практически  каждый этап настройки Х терминала, теперь доступно для загрузки с NCD Techtips Archive.  &#13;</P
><P
>&#13;<A
HREF="http://www.ncd.com/support/kbsearch/kbase.html"
TARGET="_top"
>NCD knowledge base</A
>
содержит ответы на некоторые наиболее часто задаваемые вопросы, а также
отчеты об ошибках.</P
><P
>Заметьте, что указанные выше документы постоянно изменяются. Со времени
первой публикации мини-HOWTO, NCD web site поспоянно реорганизуется.</P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="AEN282"
>8.3. Оборудование, использованное при подготовке данного документа</A
></H2
><P
>X terminal: NCD model NCD19r с 19 монохромным монитором 1280x1024 8M RAM </P
><P
>пограмма X server: NCDware V3.2.CV 19r_s </P
><P
>Удаленный хост: IBM Cyrix 686 P150+ с Slackware (Linux kernel version 2.0.31) </P
><P
>Удаленный хост: IBM Cyrix M2 200 MMX с Red Hat 5.0 (Linux kernel version 2.0.32) </P
><P
>Сетевая карта: 10 base T Ethernet (ne2000 совместимая) и 8 портовый хаб </P
><P
>Сервер шрифтов вер. 2 релиз номер 6300 </P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="AEN290"
>8.4. Благодарности</A
></H2
><P
>Я хочу поблагодарить Michael de Lind van Wijngaarden, Jamal Hadi-Salim и
Dwight Hodge за помощь в создании данного документа.</P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="AEN293"
>8.5. Спорные вопросы</A
></H2
><P
>&#13;<P
></P
><UL
><LI
><P
>Возможно, имеет смысл запускать сервер шрифтов, используя inetd? 
&#13;</P
></LI
><LI
><P
>Если удаленная машина с запущенным сервером шрифтов перезапускалась, когда
сервер шрифтов был активен, Х терминалу может не удаться загрузка  шрифтов.
Путь к файлам шрифтов должен быть введен заново, с помощью меню консоли или
команды xset. Почему?</P
></LI
><LI
><P
>Похожи ли процедуры для других моделей Х терминала ? </P
></LI
><LI
><P
>Какова процедура загрузки Х терминала с использованием NFS (Network File
System) или RARP (Reverse Address Resolution Protocol)?</P
></LI
><LI
><P
>На консоли Х терминала появляются следующие сообщения. Я подозреваю, что
они приходят от расширений xfree86 , не являющихся частью сервера Х
терминалов. Может ли кто-нибудь подтвердить или опровергнуть это?

%XSERVER-I-NEWCLIENT, host "localhost" connected with blank authorization
%XSERVER-W-NOEXTENSION, client attempted to use non-existent extension "BIG-REQUESTS"
%XSERVER-W-NOEXTENSION, client attempted to use non-existent extension "XKEYBOARD"
%XSERVER-W-NOEXTENSION, client attempted to use non-existent extension "XFree86-Misc"&#13;</P
></LI
><LI
><P
>Может ли Linux быть портирован в Х терминал? </P
></LI
></UL
>&#13;</P
></DIV
><DIV
CLASS="SECT2"
><HR><H2
CLASS="SECT2"
><A
NAME="AEN309"
>8.6. Обратная связь</A
></H2
><P
>Пожалуйста, направляйте  <TT
CLASS="LITERAL"
>ian@permedia.ca</TT
> любые комментарии, вопросы,
исправления и предложения. Большое спасибо всем, кто направлял нам
дополнительные сведения.</P
></DIV
></DIV
></DIV
></BODY
></HTML
>