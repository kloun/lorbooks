<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE> The Linux Serial HOWTO : Советы и разное по последовательным устройствам</TITLE>
 <LINK HREF="Serial-HOWTO-13.html" REL=next>
 <LINK HREF="Serial-HOWTO-11.html" REL=previous>
 <LINK HREF="Serial-HOWTO.html#toc12" REL=contents>
</HEAD>
<BODY>
<A HREF="Serial-HOWTO-13.html">Next</A>
<A HREF="Serial-HOWTO-11.html">Previous</A>
<A HREF="Serial-HOWTO.html#toc12">Contents</A>
<HR>
<H2><A NAME="s12">12. Советы и разное по последовательным устройствам</A></H2>

<P> 
Вы можете счесть полезными несколько советов ...
<P>
<H2><A NAME="ss12.1">12.1 kermit и zmodem</A>
</H2>

<P> 
Чтобы использовать zmodem с kermit, добавьте следующее к вашему .kermrc:
<BLOCKQUOTE><CODE>
<PRE>
 
 define rz !rz &lt; /dev/ttyS3 > /dev/ttyS3 define sz !sz \%0 > /dev/ttyS3 &lt; /dev/ttyS3
</PRE>
</CODE></BLOCKQUOTE>
 
Убедитесь, что указали правильный порт, к которому подключен ваш модем. Затем, 
чтобы использовать его, нужно только напечатать rz или sz &lt;имя файла> в 
командной строке kermit.
<P>
<H2><A NAME="ss12.2">12.2 Автоматическая настройка типов терминала</A>
</H2>

<P> 
Чтобы тип вашего терминала автоматически устанавливался, когда вы 
регистрируетесь в системе, добавьте тип терминала в /etc/inittab. Если бы у 
меня к порту ttyS1 был подключен терминал vt100, то я добавил бы ``vt100" в 
команду getty:
<BLOCKQUOTE><CODE>
<PRE>
 
       S1:456:respawn:/sbin/getty ttyS1 DT9600 vt100
</PRE>
</CODE></BLOCKQUOTE>
 
Другие getty имеют подобные опции. Вы можете также использовать tset, который 
может устанавливать характеристики терминала, когда вы регистрируетесь в 
системе, и не зависит от каких-либо значений по умолчанию.
<P>
<P>
<H2><A NAME="ss12.3">12.3 Цвета ls при последовательной связи</A>
</H2>

<P> 
Если ls выдает результат своей работы в цвете на терминалах, поддерживающих 
цвет, отключите это. Включение цвета осуществляется опциями ls --color и 
ls --colour .
<P> 
В некоторых дистрибутивах ls настроен с цветом по умолчанию. Проверьте в файлах 
/etc/profile и /etc/csh.cshrc псевдонимы ls. Также вы можете установить
псевдоним ls в значение ls --no-color, если не хотите изменять системные 
значения по умолчанию.
<P>
<P>
<H2><A NAME="ss12.4">12.4 Печать на принтер, соединенный с терминалом</A>
</H2>

<P> 
Имеется программа, называемая vtprint, доступная на 
<A HREF="ftp://ftp.sdsu.edu/pub/vtprint">ftp://ftp.sdsu.edu/pub/vtprint</A> и на 
<A HREF="http://www.sdsu.edu/~garrett">http://www.sdsu.edu/~garrett</A>.
<P> 
Другая программа, которая будет делать это, называется xprt. Ее можно найти на
<A HREF="ftp://sunsite.unc.edu/pub/Linux/system/printing">ftp://sunsite.unc.edu/pub/Linux/system/printing</A>.
<P>
<P>
<H2><A NAME="ss12.5">12.5 Может ли Linux настроить последовательные устройства автомагически?</A>
</H2>

<P> 
Да. Если это еще не настроено (или почти настроено), то вы можете заставить 
Linux обнаруживать и настраивать последовательные устройства автоматически при 
запуске. Если необходимо добавьте строку:
<BLOCKQUOTE><CODE>
<PRE>
 
         /sbin/setserial /dev/ttyS3 auto_irq skip_test autoconfig
</PRE>
</CODE></BLOCKQUOTE>
 
в ваш файл /etc/rc.d/rc.local или /etc/rc.d/rc.serial или в файл
/etc/rc.boot/0setserial файл. Проделайте это для каждого последовательного 
порта, который вы хотите настроить автоматически. Убедитесь, что используете 
имена реально существующих в вашей системе устройств.
<P>
<P>
<H3>Примечания для многопортовых плат</H3>

<P> 
Адреса и IRQS платы смотрите в файлах rc.serial или /etc/rc.boot/0setserial, 
которые поставляются с программой setserial. В них можно найти множество 
подробностей о многопортовых платах, включая адреса ввода-вывода и имена 
устройств.
<P>
<P>
<H2><A NAME="ss12.6">12.6 Использование последовательной консоли</A>
</H2>

<P> 
Имеется статья в выпуске 
<A HREF="http://www.ssc.com/lj/issue36/index.html">36 Linux Journal, </A>, которая объясняет, как использовать 
последовательную консоль. См. Text-Terminal-HOWTO.
<P>
<P>
<H2><A NAME="ss12.7">12.7 Повышение производительности последовательных устройств</A>
</H2>

<P> 
Если вы наблюдаете медленную производительность и последовательный порт 
слишком быстр для системы с (E)IDE дисками, то вы можете взять пакет hdparm. 
Это утилита, которая может изменять параметры (E)IDE устройств, включая 
unmasking других IRQs при выполнении дискового IRQ. Это ускорит отклик и 
поможет решить проблему обслуживания последовательных устройств. Убедитесь, 
что вы очень тщательно прочитали man страницу, так как некоторые комбинации 
привода/контроллера могут быть некорректными, и файловая система может 
разрушиться.
<P> 
Также обратите внимание на утилиту irqtune, который изменяет приоритет IRQ 
устройства, например последовательного порта, к которому подключен ваш модем.
Это может улучшить производительность последовательного устройства на вашей 
системе. Irqtune FAQ можно найти на 
<A HREF="http://www.best.com/~cae/irqtune">http://www.best.com/~cae/irqtune</A>.
<P> 
<P>
<HR>
<A HREF="Serial-HOWTO-13.html">Next</A>
<A HREF="Serial-HOWTO-11.html">Previous</A>
<A HREF="Serial-HOWTO.html#toc12">Contents</A>
</BODY>
</HTML>
