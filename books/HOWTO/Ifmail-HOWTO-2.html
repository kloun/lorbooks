<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE> IFMAIL-HOWTO: Необходимые программы</TITLE>
 <LINK HREF="Ifmail-HOWTO-3.html" REL=next>
 <LINK HREF="Ifmail-HOWTO-1.html" REL=previous>
 <LINK HREF="Ifmail-HOWTO.html#toc2" REL=contents>
</HEAD>
<BODY>
<A HREF="Ifmail-HOWTO-3.html">Next</A>
<A HREF="Ifmail-HOWTO-1.html">Previous</A>
<A HREF="Ifmail-HOWTO.html#toc2">Contents</A>
<HR>
<H2><A NAME="s2">2. Необходимые программы</A></H2>

<H2><A NAME="ss2.1">2.1 ifmail-2.11</A>
</H2>

<P> 
ifmail - это транспортный пакет rfc&lt;->ftn и ftn&lt;->rfc, который работает 
совместно с агентом транспортировки новостей и агентом транспортировки почты.
Для активизации он использует getty. Он очень похож на uucico из пакета UUCP.
На момент написания последняя версия была 2.11 .
<P> 
ifmail разработал Eugene G. Crosser (crosser@average.org или 2:5020/230).
<P> 
Последнюю версию можно найти:
<UL>
<LI> 
<A HREF="ftp://ftp.average.org/pub/ifmail">ftp://ftp.average.org/pub/ifmail</A></LI>
<LI> 
<A HREF="ftp://tsx-11.mit.edu/pub/linux/sources/usr.bin/">ftp://tsx-11.mit.edu/pub/linux/sources/usr.bin/</A></LI>
<LI> 
<A HREF="ftp://sunsite.unc.edu/pub/Linux/system/Fido/">ftp://sunsite.unc.edu/pub/Linux/system/Fido/</A></LI>
<LI> или на любом зеркале sunsite.</LI>
</UL>
 
<P>
<H2><A NAME="ss2.2">2.2 ifmail-2.10-tx8.4</A>
</H2>

<P> 
tx версии имеют некоторые улучшения, вроде поддержки charset, MIME quoted 
printable, лучше работают с MSGID, обрабатывают ссылки и различают некоторые 
PGP. Также есть возможность обрабатывать Gatebau-style преобразования 
MSGID&lt;->Message-ID.
<P> 
<P>tx версию поддерживает 
Pablo Saratxaga (srtxg@linux.chanae.stben.be или 2:293/2219 или 4:850/1.29)
<P> 
Последнюю версию можно найти:
<UL>
<LI> 
<A HREF="ftp://ftp.z2.fidonet.org/pub/linux/Fido/">ftp://ftp.z2.fidonet.org/pub/linux/Fido/</A></LI>
<LI> или на большинстве зеркал sunsite.</LI>
</UL>
 
<P>
<H2><A NAME="ss2.3">2.3 Агент транспортировки почты (MTA)</A>
</H2>

<P> 
Здесь можно выбрать между smail и sendmail V8.  Smail меньше и проще в  
настройке, но имеет несколько маленьких багов. sendmail V8 не так-то легок
в настройке, но существует его конфигурация с макропроцессором M4, которая
настолько упрощает работу, что конфигурирование sendmail становится таким же
простым как и smail. Я лично перешел с smail на sendmail.
<P>
<H3>smail</H3>

<P> 
В версии 3.1.28.1  smail имел ошибки в uuname-driver (который очень важен
при использовании UUCP). Я использовал версию 3.1.29.1 из
<A HREF="ftp://sunsite.unc.edu/pub/Linux/system/Mail/delivery/">ftp://sunsite.unc.edu/pub/Linux/system/Mail/delivery/</A>
smail-linuxbin-3.1.29.1.tar.gz. Slackware сейчас поставляется с sendmail
вместе с smail, так что с получением smail проблем не должно возникнуть.
<P>
<H3>sendmail V8</H3>

<P> 
В Slackware sendmail V8 версии 8.8.3, и вряд ли появятся проблемы с 
использованием последующих версий. Версия 8.8.3 имеет несколько дыр в
защите, что имеет значение только если компьютер подключен к Интернет.
Тут лучше использовать самую последнюю версию. Любой может взять свежий релиз
на 
<A HREF="ftp://ftp.CS.Berkeley.EDU/ucb/src/sendmail/,">ftp://ftp.CS.Berkeley.EDU/ucb/src/sendmail/,</A>но как я уже говорил он
входит в дистрибутив Slackware. Это весьма важно для установки
полных файлов конфигурации, которые спрятаны в файле со странным именем
smailcfg.tgz.
<P>
<P>
<H3>Агент транспортировки новостей (News-Transport-Agent)</H3>

<P> 
В качестве News-Transport-Agent может использоваться cnews или INN. Чтобы
помочь вам определиться с выбором, ниже описаны некоторые преимущества и 
недостатки этих программ друг перед другом:
<P> 
cnews состоит в основном из скриптов на языке shell, которые не так-то легко 
отлаживать и они медленнее запускаются. Cnews не может использовать NNTP 
(online-news-protocol). Если вы хотите использовать NNTP (например, для 
различных читалок новостей, которые работают с новостями только через NNTP),
то вам нужен nntpd. Настройка nntpd несколько сложнее и не все возможности
NNTP доступны.
<P> 
INN непосредственно поддерживает NNTP. Вот почему запускается демон (innd)
и местные статьи новостей немедленно становятся доступными локальным 
пользователям. При использовании cnews статьи в системе новостей появляются 
только после определенного отрезка времени (например, через 10 минут). cnews
некорректно работает, если в /var/spool/news остается менее 10 МБ дискового
пространства.
<P> 
Я лично использую INN-1.5.1, поскольку INN в целом легче настраивать, чем cnews.
<P>
<H3>cnews</H3>

<P> 
Старые дистрибутивы Slackware имели весьма урезанный cnews (например, не было 
всех man-страниц), и должны использовать как минимум пакет cnews из 
Slackware 2.1. Как альтернатива, его можно взять из полного source-distribution
и собрать его сами. Я использовал performance-release от 93/02/20 с 
<A HREF="ftp://ftp.uu.net/news/">ftp://ftp.uu.net/news/</A>. Современные релизы я даже не испытывал. В этом HOWTO
информация относится к более старым версиям, и я не планирую развивать это
направление в будущем.
<P>
<H3>INN (InterNet News server)</H3>

<P> 
Последний Slackware содержит как cnews, так и INN, так что каждый может 
выбрать. Текущий INN должен работать, но я предлагаю собрать и настроить
программное обеспечение самим. Я использую INN-1.5.1, который можно взять на:
<P>
<A HREF="ftp://sunsite.unc.edu/pub/Linux/system/News/inn1.5.1-linux-src.tgz">ftp://sunsite.unc.edu/pub/Linux/system/News/inn1.5.1-linux-src.tgz</A><P>
<P>
<P>
<H2><A NAME="ss2.4">2.4 Программа обслуживания последовательных линий</A>
</H2>

<H3>mgetty-sendfax</H3>

<P> 
mgetty-sendfax набор программ, разработанных для наблюдения, отправки и
приема телефонных звонков и факсов в ОС UNIX. В отличие от getty или
uugetty, которые переводят модем в режим автоответа, mgetty так не поступает. 
Когда поступает звонок, mgetty видит "RING" и приказывает модему ответить.
Отвечая, модем говорит mgetty, какого типа звонок поступил.
<P> 
Документация и FAQ mgetty-sendfaxcan могут быть найдены на
<A HREF="http://www.leo.org/~doering/mgetty/index.html">http://www.leo.org/~doering/mgetty/index.html</A>Исходник можно скачать
с большинства зеркал sunsite в /system/Serial/mgetty+sendfax-0.98.tar.gz.
<P>
<H3>getty_ps</H3>

<P> 
uugetty обслуживает начало процесса регистрации в системе. Когда используется
модем, он отслеживает поступление звонков и (обычно) выводит строку приглашения
"login:" (считывает имя пользователя и передает его программе "/bin/login").
<P> 
Исходники для getty_ps могут быть найдены на большинстве зеркал sunsite в
/system/Serial/getty_ps-2.0.7i.tar.gz.
<P>
<P>
<P>
<H2><A NAME="ss2.5">2.5 Читалка новостей</A>
</H2>

<P> 
Можно использовать любую читалку новостей: tin, nn, trn, xvnews, xrn, slrn,
knews,.. Если используется cnews, она должна работать в UUCP-режиме, то есть
не только NNTP, иначе надо ставить nntpd, который достаточно сложен в изучении
без документации. Я использую tin-1.3BETA.950824-color, потому что tin легок в
использовании и требует минимальных усилий в настройке. В этом документе я
привел несколько приемчиков при работе с tin.
<P>
<P>
<P>
<H2><A NAME="ss2.6">2.6 Читалка почты</A>
</H2>

<P> 
Здесь также можно использовать свою любимую: elm, pine, mail, xmail, xmailtool, 
xfmail,... Pine кажется самый лучший, но вы можете предпочесть другую программу.
<P>
<P>
<P>
<H2><A NAME="ss2.7">2.7 Упаковщики</A>
</H2>

<P> 
Некоторые упаковщики имеются в составе дистрибутивов. Если какие-то упаковщики
отсутствуют, то их можно взять с серверов вроде
<A HREF="ftp://sunsite.unc.edu/pub/Linux/utils/compress/">ftp://sunsite.unc.edu/pub/Linux/utils/compress/</A>:
<DL>
<DT><B> ZIP</B><DD><P>unzip51 может распаковывать еще и новый ZIP-формат. Есть новый zip, 
который может упаковывать в новом формате.
<DT><B> ARJ</B><DD><P>unarj241 распаковывает ARJ-архивы, но под Linux упаковщика нет.
<DT><B> LZH</B><DD><P>lha существует и под Linux.
<DT><B> ARC</B><DD><P>старый, но очень важный упаковщик, например нодлисты могут паковаться 
им. Имеет как минимум один порт под Linux.
<DT><B> RAR</B><DD><P>unrar101 распаковывает RAR-архивы, но упаковщик я не нашел. Исходники
unrar находятся на 
<A HREF="ftp://ftp.kiae.su/.2/unix/arcers/unrar101.tgz">ftp://ftp.kiae.su/.2/unix/arcers/unrar101.tgz</A></DL>
 
<P>
<P>
<H2><A NAME="ss2.8">2.8 TIC-процессор</A>
</H2>

<P> 
Есть несколько небольших TIC-процессоров, которые написаны на PERL. Особенно 
может быть рекомендован tic010b.tgz (также может быть назван как lt010b.tgz) от
Cees de Groot (cg@bofh.lake.de, 241:10000/1512). Эта программа является частью 
пакета ifmail начиная с версии 2.8a и может быть найден в каталоге 
ifmail/misc/contrib/tic. Есть и другой TIC-процессор, который находится в
<A HREF="ftp://ddt.demos.su/pub/u-tic/utic">ftp://ddt.demos.su/pub/u-tic/utic</A>UTIC стандартный для Unix-TIC процессор и 
написан Yar Tikhiy (yar@comp.chem.msu.su)
<P>
<P>
<H2><A NAME="ss2.9">2.9 Права доступа</A>
</H2>

<P> 
Права доступа на файлы должны выставляться осторожно, особенно это относится к
INN и sendmail. По соображениям безопасности исполнимые файлы INN не должны
запускаться, если в системе нет пользователя news. По этой причине вы должны 
сейчас посмотреть и убедиться, что пользователи news и uucp есть в вашем файле 
пользователей. Вот выдержка из моего /etc/passwd :
<BLOCKQUOTE><CODE>
<PRE>
 
 news:*:9:13::/usr/lib/news:/bin/bash
 uucp:*:10:14::/var/spool/uucppublic:/bin/bash
</PRE>
</CODE></BLOCKQUOTE>

Группы uucp и news должны существовать. Очень важно, чтобы вы вставили
пользователей news, mail, root и fnet в группу uucp, чтобы sendmail
мог SUID, для выполнения ifmail для рутинга и обработки нетмейла. Также важно
добавить пользователя uucp в группу news. Вот вырезка из моего /etc/group :
<BLOCKQUOTE><CODE>
<PRE>
 
 news::13:news,uucp
 uucp::14:uucp,news,mail,root,fnet
</PRE>
</CODE></BLOCKQUOTE>
 
Также все файлы в spool-каталоге должны быть доступны для записи для этой
группы. Мы обсудим это позже.
<P>
<P>
<H2><A NAME="ss2.10">2.10 Примеры конфигураций</A>
</H2>

<P> 
Так как примеры, которые я привожу взяты из моей собственной системы, то они
основаны на соответствующих версиях пакетов. Мои пакеты: Linux kernel 2.0.30, 
ifmail-2.10-tx8.3, INN-1.5.1 и sendmail-8.8.5. Мой Fido-адрес 1:125/710 и мои 
аплинки 1:125/33 и 1:125/5109. Вам нужно будет подкорректировать эти и подобные 
установки под ваши. Я успользую два crontab`а, один для пользователя fnet и 
второй для пользователя news. Прием звонков 24/7 (24 часа в сутки 7 дней в 
неделю) и звоню аплинкам в основном ночью. В настоящее время, у меня нет 
UUCP... :( 
<P> 
Пожалуйста, обратите внимание, что настройки могут отличаться, так как каждый
дистрибутив линукс может изменяться от версии к версии. Со своей стороны я 
пытался оговорить такие ситуации, но вы все-таки должны проверить все ссылки
на соответствие вашей системе, если примеры не работают так, как показано.
<P>  
Если у вас пока нет шлюза в Internet, вы должны его поискать, поскольку
ifmail его прекрасно поддерживает, и значит, что вы можете производить закачку
по UUCP или как минимум связь через шлюз.
<P> 
<BLOCKQUOTE>
Пожалуйста: 
Не используйте мои адреса при тестировании вашей конфигурации.
Используйте собственные, иначе я буду получать ответы на ваши вопросы.
</BLOCKQUOTE>
<P>
<P>
<P>
<HR>
<A HREF="Ifmail-HOWTO-3.html">Next</A>
<A HREF="Ifmail-HOWTO-1.html">Previous</A>
<A HREF="Ifmail-HOWTO.html#toc2">Contents</A>
</BODY>
</HTML>
