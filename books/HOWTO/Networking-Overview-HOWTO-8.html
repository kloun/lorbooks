<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>Linux Networking Overview HOWTO: Сетевые соединения</TITLE>
 <LINK HREF="Networking-Overview-HOWTO-9.html" REL=next>
 <LINK HREF="Networking-Overview-HOWTO-7.html" REL=previous>
 <LINK HREF="Networking-Overview-HOWTO.html#toc8" REL=contents>
</HEAD>
<BODY>
<A HREF="Networking-Overview-HOWTO-9.html">Next</A>
<A HREF="Networking-Overview-HOWTO-7.html">Previous</A>
<A HREF="Networking-Overview-HOWTO.html#toc8">Contents</A>
<HR>
<H2><A NAME="s8">8. Сетевые соединения</A></H2>

<P>Работа с сетями в Linux богата возможностями. Linux-машина может быть
настроена так, чтобы работать в качестве маршрутизатора, моста, и т.д ...
Некоторые из доступных возможностей описаны ниже
<P>
<P>
<H2><A NAME="ss8.1">8.1 Маршрутизатор</A>
</H2>

<P>Linux ядро имеет встроенную поддержку для функций маршрутизации. Linux-машина
может действовать или как IP, или IPX маршрутизатор стоимостью в несколько
раз меньшей, чем коммерческий маршрутизатор. Новые ядра включают специальные
опции для машин, работающих прежде всего как маршрутизаторы:
<DL>
<DT><B>   Мультикастинг: </B><DD><P>Позволяет Linux машине работать как маршрутизатор для IP
пакетов, которые имеют несколько адресов назначения. Это необходимо при
работе в MBONE, сеть с высокой прпускной способностью, лежащая в основе
Internet, который передает звук, радиопередачи, видео
<P>
<DT><B>   Стратегия IP маршрутизации: </B><DD><P>Обычно, маршрутизатор решает, что делать с
полученным пакетом, основываясь исключительно на адресе назначения пакета,
но маршрутизатор может также принять во внимание и адрес источника, и
сетевое устройство, с которого пакет прибыл пакет.
</DL>

Имеется несколько проектов, которые включают попытки построить маршрутизатор
на Linux на одной дискете: Linux Router Project
<A HREF="http://www.psychosis.com/linux-router/">http://www.psychosis.com/linux-router/</A><P>
<P>
<H2><A NAME="ss8.2">8.2 Мост</A>
</H2>

<P>Ядро Linux имеет встроенную поддержку для работы в качестве моста локальной
сети ethernet, что означает, что соединенные им различные сегменты локальной
сети ethernet работают как одна локальная сеть ethernet. Несколько мостов
могут работать вместе, чтобы создать большие сети Ethernet, используя
алгоритм spanning tree IEEE802.1. Поскольку он является стандартом, Linux
мосты будут правильно взаимодействать с мостами третьих фирм. Дополнительные
программные пакеты позволяют фильтровать данные по IP, IPX или MAC адресам.
<P>How-tos:
<UL>
<LI>   Bridge + Firewall
<A HREF="http://sunsite.unc.edu/mdw/HOWTO/mini/Bridge+Firewall.html">http://sunsite.unc.edu/mdw/HOWTO/mini/Bridge+Firewall.html</A>
</LI>
<LI>   Bridge 
<A HREF="http://sunsite.unc.edu/mdw/HOWTO/mini/Bridge.html">http://sunsite.unc.edu/mdw/HOWTO/mini/Bridge.html</A></LI>
</UL>
<P>
<H2><A NAME="ss8.3">8.3 IP-Masquerading</A>
</H2>

<P>IP Masquerade - развивающаяся функция работы с сетями в Linux. Если
Linux-хост соединен с Internet с включенным IP Masquerade, то компьютеры,
подключенные к нему (либо в той же самой локальной вычислительной сети, либо
соединенные по модему) могут тоже выходить в Inetrnet, даже если у них нет
официально назначенных IP адресов. Это позволяет сократить издержки, так как
множество людей могут работать с Internet через одно модемное соединение,
а также способствует укреплению безопасности (в некоторых случаях машина
работает как firewall, так как к неофициально назначенным адресам нельзя
обращаться из внешней сети)
<P>Страницы и документы IP masquerade:
<UL>
<LI>   
<A HREF="http://www.tor.shaw.wave.ca/~ambrose/">http://www.tor.shaw.wave.ca/~ambrose/</A>
</LI>
<LI>   
<A HREF="http://www.indyramp.com/masq/links.pfhtml">http://www.indyramp.com/masq/links.pfhtml</A>
</LI>
<LI>   
<A HREF="http://sunsite.unc.edu/mdw/HOWTO/mini/IP-Masquerade.html">http://sunsite.unc.edu/mdw/HOWTO/mini/IP-Masquerade.html</A></LI>
</UL>
<P>
<H2><A NAME="ss8.4">8.4 Ip-accounting</A>
</H2>

<P>Эта опция ядра Linux следит за IP трафиком, регистрацией пакетов и
вырабатывает статистику. Последовательность правил может определять, что
когда некоторый пакет соответствует образцу, то счетчик увеличивается, он
принимается/отвергается, и т.д ..
<P>
<P>
<H2><A NAME="ss8.5">8.5 IP aliasing</A>
</H2>

<P>Эта особенность ядра Linux обеспечивает возможность установки нескольких
сетевых адресов на один и тот же драйвер низкого уровня сетевого устройства
(например, два IP адреса на один адаптер локальной сети ethernet). Обычно
используется для сервисов, которые работают с адресами из различных сетей
(например "мультихостинг" или "виртуальные области" или "виртуальный
мультихостинг").
<P>How-to:
<UL>
<LI>   IP aliasing How-to 
<A HREF="http://sunsite.unc.edu/mdw/HOWTO/mini/IP-Alias.html">http://sunsite.unc.edu/mdw/HOWTO/mini/IP-Alias.html</A></LI>
</UL>
<P>
<H2><A NAME="ss8.6">8.6 Traffic shaper</A>
</H2>

<P>Traffic shaper - это действительное сетевое устройство, которое ограничиивает
выходной поток данных в другом сетевом устройстве. Он особенно полезен в тех
случаях (например, для ISP), когда желательно управлять скоростями передачи
данных для каждого пользователя. Другой вариант (только для веб) - это
модули Apache, которые ограничивают число IP соединений или используемую
скорость передачи для конкретного пользователя.
<P>
<P>
<H2><A NAME="ss8.7">8.7 Firewall</A>
</H2>

<P>Firewall - устройство, которое защищает частную сеть от общей части
(Internet'а в целом). Оно разработано для управления потоком пакетов,
в зависимости от адреса источника, адреса назначения, порта и информации о
типе пакета, содержащихся в каждом пакете.
<P>Для Linux существуют различные комплекты инструментальных средств firewall
равно как и встроенная в ядро поддержка. Другие firewallы - TIS и SOCKS.
эти комплекты инструментальных средств firewall весьма функциональны, и
будучи объединенными с другими инструментальными средствами позволяют
блокировать/переназначать любые трафик и протоколы. Различные правила
могут задаваться через файлы конфигурации или GUI программы.
<P>
<UL>
<LI>   Домашняя страничка TIS 
<A HREF="http://www.tis.com">http://www.tis.com</A>
</LI>
<LI>   SOCKS 
<A HREF="http://www.socks.nec.com/socksfaq.html">http://www.socks.nec.com/socksfaq.html</A>
</LI>
<LI>   Firewall How-to 
<A HREF="http://sunsite.unc.edu/mdw/HOWTO/Firewall-HOWTO.html">http://sunsite.unc.edu/mdw/HOWTO/Firewall-HOWTO.html</A></LI>
</UL>
<P>
<H2><A NAME="ss8.8">8.8 Port Forwarding</A>
</H2>

<P>Увеличение числа веб-сайтов достигается с помощью cgi-bins или Java-апплетов,
которые обращаются к некоторой базе данных или другому сервису. Так как
этот доступ может ставить проблему защиты, машина, содержащая базу данных
не должна быть соединена непосредственно к Internet.
<P>Port Forwarding может обеспечить почти идеальное решение этой проблемы. На
firewall, в IP пакетах, которые приходят на указанный порт, номер порта
может быть подменен, и пакеты будут посылаться на внутренний сервер,
обеспечивающий фактическое обслуживание. Ответные пакеты от внутреннего
сервера преобразуются так, словно они исходят от firewall.
<P>Информация по Port Forwarding может быть найдена здесь
<A HREF="http://www.ox.compsoc.net/~steve/portforwarding.html">http://www.ox.compsoc.net/~steve/portforwarding.html</A><P>
<P>
<H2><A NAME="ss8.9">8.9 Выравнивание нагрузки</A>
</H2>

<P>Вопрос о выравнивании нагрузки возникает обычно при доступе к базе
данных/веб, когда к серверу обращается одновременно множество клиентов.
Было бы желательно иметь несколько идентичных серверов и переназначать
запросы на менее загруженный сервер. Это может быть достигнуто с помощью
технологии Трансляции Сетевых Адресов (NAT), чьим подмножеством является
IP-masquerading. Сетевые администраторы могут заменить один сервер,
обеспечивая услуги веб - или любое другое приложение, - объединением
серверов, совместно использующих один общий адрес IP. Входящие соединения
направлюятся на особый сервер, использующий алгоритм выравнивания нагрузки.
Виртуальный сервер перезаписывает входящие и исходящие пакеты так, что
клиент имеют прозрачный доступ к серверу, как будто сервер только один.
<P>Информация по Linux IP-NAT может быть найдена здесь
<A HREF="http://www.csn.tu-chemnitz.de/~mha/linux-ip-nat/diplom/">http://www.csn.tu-chemnitz.de/~mha/linux-ip-nat/diplom/</A><P>
<P>
<H2><A NAME="ss8.10">8.10 EQL</A>
</H2>

<P>EQL интегрирован в ядро Linux. Если существуют два последовательных
соединения с некоторым другим компьютером (обычно для этого требуется два
модема и две телефонных линии) и на них используются SLIP или PPP (протоколы
для передачи Internet трафика по телефонным линиям), то можно заставить их
вести себя как одно соединение удвоенного быстродействия, использующее этот
драйвер. Конечно, оно должно поддерживаться также и на другом конце линка.
<P>
<UL>
<LI>   EQL How-to 
<A HREF="http://www.abies.com/eql-howto.mhtml">http://www.abies.com/eql-howto.mhtml</A></LI>
</UL>
<P>
<H2><A NAME="ss8.11">8.11 Прокси-сервер</A>
</H2>

<P>Термин прокси означает "делать что-либо от чьего-то имени". В условиях
работы с сетями, прокси-сервер может работать для защиты нескольких клиентов.
HTTP прокси - это машина, которая получает запросы на веб страницы от другой
машины (Машина A). Прокси скачивает запрошенную страницу и передает ее
Машине A. Прокси может иметь кэш запрошенных страниц, так что, если другая
машина обратится к той же самой странице, то ей будет передана копия из кэша.
это позволяет более эффективно использовать каналы связи и уменьшить время
отклика. Как побочный эффект, для машин, не подключенных непосредственно к
Internet прокси является точкой выхода внутренней сети во внешний мир.
Тщательно настроенный прокси может быть эффективен также, как и хороший
firewall.
<P>Для Linux написано несколько прокси серверов. Одно из самых популярных
решение - прокси-модуль из пакета Apache. Более полная и продуманная
реализация HTTP прокси - SQUID.
<P>
<UL>
<LI>   Apache 
<A HREF="http://www.apache.org">http://www.apache.org</A>
</LI>
<LI>   Squid 
<A HREF="http://www.squid.org">http://www.squid.org</A></LI>
</UL>
<P>
<P>
<H2><A NAME="ss8.12">8.12 Дозвон по требованию</A>
</H2>

<P>Цель дозвона по требованию состоит в том, чтобы заставить это очевидно
появиться, что пользователи имеют постоянное соединение с удаленным местом.
Обычно, имеется daemon, кто контролирует воздушное движение пакетов и где
интересный пакет (интересный определен обычно набором
rules/priorities/permissions) прибывает, это устанавливает соединение с
удаленным концом. Когда канал - простой для некоторого периода(точки)
времени, это понижает(пропускает) соединение.
<P>
<UL>
<LI>   Diald How-to 
<A HREF="http://sunsite.unc.edu/mdw/HOWTO/mini/Diald.html">http://sunsite.unc.edu/mdw/HOWTO/mini/Diald.html</A></LI>
</UL>
<P>
<H2><A NAME="ss8.13">8.13 Tunnelling, мобильный IP и виртуальные частные сети</A>
</H2>

<P>Ядро Linux позволяет осуществлять tunnelling протоколов (вложение пакетов).
Он может делать IPX tunnelling через IP, позволяя соединить две IPX сети
по IP связи. Также можно делать IP-IP tunnelling, что является необходимым
для поддержки мобильных IP, поддержки мультивещания и любительского радио.
(См. 
<A HREF="http://sunsite.unc.edu/mdw/HOWTO/NET-3-HOWTO-6.html#ss6.13">http://sunsite.unc.edu/mdw/HOWTO/NET-3-HOWTO-6.html#ss6.13</A>)
<P>Мобильный IP определяет расширения, которые позволяют осуществлять прозрачную
маршрутизацию IP датаграмм для подвижных узлов Internet. Каждый мобильный
узел всегда идентифицируется по собственному адресу, независимо от текущей
точки входа в Internet. При нахождении вдалеке от дома, подвижный узел
также связывается с адресом обслуживания, который предоставляет информацию
о точке входа в Internet. Протокол регистрирует адрес обслуживания в
домашнем агенте. Домашний агент посылает датаграммы, предназначенные
подвижному узлу через туннель на адрес обслуживания. По достижению конца
туннеля, каждая датаграмма затем приходит на мобильный узел.
<P>Двухточечный Протокол Туннелирования (PPTP) - технология работы с сетями,
которая позволяет использовать Internet в качестве среды передачи для
виртуальной частной сети (VPN). На сервере Windows NT PPTP встроен в сервер
удаленного доступа (RAS). С помощью PPTP пользователи могут звонить
локальному ISP или соединяться непосредственно с Internet, и обращаться к
своей сети, словно работая в локальной сети. PPTP - закрытый протокол, и его
качество защиты было недавно скомпрометировано. Настойчиво рекомендуется под
Linux использовать другие методы защиты, так как они основаны на открытых
стандартах, которые были тщательно проверены.
<P>
<UL>
<LI>   Реализация клиента PPTP для Linux доступна здесь
<A HREF="http://www.pdos.lcs.mit.edu/~cananian/Projects/PPTP/">http://www.pdos.lcs.mit.edu/~cananian/Projects/PPTP/</A></LI>
</UL>

Мобильные IP:
<UL>
<LI>   
<A HREF="http://www-uk.hpl.hp.com/people/jt/mip.html">http://www-uk.hpl.hp.com/people/jt/mip.html</A>
</LI>
<LI>   
<A HREF="http://anchor.cs.binghamton.edu/~mobileip/">http://anchor.cs.binghamton.edu/~mobileip/</A></LI>
</UL>

Документы о Виртуальных Частных Сетях:
<UL>
<LI>   
<A HREF="http://sunsite.unc.edu/mdw/HOWTO/mini/VPN.html">http://sunsite.unc.edu/mdw/HOWTO/mini/VPN.html</A>
</LI>
<LI>   
<A HREF="http://sites.inka.de/sites/bigred/devel/cipe.html">http://sites.inka.de/sites/bigred/devel/cipe.html</A></LI>
</UL>
<P>
<P>
<HR>
<A HREF="Networking-Overview-HOWTO-9.html">Next</A>
<A HREF="Networking-Overview-HOWTO-7.html">Previous</A>
<A HREF="Networking-Overview-HOWTO.html#toc8">Contents</A>
</BODY>
</HTML>
