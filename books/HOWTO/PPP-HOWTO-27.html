<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>PPP HOWTO: Использование PPP по нульмодемному (прямому последовательному) кабелю</TITLE>
 <LINK HREF="PPP-HOWTO-26.html" REL=previous>
 <LINK HREF="PPP-HOWTO.html#toc27" REL=contents>
</HEAD>
<BODY>
Next
<A HREF="PPP-HOWTO-26.html">Previous</A>
<A HREF="PPP-HOWTO.html#toc27">Contents</A>
<HR>
<H2><A NAME="s27">27. Использование PPP по нульмодемному (прямому последовательному) кабелю</A></H2>

<P>Это очень просто - модема нет, так что дело значительно упрощается.
<P>Прежде всего выберите одну из машин как 'сервер', установив getty на 
последовательный порт, так что вы можете проверить, что связь имеется, 
используя minicom, чтобы обратиться к последовательному порту на 'клиенте'.
<P>Как только связь заработает, вы можете удалять getty если вы НЕ хотите 
удостовериться, что соединение работает, используя пару имя/пароль пользователя,
как для модемного соединения. Поскольку вы имеете 'физическое управление' 
обеими машинами, я буду предполагать, что вы не хотите делать это.
<P>Теперь, на сервере удалите getty, и удостоверьтесь, что вы имеете 
последовательные порты на обеих машинах, правильно сконфигурированные, используя 
'setserial'.
<P>Все, что вы должны сделать теперь, это запустить pppd на обеих системах. Я буду 
предполагать, что соединение использует /dev/ttyS34 на обеих машинах. Так, на 
обеих машинах выполните команду:
<PRE>
______________________________________________________________________

pppd -detach crtscts lock &lt;local IP>:&lt;remote IP> /dev/ttyS3 38400 &amp;
______________________________________________________________________
</PRE>
<P>Это установит связь - но пока еще у вас нет определенной маршрутизации. 
Вы можете проверить связь, пингуя обе машины. Если это работает, прекратите 
связь, уничтожив один из процессов pppd.
<P>Какая вам нужна маршрутизация - это конечно зависит от того, что вы пытаетесь 
сделать. В общем случае, одна из машин будет соединена с ethernet (и внешним
миром), и тогда требуется маршрутизация такая же, как для PPP сервера и клиента.
<P>Так на машине оборудованной Ethernet, pppd команда будет
<PRE>
______________________________________________________________________

pppd -detach crtscts lock proxyarp &lt;local IP>:&lt;remote IP> /dev/ttyS3 38400 &amp;
______________________________________________________________________
</PRE>
<P>а на другой машине
<PRE>
______________________________________________________________________

pppd -detach crtscts lock defaultroute &lt;local IP>:&lt;remote IP> /dev/ttyS3 38400 &amp;
______________________________________________________________________
</PRE>
<P>Если вы связываете две сети (используя последовательную связь!) или реализуете
более сложные требования маршрутизации, то вы можете использовать 
/etc/ppp/ip-up точно тем же образом, как упомянуто выше в этом документе.
<P>Robert Hart Port Hedland, Western Australia Melbourne, Victoria, Australia 
August/October 1996 January/March 1997
<HR>
Next
<A HREF="PPP-HOWTO-26.html">Previous</A>
<A HREF="PPP-HOWTO.html#toc27">Contents</A>
</BODY>
</HTML>
