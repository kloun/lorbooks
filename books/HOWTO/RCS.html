<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML
><HEAD
><TITLE
>Мини-HOWTO: RCS </TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.57"></HEAD
><BODY
CLASS="ARTICLE"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="ARTICLE"
><DIV
CLASS="TITLEPAGE"
><H1
CLASS="TITLE"
><A
NAME="AEN2"
>Мини-HOWTO: RCS</A
></H1
><DIV
CLASS="AUTHORGROUP"
><A
NAME="AEN4"
></A
><H3
CLASS="AUTHOR"
><A
NAME="AEN5"
>Robert Kiesling</A
></H3
><DIV
CLASS="AFFILIATION"
><DIV
CLASS="ADDRESS"
><P
CLASS="ADDRESS"
>&nbsp;&nbsp;&nbsp;&nbsp;    <br>
&nbsp;&nbsp;&nbsp;</P
></DIV
></DIV
><H3
CLASS="CORPAUTHOR"
> Перевод: <A
HREF="mailto:kmic@asp-linux.com"
TARGET="_top"
>Михаил Корепанов</A
>,
 <A
HREF="http://www.asplinux.com"
TARGET="_top"
>SWSoft Pte Ltd.</A
>
 </H3
></DIV
><P
CLASS="PUBDATE"
>версия 1.4, 14 августа 1997<BR></P
><DIV
><DIV
CLASS="ABSTRACT"
><A
NAME="AEN15"
></A
><P
></P
><P
>В этом документе объясняется, как установить и использовать RCS (GNU Revision
Control System), под Linux. В нем также затронуты темы установки утилит
<TT
CLASS="LITERAL"
>diff(1)</TT
> и <TT
CLASS="LITERAL"
>diff3(1)</TT
>, которые необходимы для работы RCS.
This document may be reproduced freely,
in whole or in part, provided that any usage of this document conforms
to the general copyright notice of the HOWTO series of the Linux
Documentation Project.  See the file COPYRIGHT for details.
Посылайте все предложения, добавления и сообщения об ошибках <A
HREF="mailto:kiesling@terracom.net"
TARGET="_top"
>kiesling@terracom.net</A
>, чтобы я
мог их включить в последующие версии.</P
><P
></P
></DIV
></DIV
><HR></DIV
><DIV
CLASS="TOC"
><DL
><DT
><B
>Содержание</B
></DT
><DT
>1. <A
HREF="RCS.html#AEN20"
>Что такое RCS.</A
></DT
><DT
>2. <A
HREF="RCS.html#AEN45"
>Требования к системе.</A
></DT
><DT
>3. <A
HREF="RCS.html#AEN54"
>Компиляция исходников RCS.</A
></DT
><DT
>4. <A
HREF="RCS.html#AEN61"
>Создание и поддержка архивов.</A
></DT
><DT
>5. <A
HREF="RCS.html#AEN74"
><TT
CLASS="LITERAL"
>ci(1)</TT
> и <TT
CLASS="LITERAL"
>co(1)</TT
>.</A
></DT
><DT
>6. <A
HREF="RCS.html#AEN99"
>Просмотр внесенных изменений.</A
></DT
><DT
>7. <A
HREF="RCS.html#AEN104"
>Включение информации для RCS в рабочие файлы.</A
></DT
><DT
>8. <A
HREF="RCS.html#AEN112"
>RCS и контроль версий в emacs(1)</A
></DT
><DT
>9. <A
HREF="RCS.html#AEN124"
>Авторские права</A
></DT
></DL
></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="AEN20"
>1. Что такое RCS.</A
></H1
><P
>RCS - это Система Управления Исправлениями (revision control system), представляет собой пакет программ, которые отслеживают изменения в текстовых файлах и управляют разделенным доступом в ситуации с рабочими группами. Также они поддерживают исходные тексты модулей и отслеживают изменения в документах. </P
><P
>RCS была написана Walter F. Tichy и Paul Eggert. Последняя версия, которая перенесена под Linux, была RCS 5.7. Также существует полуофициальная версия. Большая часть информации в этом HOWTO взята из руководства по RCS. 
&#13;</P
><P
>RCS включает в себя следующие программы:<TT
CLASS="LITERAL"
>rcs(1)</TT
>, которая управляет атрибутами
архивного файла RCS; <TT
CLASS="LITERAL"
>ci(1)</TT
> и <TT
CLASS="LITERAL"
>co(1)</TT
>, проверяющие старые и измененные
архивы RCS; <TT
CLASS="LITERAL"
>ident(1)</TT
>, которая производит поиск в архивах RCS по ключевому
слову; <TT
CLASS="LITERAL"
>rcsclean(1)</TT
>, программа которая удаляет нерабочие или неизмененные
файлы; <TT
CLASS="LITERAL"
>rcsdiff(1)</TT
>, которая запускает <TT
CLASS="LITERAL"
>diff(1)</TT
> для сравнения версий;
<TT
CLASS="LITERAL"
>rcsmerge(1),</TT
>, которая объединяет результаты работы двух пользователей над
файлом в один работающий файл; <TT
CLASS="LITERAL"
>rlog(1),</TT
>, которая выводит сообщения из
журнала RCS.</P
><P
>Архивы, сделанные RCS, могут быть различного формата, и даже двоичными, если
программа <TT
CLASS="LITERAL"
>diff</TT
> поддерживает 8-ми битный данные. Также у файла может быть
включена строка идентификации для поиска при помощи <TT
CLASS="LITERAL"
>ident(1)</TT
>. RCS
использует утилиты <TT
CLASS="LITERAL"
>diff(1)</TT
> и <TT
CLASS="LITERAL"
>diff&#60;3&#62;</TT
> для формирования файлов изменений.
Архив RCS состоит из начальной версии файла (версия 1.1) и файлов изменений
для каждого изменения. Каждый раз файл сравнивается с предыдущей версией
программой <TT
CLASS="LITERAL"
>co(1)</TT
>, редактируется и записывается программой <TT
CLASS="LITERAL"
>ci(1)</TT
>, номер
версии каждый раз увеличивается, например, 1.2, 1.3, 1.4 при внесенных
изменениях .</P
><P
>Сами архивы находятся в подкаталоге <TT
CLASS="LITERAL"
>./RCS</TT
> </P
><P
>Для просмотра архивов прочтите руководство к  <TT
CLASS="LITERAL"
>rcsintro(1)</TT
>.</P
></DIV
><DIV
CLASS="SECT1"
><HR><H1
CLASS="SECT1"
><A
NAME="AEN45"
>2. Требования к системе.</A
></H1
><P
>RCS требует для работы <TT
CLASS="LITERAL"
>diff(1)</TT
> и <TT
CLASS="LITERAL"
>diff3(3)</TT
> для создания diff-файлов,
отражающих изменения в файлах. У вас должны быть установлены эти утилиты,
но, в любом случае, при установке RCS, программа установки проверит их
наличие.</P
><P
>Эти утилиты (скомпилированные) можно взять на: 

ftp://sunsite.unc.edu/pub/Linux/utils/text/diffutils-2.6.bin.ELF.tar.gz

или на зеркалах этого сайта. Если вам потребуется скомпилировать исходник <TT
CLASS="LITERAL"
>diff(1)</TT
>, то он находится на: 
ftp://prep.ai.mit.edu/pub/gnu/diffutils-2.7.tar.gz

или с зеркал этого сайта.</P
><P
>Если вы будете устанавливать скомпилированный <TT
CLASS="LITERAL"
>diff(1)</TT
>, то понадобятся
установленные библиотеки ELF. Для уточнения этого вопроса прочтите
ELF-HOWTO.&#13;</P
></DIV
><DIV
CLASS="SECT1"
><HR><H1
CLASS="SECT1"
><A
NAME="AEN54"
>3. Компиляция исходников RCS.</A
></H1
><P
>Скачайте дистрибутив RCS версии 5.7. Он находится по адресу 

ftp://sunsite.unc.edu/pub/Linux/devel/vc/rcs-5.7.src.tar.gz

или на зеркалах этого сайта. После того, как вы разархивировали все в каталог исходных текстов, вам надо настроить RCS под свою систему. Это можно сделать, при помощи скрипта <TT
CLASS="LITERAL"
>configure</TT
>, находящегося в каталоге исходных текстов. Для этого надо его запустить. Он создаст <TT
CLASS="LITERAL"
>Makefile</TT
> и соответствующий вашей системе <TT
CLASS="LITERAL"
>conf.sh</TT
>. Затем вы можете набрать 
<B
CLASS="COMMAND"
>make install</B
>,
который создаст программу. В принципе, это лучше сделать, как пользователь root, чтобы разместить все в нужные каталоги.&#13;</P
></DIV
><DIV
CLASS="SECT1"
><HR><H1
CLASS="SECT1"
><A
NAME="AEN61"
>4. Создание и поддержка архивов.</A
></H1
><P
>Программа <TT
CLASS="LITERAL"
>rcs(1)</TT
> создает архивы и изменяет их атрибуты. Все опции <TT
CLASS="LITERAL"
>rcs(1)</TT
>
описаны в руководстве <TT
CLASS="LITERAL"
>rcs(1)</TT
>.</P
><P
>Самый простой способ создать архив - это сначала <TT
CLASS="LITERAL"
>mkdir RCS</TT
> в текущем каталоге, затем командой 
<B
CLASS="COMMAND"
>rcs -i название_рабочего_файла</B
>
создать архив. Она создает архив под именем <TT
CLASS="LITERAL"
>./RCS/название_рабочего_файла,v</TT
> и запрашивает описание архива, но не помещает туда сам архив. вы можете включить и выключить изменение архивов командами 
<B
CLASS="COMMAND"
>rcs -L название_рабочего_файла</B
>

и 
<B
CLASS="COMMAND"
>rcs -U название_рабочего_файла</B
>

соответственно. Есть и другие опции для управления доступом к архивам, указания формата и нумерации версий, о которых рассказано в руководстве к <TT
CLASS="LITERAL"
>rcs(1)</TT
>.&#13;</P
></DIV
><DIV
CLASS="SECT1"
><HR><H1
CLASS="SECT1"
><A
NAME="AEN74"
>5. <TT
CLASS="LITERAL"
>ci(1)</TT
> и <TT
CLASS="LITERAL"
>co(1)</TT
>.</A
></H1
><P
>Команды <TT
CLASS="LITERAL"
>ci(1)</TT
> и <TT
CLASS="LITERAL"
>co(1)</TT
>  используются для проверки старых и измененных файлов,
при помощи сравнения их с архивом RCS. Команда <TT
CLASS="LITERAL"
>ci(1)</TT
> может быть
использована для проверки всех архивов. В самой простой форме эти команды
требуют только имя файла: <B
CLASS="COMMAND"
>ci название_рабочего_файла</B
> и <B
CLASS="COMMAND"
>co название_рабочего_файла</B
>
Команда <B
CLASS="COMMAND"
>ci -l название_рабочего_файла</B
> проверяет новый файл, с включенной опцией
изменения архивов, а <B
CLASS="COMMAND"
>co -l название_рабочего_файла</B
> <I
CLASS="EMPHASIS"
>выполняется автоматически</I
>. Это
означает, что команда <B
CLASS="COMMAND"
>ci -l</B
> проверяет и старые файлы. <B
CLASS="COMMAND"
>ci -u
название_рабочего_файла</B
> выполняет проверку нового и предыдущей версии, при
выключенной опции изменения файлов. Во всех случаях пользователю
предоставляется журнал изменений.</P
><P
><TT
CLASS="LITERAL"
>ci(1)</TT
>также создает архив RCS, если он не был создан до этого. &#13;</P
><P
>Если вы не указываете номер изменения, <TT
CLASS="LITERAL"
>ci(1)</TT
> увеличивает номер версии на
единицу, по отношению к предыдущему, и записывает измененный файл туда. Если
вы сами указываете номер версии, то он не должен быть меньше, чем
существующий. <TT
CLASS="LITERAL"
>ci(1)</TT
> также может произвести ветвление версии, если вы
укажете несуществующую ветвь версии. Прочтите руководство к <TT
CLASS="LITERAL"
>ci(1)</TT
> и <TT
CLASS="LITERAL"
>co(1)</TT
>
для выяснения деталей.</P
><P
><TT
CLASS="LITERAL"
>ci(1)</TT
> и <TT
CLASS="LITERAL"
>co(1)</TT
> имеют несколько опций для интерактивного и пакетного режима
использования.</P
></DIV
><DIV
CLASS="SECT1"
><HR><H1
CLASS="SECT1"
><A
NAME="AEN99"
>6. Просмотр внесенных изменений.</A
></H1
><P
>Программа <TT
CLASS="LITERAL"
>rlog(1)</TT
> обеспечивает пользователя информацией об архиве и
журналом изменений. Командой rlog work_file_name вы выведете названия
версий файла, дату его создания и авторские <TT
CLASS="LITERAL"
>userids</TT
>. А также вы можете
указать некоторые опции файла относящиеся к просмотру.</P
></DIV
><DIV
CLASS="SECT1"
><HR><H1
CLASS="SECT1"
><A
NAME="AEN104"
>7. Включение информации для RCS в рабочие файлы.</A
></H1
><P
><TT
CLASS="LITERAL"
>co(1)</TT
> поддерживает ключевые слова базы данных RCS, которая расширяется при
проверке файла. Ключевое слово <TT
CLASS="LITERAL"
>$Id: RCS.html,v 1.1 2002/10/30 21:27:05 ott Exp $</TT
> в документе включает в себя имя файла,
номер версии, дату проверки, автора, статус проверки и имя того, кто изменял
права на внесение поправок в документ. Вместе с ключевым словом, <TT
CLASS="LITERAL"
>$Log: RCS.html,v $
>Revision 1.1  2002/10/30 21:27:05  ott
>New update of howto's
></TT
>
выдаст журнал изменений.</P
><P
>Эти ключевые слова могут использоваться, как идентификационный критерий при
поиске в архиве RCS. Прочтите руководство к <TT
CLASS="LITERAL"
>ident(1)</TT
> для уточнения деталей.</P
></DIV
><DIV
CLASS="SECT1"
><HR><H1
CLASS="SECT1"
><A
NAME="AEN112"
>8. RCS и контроль версий в emacs(1)</A
></H1
><P
>Функция контроля версии (Version Control) у <TT
CLASS="LITERAL"
>emacs(1)</TT
> является ярким
примером использования RCS. Это в особенности относится к Версии 19.34 GNU
Emacs, который поставляется с большинством дистрибутивов Linux. Когда вы
редактируете файл, при помощи <TT
CLASS="LITERAL"
>emacs(1)</TT
>, он регистрируется RCS, команда
<TT
CLASS="LITERAL"
>vc-toggle-read-only</TT
> (по умолчанию <TT
CLASS="LITERAL"
>C-x C-q</TT
> ) проверит версию файла, а затем
это сделает RCS. Emacs откроет буфер, в котором вы можете написать сообщение
в журнал RCS. Для того, чтобы закрыть этот журнал и продолжить процесс
проверки, есть команда <TT
CLASS="LITERAL"
>C-c C-c</TT
>.</P
><P
>Если на файле стоит опция запрещения редактирования RCS, вы можете ее
снять, редактируя его в <TT
CLASS="LITERAL"
>emacs(1)</TT
>. Вы можете проверить файл при помощи,
Version Control командой <TT
CLASS="LITERAL"
>%</TT
> в режиме меню буфера.</P
><P
>Для уточнения деталей прочтите руководство к GNU Emacs. &#13;</P
></DIV
><DIV
CLASS="SECT1"
><HR><H1
CLASS="SECT1"
><A
NAME="AEN124"
>9. Авторские права</A
></H1
><P
>Авторские права на русский перевод этого текста принадлежат &copy; 2000 SWSoft Pte Ltd.
Все права зарезервированы.</P
><P
>Этот документ является частью проекта Linux HOWTO.</P
><P
>Авторские права на документы Linux HOWTO принадлежат их авторам, если явно
не указано иное. Документы Linux HOWTO, а также их переводы, могут
быть воспроизведены и распространены полностью или частично на любом
носителе, физическом или электронном, при условии сохранения этой заметки об
авторских правах на всех копиях. Коммерческое распространение разрешается и
поощряется; но, так или иначе, автор текста и автор перевода желали бы знать о
таких дистрибутивах.</P
><P
>Все переводы и производные работы, выполненные по документам Linux HOWTO,
должны сопровождаться этой заметкой об авторских правах. Это делается в
целях предотвращения случаев наложения дополнительных ограничений на
распространение документов HOWTO. Исключения могут составить случаи
получения специального разрешения у координатора Linux HOWTO, с которым
можно связаться по адресу приведенному ниже.</P
><P
>Мы бы хотели распространить эту информацию по всем возможным каналам. Но
при этом сохранить авторские права и быть уведомленными о всех планах
распространения HOWTO. Если у вас возникли вопросы, пожалуйста, обратитесь
к координатору проекта Linux HOWTO по электронной почте:
<TT
CLASS="EMAIL"
>&#60;<A
HREF="mailto:linux-howto@metalab.unc.edu"
>linux-howto@metalab.unc.edu</A
>&#62;</TT
> или к координатору русского
перевода Linux HOWTO компании SWSoft Pte Ltd. по адресу
<TT
CLASS="EMAIL"
>&#60;<A
HREF="mailto:linux-howto@asplinux.ru"
>linux-howto@asplinux.ru</A
>&#62;</TT
></P
></DIV
></DIV
></BODY
></HTML
>