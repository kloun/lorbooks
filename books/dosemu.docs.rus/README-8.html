<HTML>
<HEAD>
<TITLE>DOSEmu: Using CDROMS</TITLE>
</HEAD>
<BODY>
<?php include("/home/maxcom/linux_html/books/head.php3") ?>
<A HREF="README-7.html">Назад</A>
<A HREF="README-9.html">Вперед</A>
<A HREF="README.html#toc8">Оглавление</A>
<HR>
<H2><A NAME="CDROM"></A> <A NAME="s8">8. Использование CDROM</A></H2>



<H2><A NAME="ss8.1">8.1 Встроенный драйвер</A></H2>

<P>Здесь описан модуль cdrom, сделанный rucker@astro.uni-bonn.de 
для Dosemu.</P>
<P>
Драйвер состоит из сервера со стороны Linux (dosemu/drivers/cdrom.c, с
доступом через int 0xe6 функция 0x40) и драйвера устройства
(dosemu/commands/cdrom.S) со стороны DOS. </P>
<P>Замечания и предложения посылайте
<A HREF="mailto:rucker@astro.uni-bonn.de">&lt;rucker@astro.uni-bonn.de&gt;</A></P>
<P>Для установки:
<UL>
<LI> Создайте символический линк /dev/cdrom на файл устройства (/dev/...)
вашего дисковода или используйте для указания параметр cdrom в 
/etc/dosemu.conf.</LI>
<LI> 
Убедитесь, что имеете права на чтение/запись в этот файл устройства, иначе
вы не сможете напрямую использовать cdrom под эмулятором из соображений
безопасности.
</LI>
<LI> Загрузите cdrom.sys в вашем config.sys, например так :

<BLOCKQUOTE><CODE>
<PRE>
    devicehigh=c:\emu\cdrom.sys
</PRE>
</CODE></BLOCKQUOTE>

</LI>
<LI> Запустите Microsoft cdrom extension:

<BLOCKQUOTE><CODE>
<PRE>
    mscdex /d:mscd0001 /l:driveletter
</PRE>
</CODE></BLOCKQUOTE>
</LI>
</UL>
</P>
<P>
Чтобы сменить диск при работающем Dosemu, пользуйтесь DOS-овской программой
'eject.com'. Сменить диск окажется невозможно, если он открыт другой
программой (например, смонтирован!)</P>
<P>Комментарий zimmerma@rz.fht-esslingen.de:
Драйвер был успешно протестирован с Linux SCSI CDROM-ами автором, с
драйвером для Mitsumi  mcd.c и с драйвером для Aztech/Orchid/Okano/Wearnes
 aztcd.c мной. С последними типами CDROM смена диска не всегда правильно
распознается дисководом, и поэтому отключена. Поэтому eject.com работать не
будет. Для других CD-ROM можно вкючить эту возможность, установив
'eject_allowed = 1' в файле dosemu/drivers/cdrom.c (она в начале файла). С
драйверами mcd.c и aztcd.c при этом система может подвиснуть секунд на 30 (или даже
насовсем), поэтому не меняйте значение по умолчанию 'eject_allowed = 0'.</P>   

<P>History: Release with dosemu.0.60.0
Karsten Rucker (rucker@astro.uni-bonn.de)
April 1995       </P>
<P>Additional remarks for mcd.c and aztcd.c
Werner Zimmermann (zimmerma@rz.fht-esslingen.de)
May 30, 1995</P>

<HR>
<A HREF="README-7.html">Назад</A>
<A HREF="README-9.html">Вперед</A>
<A HREF="README.html#toc8">Оглавление</A>

<HR><I>Перевод: Валерий Груздев (grue@vpti.vladimir.ru)</I>
</BODY>
</HTML>
