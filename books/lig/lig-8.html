<title>Учебные материалы по FTP и список серверов</title>
<?php include("/home/maxcom/linux_html/books/head.php3") ?>
<h1>8 <a name="s8"> Учебные материалы по FTP и список серверов </h1>
<p> <a href="lig.html#toc8"> Содержимое этого раздела</a></p>

<p>FTP (``File Transfer Protocol'') - Протокол Передачи Файлов,
это  множество  программ,  используемых для передачи файлов между
системами  в  Internet.  Большинство  систем UNIX, VMS и MS-DOS в
Internet  имеют  программу,  называемую ftp, которая используется
для  передачи  этих  файлов  и, если у вас есть выход в Internet,
лучший способ скачать программы для Linux, это с помощью <code>ftp</code>. Это
приложение  рассматривает  основы  использования <code>ftp</code>. Разумеется,
<code>ftp</code> имеет  значительно  больше  функциональных возможностей, чем
рассмотрено здесь.</p>
<p></p>
<p>В  конце этого приложения дан список FTP-серверов, где можно
найти  программы  для  Linux.  Кроме того, если у вас нет прямого
выхода   в   Internet,  но  вы  можете  обмениваться  с  Internet
электронной   почтой,   то   ниже   приводится  и  информация  по
использованию сервиса <code>ftpmail</code>.</p>
<p></p>
<p>Если  вы  используете  системы  MS-DOS,  UNIX  или  VMS  для
скачивания  файлов  из  Internet, то для вас ftp - это программа,
управляемая  командами.  В то время как в других реализациях ftp,
таких  как  версия  для Macintosh (называемая Fetch), имеются для
этого  чудесные  меню,  которые  самопонятны.  Даже  если  вы  не
используете   командно-управляемое <code>ftp</code>,  информация,  приводимая
здесь, все равно может быть полезной.</p>
<p></p>
<p>ftp  можно использовать как для посылки файлов (upload), так
и для их получения (download) с других узлов (sites) Internet.
<sl>(прим. переводчика: нет общепринятого перевода слова "site",
которое,  следуя  скорее  традиции  Relcom,  мы в зависимости от
контекста  переводим,  то как "узел", то как "(сетевой, архивный)
сервер"; по этой же причине, часто для "download" используется (в
том числе и нами) термин "скачать", что, видимо, следует признать
(техническим) жаргоном).</sl>

</p>
<p>В   большинстве   случаев   вы   все-таки  будете  скачивать
программы.  В  Internet большое количество общедоступных архивных
FTP-серверов,  т.е. машин, позволяющих любому войти на них по <code>ftp</code>
и  скачать  свободнораспространяемое  (free)
<sl>(прим.  переводчика:
сравните два последних слова и простите переводчику использование
небольшой  дозы  жаргона)</sl>

программное обеспечение. Один из таких
архивных  серверов <code>sunsite.unc.edu</code>, который состоит из множества
Санов  (Sun  Microsystems),  работает  как  (единый) один из самых
мощных   серверов   Linux.   Кроме   того,  архивные  FTP-сервера
осуществляют  "зеркальное"  отображение  друг  на друга, то есть,
размещенное  на  одном  сервере,  автоматически копируется на ряд
других  серверов. так что не удивляйтесь, если увидите один и тот
же файл на многих различных архивных серверах.</p>
<p></p>
<h2>8.1 <A Name="ss8.1"> Начала ftp </h2>

<p>Обратите внимание на то, что в "экранах", приводимых ниже, я
лишь  показываю наиболее существенную информацию, так что то, что
вы можете увидеть на реальном экране, может отличаться.</p>
<p></p>
<p>Для  запуска  <code>ftp</code> и  установления  связи  с сервером просто
используйте команду</p>
<p>
<blockquote><code>
<pre>
    ftp &lt;hostname&gt;
</pre>
</code></blockquote>
</p>
<p>где  <code>&lt;hostname&gt;</code>  -  имя  сервера, с которым вы связываетесь.
Например,  для связи с мифическим сервером <code>shoop.vpizza.com</code> можно
использовать команду</p>
<p>
<blockquote><code>
<pre>
    ftp shoop.vpizza.com
</pre>
</code></blockquote>
</p>
<p></p>

<h2>8.2 <A Name="ss8.2"> Вход на сервер </h2>

<p>Когда запускается  <code>ftp</code>, мы можем увидеть что-то вроде</p>
<p>
<blockquote><code>
<pre>
    Connected to shoop.vpizza.com.
    220 Shoop.vpizza.com FTPD ready at 15 Dec 1992 08:20:42 EDT
    Name (shoop.vpizza.com:mdw):
</pre>
</code></blockquote>
</p>
<p></p>
<p>Здесь  <code>ftp</code>  просит  нас  ввести имя (Name) пользователя, под
которым  мы  хотим войти на сервер <code>shoop.vpizza.com</code>. По умолчанию
здесь  "<code>mdw</code>",  что служит моим именем пользователя для FTP-входа.
Поскольку  у меня нет account
<sl>(прим. переводчика: не открыт счет,
а  точнее  (но  дальше от текста) - не зарегистрирован в качестве
пользователя)</sl>

на  <code>shoop.vpizza.com</code>,  я  не  могу войти под своим
именем.  Вместо этого, чтобы войти на общедоступный FTP-сервер вы
входите  как <code>anonymous</code>  (аноним)  и  сообщаете свой адрес e-mail
(если  он  у  вас  есть)  в  качестве пароля. То есть нам следует
ввести</p>
<p>
<blockquote><code>
<pre>
    Name (shoop.vpizza.com:mdw):  anonymous
    331-Guest login ok, send e-mail address as password.
    Password:  mdw@sunsite.unc.edu
    230- Welcome to shoop.vpizza.com.
    230- Virtual Pizza Delivery[tm]:  Download pizza in  30 cycles
    or less
    230- or you get it FREE!
    ftp&gt;
</pre>
</code></blockquote>
</p>
<p></p>
<p>Разумеется,  вам  следует  сообщать свой e-mail адрес вместо
моего,  он  не  будет  отображаться  на  экране  при  вашем вводе
(поскольку   он  вводится  под  "вывеской"  пароля).  <code>ftp</code>  должен
позволить  нам  войти  и  мы  будем  иметь  возможность скачивать
программы.</p>
<p></p>

<h2>8.3 <A Name="ss8.3"> Озираясь вокруг </h2>

<p>О'кей, мы вошли. <code>ftp&gt;</code> - это наша подсказка, теперь программа
<code>ftp</code> ждет ввода команд.
Есть несколько основных команд, которые вам надо знать.
Прежде всего, команды</p>
<p>
<blockquote><code>
<pre>
    ls &lt;file&gt;
</pre>
</code></blockquote>
</p>
<p>и</p>
<p>
<blockquote><code>
<pre>
    dir &lt;file&gt;
</pre>
</code></blockquote>
</p>
<p></p>
<p>обе   дают   список  файлов  (где  <code>&lt;file&gt;</code> - необязательный
аргумент,  указывающий, какой список вывести). Разница в том, что
<code>ls</code> обычно  выдает  короткий  список,  а <code>dir</code> - длинный (то есть с
большей информацией относительно размера файлов, даты модификации
и т.п.). Команда</p>
<p>
<blockquote><code>
<pre>
    cd &lt;directory&gt;
</pre>
</code></blockquote>
</p>
<p></p>
<p>переместит  "вас"  в указанный каталог (точно также, как
команда <code>cd</code> в UNIX или MS-DOS). Вы можете использовать команду</p>
<p>
<blockquote><code>
<pre>
    cdup
</pre>
</code></blockquote>
</p>
<p>для перехода в родительский (находящийся выше) каталог</p>
<p>Команда</p>
<p>
<blockquote><code>
<pre>
    help &lt;command&gt;
</pre>
</code></blockquote>
</p>
<p></p>
<p>даст  вам  подсказку  по указанной команде <code>ftp</code> (такой как <code>ls</code>
или  <code>cd</code>).  Если  команда  не  указана, <code>ftp</code> выдаст  список  всех
доступных  команд.  Если  мы  введем теперь <code>dir</code>, мы увидим
начальный каталог нашего местонахождения.</p>
<p>
<blockquote><code>
<pre>
    ftp&gt; dir
    200 PORT command successful.
    150 Opening ASCII mode data connection for /bin/ls.
    total 1337

    dr-xr-xr-x  2 root     wheel         512 Aug 13 13:55 bin
    drwxr-xr-x  2 root     wheel         512 Aug 13 13:58 dev
    drwxr-xr-x  2 root     wheel         512 Jan 25 17:35 etc
    drwxr-xr-x 19 root     wheel        1024 Jan 27 21:39 pub
    drwxrwx-wx  4 root     ftp-admi     1024 Feb  6 22:10 uploads
    drwxr-xr-x  3 root     wheel         512 Mar 11  1992 usr

    226 Transfer complete.
    921 bytes received in 0.24 seconds (3.7 Kbytes/s)
    ftp&gt;
</pre>
</code></blockquote>
</p>
<p></p>
<p>Каждая из этих строк представляет каталог, а не отдельный
файл,  который  мы  можем  скачать (на это указывает символ "<code>d</code>" в
первой  позиции  списка).  На  большинстве  архивных FTP-серверов
общедоступные  программы  находятся  под каталогом <code>/pub</code>, так
что давайте туда и пойдем.</p>
<p>
<blockquote><code>
<pre>
    ftp&gt; cd pub
    ftp&gt; dir
    200 PORT command successful.
    150 ASCII data connection  for /bin/ls (128.84.181.1,4525)  (0
    bytes).
    total 846

    -rw-r--r--  1 root   staff     1433 Jul 12  1988 README
    -r--r--r--  1 3807   staff    15586 May 13  1991  US-DOMAIN.TXT.2
    -rw-r--r--  1 539    staff    52664 Feb 20  1991 altenergy.avail
    -r--r--r--  1 65534  65534    56456 Dec 17  1990 ataxx.tar.Z
    -rw-r--r--  1 root   other  2013041 Jul  3  1991 gesyps.tar.Z
    -rw-r--r--  1 432    staff    41831 Jan 30  1989 gnexe.arc
    -rw-rw-rw-  1 615    staff    50315 Apr 16  1992 linpack.tar.Z
    -r--r--r--  1 root   wheel    12168 Dec 25  1990 localtime.o
    -rw-r--r--  1 root   staff     7035 Aug 27  1986 manualslist.tblms
    drwxr-xr-x  2 2195   staff      512 Mar 10 00:48 mdw
    -rw-r--r--  1 root   staff     5593 Jul 19  1988 t.out.h

    226 ASCII Transfer complete.
    2443 bytes received in 0.35 seconds (6.8 Kbytes/s)
    ftp&gt;
</pre>
</code></blockquote>
</p>
<p>Здесь  мы  можем  видеть  ряд  (интересных?) файлов, один из
которых   называется <code>README</code>, который   нам   следует  скачать
(большинство FTP-серверов имеет файл <code>README</code> в каталоге /pub).</p>
<p></p>
<p></p>

<h2>8.4 <A Name="ss8.4"> Скачивание файлов </h2>

<p>Перед  скачиванием  файлов  следует обратить внимание на</p>
<p>
<ul>
<li>Включите вывод хэш-меток. Хэш-метки выводятся на экран как
передаваемые  файлы;  они информируют о переданных об'емах и
что  передача  не зависла (так что вы не будете сидеть минут
20, полагая, что вы все еще скачиваете файл). В общем случае
хэш-метка   появляется,  как  символ  решетки  (#),  который
печатается  через  каждые  1024  или 8192 переданных байт, в
зависимости от системы.

<p>Включение хэш-меток осуществляется командой</p>
<p>
<blockquote><code>
<pre>
        ftp&gt; hash
        Hash mark printing on (8192 bytes/hash mark).
        ftp&gt;
</pre>
</code></blockquote>
</p>
<p></p>
</li>
<li>Определите тип файла, который вы скачиваете. FTP различает
два типа файлов: бинарные (двоичные) и текстовые. Большинство
файлов,   которые   вы  будете  скачивать  -  бинарные.  Это
программы,  скомпрессированные файлы, архивированные файлы и
т.п. Но есть немало и текстовых файлов (вроде <code>README</code>).

<p>Почему  тип  файла  имеет  значение?  Только  потому, что на
некоторых системах (таких, как MS-DOS), определенные символы
текстового  файла,  вроде  возврата  каретки,  должны  быть
преобразованы  так,  чтобы  файл  был  читаем. А при передаче
бинарных  файлов  никаких преобразований не осуществляется -
файл просто передается байт за байтом.</p>
<p></p>
<p>Команды <code>bin</code> и <code>ascii</code> используются для перевода соответственно
в  бинарный режим передачи файлов и текстовый соответственно.
Если  возникают  сомнения - используйте бинарный режим. Если
вы  попытаетесь  передать  бинарный файл в текстовом режиме,
файл  будет  испорчен  при передаче до полной бесполезности.
(Это  одна из популярнейших ошибок на начальных этапах
использования  FTP).  Но  разумеется, вы можете использовать
текстовый  режим  для  передачи  нормальных текстовых файлов
(чьи имена часто заканчиваются на <code>.txt</code>).</p>
<p></p>
<p>Например,  мы  скачиваем  файл  README который, скорее всего,
текстовый так что мы используем команду</p>
<p>
<blockquote><code>
<pre>
        ftp&gt; ascii
        200 Type set to A.
        ftp&gt;
</pre>
</code></blockquote>
</p>
<p></p>
<p></p>
</li>
<li>Установите   свой   местный   каталог.   Ваш  местный
каталог,  это  каталог вашей системы, куда вы хотите в
конечном  счете  скачать  файлы.  В  то время как команда cd
меняет  каталог  удаленной  машины (машины, на которую вы
вошли  по  FTP),  команда <code>lcd</code> меняет  местный  (l-local)
каталог.

<p>Например,     чтобы     установить     местный    каталог
<code>/home/db/mdw/tmp</code>, используйте команду</p>
<p>
<blockquote><code>
<pre>
        ftp&gt; lcd /home/db/mdw/tmp
        Local directory now /home/db/mdw/tmp
        ftp&gt;
</pre>
</code></blockquote>
</p>
<p></p>
</li>
</ul>
</p>
<p>Теперь вы действительно готовы скачивать файлы. Команда</p>
<p>
<blockquote><code>
<pre>
    get &lt;remote-name&gt; &lt;local-name&gt;
</pre>
</code></blockquote>
</p>
<p></p>
<p>используется  именно  для этого, где <code>&lt;remote-name&gt;</code> имя файла
на удаленной машине, а <code>&lt;local-name&gt;</code> - имя, которое вы хотите дать
файлу на вашей машине. <code>&lt;local-name&gt;</code> - необязательный аргумент; по
умолчанию  имя  местного  файла то же, что и у скачиваемого файла.
Но,  если  например  вы  скачиваете файл <code>README</code>, и у вас уже есть
файл  с  именем  <code>README</code> в этом каталоге, вам
следует  дать  другое имя для <code>&lt;local-filename&gt;</code>, чтобы не затереть
существующий.  Например,  для  скачивания  файла <code>README </code> мы просто
используем</p>
<p>
<blockquote><code>
<pre>
    ftp&gt; get README
    200 PORT command successful.
    150 ASCII data connection for README (128.84.181.1,4527) (1433
    bytes).
    #
    226 ASCII Transfer complete.
    local:  README remote:  README
    1493 bytes received in 0.03 seconds (49 Kbytes/s)
    ftp&gt;
</pre>
</code></blockquote>
</p>
<p></p>
<p></p>

<h2>8.5 <A Name="ss8.5"> Прекращение  FTP-связи </h2>

<p>Для прекращения  FTP-сессии просто используйте команду
<blockquote><code>
<pre>
    quit
</pre>
</code></blockquote>
</p>
<p></p>
<p>Команда
<blockquote><code>
<pre>
    close
</pre>
</code></blockquote>
</p>
<p>может   использоваться   для   закрытия   связи   с   данным
FTP-сервером;  команда  <code>open</code>  может быть после этого использована
для  начала  сессии  с  другим  сервером (без выхода из программы
FTP).</p>
<p>
<blockquote><code>
<pre>
    ftp&gt; close
    221 Goodbye.
    ftp&gt; quit
</pre>
</code></blockquote>
</p>
<p></p>

<h2>8.6 <A Name="ss8.6"> Использование ftpmail </h2>

<p><code>ftpmail</code> -  это сервис, который позволяет получить файлы из
FTP-архива  через  электронную  почту  Internet.  Если  у вас нет
прямого выхода на Internet, но есть возможность посылать письма в
Internet  (например,  из CompuServe), ftpmail - это хороший способ
получить  файлы  из  архивов  FTP-серверов.  К сожалению, <code>ftpmail</code>
может  быть  медленным,  особенно  при пересылке больших об'емов.
Перед  попыткой  скачать  большое число программ с использованием
<code>ftpmail</code>,  убедитесь,  что  область  спуллинга  вашей  mail  будет
способна справиться с такими об'емами входного трафика. Во многих
системах  есть  ограничения на об'ем приходящей электронной почты
<sl>(прим.   переводчика:   ограничения   могут  быть  как  на  об'ем
отдельного  файла,  так и на общее число принимаемых (размещаемых
во  входном  спуле)  файлов).</sl>

Так  что  руководствуйтесь здравым
смыслом.</p>
<p></p>
<p><code>sunsite.unc.edu</code> - один   из   главных   архивных   Linux
FTP-серверов,   имеет   также  <code>ftpmail</code>-сервер.  Для  того,  чтобы
воспользоваться этим сервисом, пошлите письмо по адресу:</p>
<p>
<blockquote><code>
<pre>
    ftpmail@sunsite.unc.edu
</pre>
</code></blockquote>
</p>
<p></p>
<p>А в письме только одно слово</p>
<p>
<blockquote><code>
<pre>
    help
</pre>
</code></blockquote>
</p>
<p></p>
<p>В  результате  вы  получите  в ответ список команд <code>ftpmail</code> и
краткую инструкцию по пользованию системой.</p>
<p></p>
<p>Например,   для  получения  списка  файлов  sunsite.unc.edu,
пошлите письмо по вышеуказанному адресу со следующим текстом:</p>
<p>
<blockquote><code>
<pre>
    open sunsite.unc.edu
    cd /pub/Linux
    dir
    quit
</pre>
</code></blockquote>
</p>
<p></p>
<p>Вы   можете   использовать <code>ftpmail</code> для  связи  с  архивом
FTP-сервера;  и  это  не  ограничивается  лишь <code>sunsite.unc.edu</code>. В
следующем разделе приводится список Linux FTP-архивов.</p>
<p></p>
<p></p>

<h2>8.7 <A Name="ss8.7"> Список Linux FTP-серверов </h2>

<p>Таблица   C.1  -  это  список  наиболее  известных  архивных
FTP-серверов, которые хранят пакеты программ для Linux. Имейте в
виду,  что  многие  другие  сервера  имеют зеркальные отображения
многих  из  этих  архивов, так что скорее всего вы найдете нужное
вам на серверах, отсутствующих в этом списке.</p>
<p></p>
<p><code>tsx-11.mit.edu</code>, <code>sunsite.unc.edu</code>
и  <code>nic.funet.fi</code> - это "дом
родной"   для  Linux,  где  вы  можете  найти  большинство  новых
программ.   Большинство   других  серверов  из  списка  зеркально
отображают  некоторую  комбинацию  из  этих  трех. Для уменьшения
сетевого   трафика   выбирайте   сервер,   который  ближе  к  вам
географически.</p>
<p></p>
<p>
<blockquote><code>
<pre>
 Имя сервера                    IP адрес          Каталог

 tsx-11.mit.edu                 18.172.1.2       /pub/linux
 sunsite.unc.edu                152.2.22.81      /pub/Linux
 nic.funet.fi                   128.214.6.100    /pub/OS/Linux
 ftp.mcc.ac.uk                  130.88.200.7     /pub/linux
 fgb1.fgb.mw.tu-muenchen.de     129.187.200.1    /pub/linux
 ftp.informatik.tu-muenchen.de  131.159.0.110    /pub/Linux
 ftp.dfv.rwth-aachen.de         137.226.4.105    /pub/linux
 ftp.informatik.rwth-aachen.de  137.226.112.172  /pub/Linux
 ftp.ibp.fr                     132.227.60.2     /pub/linux
 kirk.bu.oz.au                  131.244.1.1      /pub/OS/Linux
 ftp.uu.net                     137.39.1.9       /systems/unix/linux
 wuarchive.wustl.edu            128.252.135.4    /systems/linux
 ftp.win.tue.nl                 131.155.70.100   /pub/linux
 ftp.ibr.cs.tu-bs.de            134.169.34.15    /pub/os/linux
 ftp.denet.dk                   129.142.6.74     /pub/OS/linux

                  Таблица C.1: FTP-серверы Linux
</pre>
</code></blockquote>
</p>

<p><a href="lig-9.html"> След. </a> Глава, <a href="lig-7.html"> Пред. </a> Глава</p><p>Содержимое <a href="lig.html#toc8">этой главы</a>,
 Главное <a href="lig.html#toc">оглавление</a></p>
<p><a href="lig.html"> Начало </a> документа,
 <a href="lig-8.html#0"> Начало этой главы</a></p>