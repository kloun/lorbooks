<HTML>
<HEAD>
<!-- Created by texi2html 1.57 from shellutils.texi on January, 31  2002 -->

<TITLE>Утилиты оболочки GNU - 9. Информация о пользователе</TITLE>
</HEAD>
<BODY >
 [<A HREF="shellutils_toc.html">Содержание</A>] &#160; [<A HREF="shellutils_8.html">Назад</A>] &#160; [<A>Пред</A>] &#160; [<A>Вверх</A>] &#160; [<A>След</A>] &#160; [<A HREF="shellutils_10.html">Вперед</A>] &#160;<BR><HR><BR>


<H1><A NAME="SEC49">9. Информация о пользователе</A></H1>

<P>
<A NAME="IDX389"></A>


<P>
   Эта глава описывает команды печатают информацию о пользователе: логины,
группы и т.д.




<H2><A NAME="SEC50">9.1 `id': Вывести действительные и эффективный uid и gid</A></H2>

<P>
<A NAME="IDX390"></A>
<A NAME="IDX391"></A>


<P>
   `id' печатает информация о указанном пользователе или работающем,
если пользователь не указан. Синтаксис:



<PRE>
     id [ПАРАМЕТР]... [ИМЯ-ПОЛЬЗОВАТЕЛЯ]
</PRE>

<P>
   По умолчанию, она печатает действительный идентификатор пользователя,
эффективный идентификатор, если он отличается от действительного, эффективный
идентификатор группы, если он отличается от действительного, и идентификаторы 
дополнительных групп.


<P>
   Каждое из этих числовых значений предваряется идентифицирующей строкой
и продолжается соответсвующим именем пользователя или группы в скобках.


<P>
   Параметры указывают `id' печатать только часть этой информации.
См. также раздел <A HREF="shellutils_2.html#SEC2">2. Общие параметры</A>.


<DL COMPACT>

<DT><SAMP>`-g'</SAMP>
<DD>
<DT><SAMP>`--group'</SAMP>
<DD>
Печатать только идентификатор группы.
<A NAME="IDX392"></A>
<A NAME="IDX393"></A>
<A NAME="IDX394"></A>

<DT><SAMP>`-G'</SAMP>
<DD>
<DT><SAMP>`--groups'</SAMP>
<DD>
Печатать только дополнительные группы.
<A NAME="IDX395"></A>
<A NAME="IDX396"></A>
<A NAME="IDX397"></A>

<DT><SAMP>`-n'</SAMP>
<DD>
<DT><SAMP>`--name'</SAMP>
<DD>
Печатать имя пользователя или группы вместо идентификатора. Требует
`-u', `-g', or `-G'.
<A NAME="IDX398"></A>
<A NAME="IDX399"></A>
<A NAME="IDX400"></A>

<DT><SAMP>`-r'</SAMP>
<DD>
<DT><SAMP>`--real'</SAMP>
<DD>
Печатать действительный, вместо эффективного, идентификатор пользователя
или группы. Требует `-u', `-g', or `-G'.
<A NAME="IDX401"></A>
<A NAME="IDX402"></A>
<A NAME="IDX403"></A>

<DT><SAMP>`-u'</SAMP>
<DD>
<DT><SAMP>`--user'</SAMP>
<DD>
Печатать только идентификатор пользователя.
<A NAME="IDX404"></A>
<A NAME="IDX405"></A>
<A NAME="IDX406"></A>
</DL>



<H2><A NAME="SEC51">9.2 `logname': Печатать текущий логин</A></H2>

<P>
<A NAME="IDX407"></A>
<A NAME="IDX408"></A>


<P>
   `logname' печатает имя пользователя, указанное в файле `/var/run/utmp',
и возвращает значение 0. Если в `/var/run/utmp' нет записи для
вызывающего процесса, `logname' печатает сообщение об ошибке и
возвращает значение 1.


<P>
   Параметрами являются `--help' и `--version'. См. раздел <A HREF="shellutils_2.html#SEC2">2. Общие параметры</A>.




<H2><A NAME="SEC52">9.3 `whoami': Вывести эффективный идентификатор пользователя</A></H2>

<P>
<A NAME="IDX409"></A>
<A NAME="IDX410"></A>


<P>
   `whoami' печатает имя пользователя, ассоциированное с текущим 
эффективным идентификатором пользователя. Это эквивалент команды
`id -un'.


<P>
   Параметрами являются `--help' и `--version'. См. раздел <A HREF="shellutils_2.html#SEC2">2. Общие параметры</A>.




<H2><A NAME="SEC53">9.4 `groups': Вывести имена групп, которым принадлежит пользователь</A></H2>

<P>
<A NAME="IDX411"></A>
<A NAME="IDX412"></A>


<P>
   `groups' печатает имена основной и дополнительных групп для каждого
указанного ИМЕНИ-ПОЛЬЗОВАТЕЛЯ, или текущего процесса, если имена не
даны. Если имена указаны, имя каждого пользователя печатается перед
списком пользовательских групп. Синтаксис:



<PRE>
     groups [ИМЯ-ПОЛЬЗОВАТЕЛЯ]...
</PRE>

<P>
   Списки групп эквивалентны выводу команды `id -Gn'.


<P>
   Параметрами являются `--help' и `--version'. См. раздел <A HREF="shellutils_2.html#SEC2">2. Общие параметры</A>.




<H2><A NAME="SEC54">9.5 `users': Вывести логины пользователей, работающих в системе</A></H2>

<P>
<A NAME="IDX413"></A>
<A NAME="IDX414"></A>


<P>
   `users' печатает единственную строку разделенного пробелами списка 
пользователей, работающих в данной системе в данный момент времени.
Каждое имя пользователя соответсвует сессии, т.о. если пользователь
имеет более одной сессии, его имя появится соответсвующее число раз
в выводе. Синтаксис:



<PRE>
     users [ФАЙЛ]
</PRE>

<P>
<A NAME="IDX415"></A>
<A NAME="IDX416"></A>


<P>
   Без аргумента ФАЙЛ, `users' извлекает информацию из файла `/var/run/utmp'.
Если файловый аргумент задан, `users' использует этот файл. Основной выбор это
`/var/run/wtmp'.


<P>
   Параметрами являются `--help' и `--version'. См. раздел <A HREF="shellutils_2.html#SEC2">2. Общие параметры</A>.




<H2><A NAME="SEC55">9.6 `who': Напечатать, кто работает в системе</A></H2>

<P>
<A NAME="IDX417"></A>
<A NAME="IDX418"></A>


<P>
   `who' печатает информацию и пользователях, работающих в данное
время в системе. Синтаксис:



<PRE>
     `who' [ПАРАМЕТР] [ФАЙЛ] [am i]
</PRE>

<P>
   Если аргументы не переданы, `who' печатает следующую информацию
о работающих в системе пользователях: логин, линии терминала, время
работы и имя удаленного хоста или X дисплея.


<P>
<A NAME="IDX419"></A>
<A NAME="IDX420"></A>


<P>
   Если задан непараметрический аргумент, `who' использует его вместо
`/var/run/utmp' в качестве имени файла, содержащего записи работающих в 
системе пользователей. `/var/run/utmp' в основном передается как аргумент
для `who', чтобы посмотреть, кто ранее зашел в систему.


<P>
<A NAME="IDX421"></A>


<P>
   Если переданы два непараметрических аргумента, `who' печатет только
запись для запустившего ее пользователя (определяется из стандартного ввода),
предваренной именем хоста. Традиционно, два передаваемых аргумента это
`am i', как в `who am i'.


<P>
   Программа понимает следующие параметры. См. также раздел <A HREF="shellutils_2.html#SEC2">2. Общие параметры</A>.


<DL COMPACT>

<DT><SAMP>`-m'</SAMP>
<DD>
То же самое, что и `who am i'.
<A NAME="IDX422"></A>

<DT><SAMP>`-q'</SAMP>
<DD>
<DT><SAMP>`--count'</SAMP>
<DD>
Печатает только логины и количество пользователей, работающих в
системе. Перекрывает все другие параметры.
<A NAME="IDX423"></A>
<A NAME="IDX424"></A>
<A NAME="IDX425"></A>

<DT><SAMP>`-s'</SAMP>
<DD>
Игнорируется; для совместимости со старыми версиями `whi'.
<A NAME="IDX426"></A>

<DT><SAMP>`-i'</SAMP>
<DD>
<DT><SAMP>`-u'</SAMP>
<DD>
<DT><SAMP>`--idle'</SAMP>
<DD>
После времени входа, вывести количество часов и минут, которые пользователь
не был активен. `.' означает, что пользователь был активен последнюю минуту.
`old' означает, что пользователь неактивен более 24 часов.
<A NAME="IDX427"></A>
<A NAME="IDX428"></A>
<A NAME="IDX429"></A>
<A NAME="IDX430"></A>

<DT><SAMP>`-l'</SAMP>
<DD>
<DT><SAMP>`--lookup'</SAMP>
<DD>
Попытаться канонизировать имена хостов, найденные в utmp, через поиск
в DNS. Это не используется по умолчанию, поскольку может вызвать
серьезные задержки в системе с автоматическим доступом к Internet.
<A NAME="IDX431"></A>
<A NAME="IDX432"></A>
<A NAME="IDX433"></A>

<DT><SAMP>`-H'</SAMP>
<DD>
<DT><SAMP>`--heading'</SAMP>
<DD>
Вывести "шапку" заголовков столбцов.
<A NAME="IDX434"></A>
<A NAME="IDX435"></A>
<A NAME="IDX436"></A>

<DT><SAMP>`-w'</SAMP>
<DD>
<DT><SAMP>`-T'</SAMP>
<DD>
<DT><SAMP>`--mesg'</SAMP>
<DD>
<DT><SAMP>`--message'</SAMP>
<DD>
<DT><SAMP>`--writable'</SAMP>
<DD>
После каждого логина вывести символ, показывающий статус сообщений 
пользователя:
<A NAME="IDX437"></A>
<A NAME="IDX438"></A>
<A NAME="IDX439"></A>
<A NAME="IDX440"></A>
<A NAME="IDX441"></A>
<A NAME="IDX442"></A>
<A NAME="IDX443"></A>
<A NAME="IDX444"></A>
<A NAME="IDX445"></A>


<UL>
<LI>`+' разрешены `write' сообщения

<LI>`-' запрещены `write' сообщения

<LI>`?' не найдено устройство терминала

</UL>

</DL>

<P></P><HR>
 [<A HREF="shellutils_toc.html">Содержание</A>] &#160; [<A HREF="shellutils_8.html">Назад</A>] &#160; [<A>Пред</A>] &#160; [<A>Вверх</A>] &#160; [<A>След</A>] &#160; [<A HREF="shellutils_10.html">Вперед</A>] &#160;

</BODY>
</HTML>
