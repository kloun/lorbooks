<HTML>
<HEAD>
<!-- Created by texi2html 1.57 from bison.texi on June, 7  2003 -->

<TITLE>Bison 1.35 - 10. Вызов Bison</TITLE>
</HEAD>
<BODY >
 [<A HREF="bison_toc.html">Содержание</A>] &#160; [<A HREF="bison_11.html">Назад</A>] &#160; [<A>Пред</A>] &#160; [<A>Вверх</A>] &#160; [<A>След</A>] &#160; [<A HREF="bison_13.html">Вперед</A>] &#160;<BR><HR><BR>


<H1><A NAME="SEC96">10. Вызов Bison</A></H1>
<P>
<A NAME="IDX226"></A>
<A NAME="IDX227"></A>
<A NAME="IDX228"></A>


<P>
Обычный способ вызова Bison следующий:



<PRE>
bison <VAR>вх_файл</VAR>
</PRE>

<P>
Здесь <VAR>вх_файл</VAR> -- имя файла грамматики, обычно заканчивающееся <SAMP>`.y'</SAMP>.
Имя файла анализатора получается заменой <SAMP>`.y'</SAMP> на <SAMP>`.tab.c'</SAMP>. Так,
<SAMP>`bison foo.y'</SAMP> даст <TT>`foo.tab.c'</TT>, а <SAMP>`bison hack/foo.y'</SAMP> --
<TT>`hack/foo.tab.c'</TT>. Также возможно, если вы в своём файле грамматики
пишете код на C++, а не на C, назвать его <TT>`foo.ypp'</TT> или <TT>`foo.y++'</TT>.
Тогда выходные файлы будут иметь расширение, аналогичное расширению входного
(соответственно <TT>`foo.tab.cpp'</TT> и <TT>`foo.tab.c++'</TT>).  Эта возможность
влияет на все параметры, обрабатывающие имена файлов, такие как <SAMP>`-o'</SAMP> или
<SAMP>`-d'</SAMP>.


<P>
Например:



<PRE>
bison -d <VAR>вх_файл.yxx</VAR>
</PRE>

<P>
создаст <TT>`вх_файл.tab.cxx'</TT> и <TT>`вх_файл.tab.hxx'</TT>, а



<PRE>
bison -d <VAR>вх_файл.y</VAR> -o <VAR>вых_файл.c++</VAR>
</PRE>

<P>
создаст <TT>`вых_файл.c++'</TT> и <TT>`вых_файл.h++'</TT>.




<H2><A NAME="SEC97">10.1 Параметры Bison</A></H2>

<P>
Bison поддерживает как традиционные однобуквенные параметры, так и длинные
мнемонические имена параметров.  Длинные имена параметров помечаются <SAMP>`--'</SAMP>
вместо <SAMP>`-'</SAMP>.  Сокращение имён параметров допустимо до такой длины, пока они
остаются уникальными.  Если длинный параметр принимает аргумент, как, например,
<SAMP>`--file-prefix'</SAMP>, соедините имя параметра и аргумент знаком <SAMP>`='</SAMP>.


<P>
Вот список параметров, которые можно использовать с Bison, в алфавитном порядке
коротких параметров.  Далее следует перекрёстный указатель в алфавитном
порядке длинных параметров.


<P>
Режимы работы:
<DL COMPACT>

<DT><CODE>-h</CODE>
<DD>
<DT><CODE>--help</CODE>
<DD>
Вывести обзор параметров командной строки Bison и завершить работу.

<DT><CODE>-V</CODE>
<DD>
<DT><CODE>--version</CODE>
<DD>
Вывести версию Bison и завершить работу.

<DT><CODE>-y</CODE>
<DD>
<DT><CODE>--yacc</CODE>
<DD>
<DT><CODE>--fixed-output-files</CODE>
<DD>
Эквивалентно <SAMP>`-o y.tab.c'</SAMP>. Выходной файл анализатора называется
<TT>`y.tab.c'</TT>, другие выходные файлы: <TT>`y.output'</TT> и <TT>`y.tab.h'</TT>.
Назначение этого параметра в имитации соглашений по именованию выходных файлов
Yacc.  Так, следующий скрипт shell может заменить Yacc:


<PRE>
bison -y $*
</PRE>

</DL>

<P>
Подстройка анализатора:


<DL COMPACT>

<DT><CODE>-S <VAR>файл</VAR></CODE>
<DD>
<DT><CODE>--skeleton=<VAR>файл</VAR></CODE>
<DD>
Задать используемый скелет.  Вероятно, вам не понадобится использовать этот
параметр, если вы не разработчик Bison.

<DT><CODE>-t</CODE>
<DD>
<DT><CODE>--debug</CODE>
<DD>
В файле анализатора определить макрос <CODE>YYDEBUG</CODE> равным 1, если он ещё
не определён, так что средства отладки будут скомпилированы.  См. раздел <A HREF="bison_11.html#SEC95">9. Отладка вашего анализатора</A>.

<DT><CODE>--locations</CODE>
<DD>
Как будто было задано <CODE>%locations</CODE>.  См. раздел <A HREF="bison_6.html#SEC66">4.7.8 Обзор объявлений Bison</A>.

<DT><CODE>-p <VAR>префикс</VAR></CODE>
<DD>
<DT><CODE>--name-prefix=<VAR>префикс</VAR></CODE>
<DD>
Как будто было задано <CODE>%name-prefix="<VAR>префикс</VAR>"</CODE>.  См. раздел <A HREF="bison_6.html#SEC66">4.7.8 Обзор объявлений Bison</A>.

<DT><CODE>-l</CODE>
<DD>
<DT><CODE>--no-lines</CODE>
<DD>
Не помещать в файл анализатора команд препроцессора <CODE>#line</CODE>.
Обычно Bison помещает их в файл анализатора, так что компилятор и отладчики C
будут связывать ошибки с вашим исходным файлом, файлом грамматики.  Этот
параметр заставить их связывать ошибки с файлом анализатора, рассматривая его
как самостоятельный независимый исходный файл.

<DT><CODE>-n</CODE>
<DD>
<DT><CODE>--no-parser</CODE>
<DD>
Как будто было задано <CODE>%no-parser</CODE>.  См. раздел <A HREF="bison_6.html#SEC66">4.7.8 Обзор объявлений Bison</A>.

<DT><CODE>-k</CODE>
<DD>
<DT><CODE>--token-table</CODE>
<DD>
Как будто было задано <CODE>%token-table</CODE>.  См. раздел <A HREF="bison_6.html#SEC66">4.7.8 Обзор объявлений Bison</A>.
</DL>

<P>
Регулирование вывода:


<DL COMPACT>

<DT><CODE>-d</CODE>
<DD>
<DT><CODE>--defines</CODE>
<DD>
Как будто было задано <CODE>%defines</CODE>, т.е. записывает дополнительный
выходной файл, содержащий макроопределения имён типов лексем, определённых
в грамматике, и типа семантических значений <CODE>YYSTYPE</CODE> как несколько
объявлений переменных <CODE>extern</CODE>.  См. раздел <A HREF="bison_6.html#SEC66">4.7.8 Обзор объявлений Bison</A>.

<DT><CODE>--defines=<VAR>файл_определений</VAR></CODE>
<DD>
То же, что и предыдущий, но записывает в файл <VAR>файл_определений</VAR>.

<DT><CODE>-b <VAR>префикс_файла</VAR></CODE>
<DD>
<DT><CODE>--file-prefix=<VAR>префикс</VAR></CODE>
<DD>
Как будто было задано <CODE>%file-prefix</CODE>, т.е. задаёт префикс имён всех
выходных файлов Bison.  См. раздел <A HREF="bison_6.html#SEC66">4.7.8 Обзор объявлений Bison</A>.

<DT><CODE>-v</CODE>
<DD>
<DT><CODE>--verbose</CODE>
<DD>
Как будто было задано <CODE>%verbose</CODE>, т.е. записывает дополнительный
выходной файл, содержащий подробное описание грамматики и анализатора.
См. раздел <A HREF="bison_6.html#SEC66">4.7.8 Обзор объявлений Bison</A>.

<DT><CODE>-o <VAR>имя_файла</VAR></CODE>
<DD>
<DT><CODE>--output=<VAR>имя_файла</VAR></CODE>
<DD>
Именем файла анализатора будет <VAR>имя_файла</VAR>.

Имена других выходных файлов получаются из <VAR>имя_файла</VAR> как описано
для параметров <SAMP>`-v'</SAMP> и <SAMP>`-d'</SAMP>.

<DT><CODE>-g</CODE>
<DD>
Вывести определение VCG автомата LALR(1)-грамматики, вычисленного Bison.
Если файл грамматики называется <TT>`foo.y'</TT>, выходной файл VCG будет
<TT>`foo.vcg'</TT>.

<DT><CODE>--graph=<VAR>файл_графа</VAR></CODE>
<DD>
Поведение <VAR>--graph</VAR> то же, что и <SAMP>`-g'</SAMP>. Единственное различие в том,
что у него есть необязательный аргумент -- имя выходного файла графа.
</DL>



<H2><A NAME="SEC98">10.2 Переменные среды</A></H2>
<P>
<A NAME="IDX229"></A>
<A NAME="IDX230"></A>
<A NAME="IDX231"></A>
<A NAME="IDX232"></A>


<P>
Вот список переменных среды, оказывающих влияние на работу Bison.


<DL COMPACT>

<DT><SAMP>`BISON_SIMPLE'</SAMP>
<DD>
<DT><SAMP>`BISON_HAIRY'</SAMP>
<DD>
Многие анализаторы, генерируемые Bison, дословно копируются из файла
<TT>`bison.simple'</TT>.  Если Bison не может найти этот файл или если вы
хотите указать Bison использовать другую его копию, установка переменной
среды <CODE>BISON_SIMPLE</CODE> на путь к файлу заставит Bison использовать эту
копию.

Когда используется объявление <SAMP>`%semantic_parser'</SAMP>, Bison копирует
анализатор из файла <TT>`bison.hairy'</TT>.  Расположение этого файла также может
быть задано или переопределено аналогичным образом, переменной среды
<CODE>BISON_HAIRY</CODE>.

</DL>



<H2><A NAME="SEC99">10.3 Перекрёстный список параметров</A></H2>

<P>
Здесь приведён список параметров в алфавитном порядке длинных параметров,
чтобы помочь вам найти соответствующий короткий параметр.




<H2><A NAME="SEC100">10.4 Ограничения на расширения под DOS</A></H2>
<P>
<A NAME="IDX233"></A>
<A NAME="IDX234"></A>


<P>
В системах DOS/Windows 9X возможность использования расширений имён выходных
файлов, таких как <TT>`.tab.c'</TT>, зависит от используемой файловой системы.
Простая файловая система DOS содержит ограничение на длину имени файла, не
допускает использование определённого множества незаконных литер и не допускает
более одной точки в имени файла.


<P>
Порт <CODE>bison</CODE> DJGPP определяет во время выполнения, доступны ли
длинные имена файлов (ДИФ).  Поддержка ДИФ будет доступны в сеансе DOS под
Windows 9X и последующих версий.  Для Windows NT 4.0 для правильной поддержки
ДИФ в сеансе DOS нужен специальный драйвер (<TT>`ntlfn09b.zip'</TT> или более
поздний, доступный на любом зеркале simtelnet в каталоге /v2misc).  Если
поддержка ДИФ доступна, порт <CODE>bison</CODE> DJGPP будет использовать для выходных
файлов стандартные расширения имён файлов POSIX.  Если поддержка ДИФ
недоступна, этот порт будет использовать расширения имён файлов для DOS.


<P>
В этой таблице указаны используемые расширения:


<TABLE>

<TR><TD></TD><TD> расширени ДИФ (Win9X) </TD><TD> расширение КИФ (просто DOS)</TD>

</TR>
<TR><TD></TD><TD> <TT>`.tab.c'</TT> </TD><TD> <TT>`_tab.c'</TT></TD>

</TR>
<TR><TD></TD><TD> <TT>`.tab.h'</TT> </TD><TD> <TT>`_tab.h'</TT></TD>

</TR>
<TR><TD></TD><TD> <TT>`.tab.cpp'</TT> </TD><TD> <TT>`_tab.cpp'</TT></TD>

</TR>
<TR><TD></TD><TD> <TT>`.tab.hpp'</TT> </TD><TD> <TT>`_tab.hpp'</TT></TD>

</TR>
<TR><TD></TD><TD> <TT>`.output'</TT> </TD><TD> <TT>`.out'</TT></TD>

</TR>
<TR><TD></TD><TD> <TT>`.stype.h'</TT> </TD><TD> <TT>`.sth'</TT></TD>

</TR>
<TR><TD></TD><TD> <TT>`.guard.c'</TT> </TD><TD> <TT>`.guc'</TT></TD>

</TR></TABLE>



<H2><A NAME="SEC101">10.5 Вызов Bison под VMS</A></H2>
<P>
<A NAME="IDX235"></A>
<A NAME="IDX236"></A>


<P>
Синтаксис командной строки Bison под VMS является вариацией обычного
синтаксиса команды Bison адаптированной для соответствия соглашениям VMS.


<P>
Чтобы найти VMS-эквивалент параметра Bison, возьмите длинную форму параметра,
подставьте <SAMP>`/'</SAMP> вместо начального <SAMP>`--'</SAMP>, <SAMP>`_'</SAMP> -- вместо каждого
<SAMP>`-'</SAMP> в имени длинного параметра.  Например, такой вызов под VMS:



<PRE>
bison /debug/name_prefix=bar foo.y
</PRE>

<P>
соответствует следующей команде под POSIX:



<PRE>
bison --debug --name-prefix=bar foo.y
</PRE>

<P>
Файловая система VMS не допускает такие имена файлов, как <TT>`foo.tab.c'</TT>.
В вышеприведённом примере выходной файл будет называться <TT>`foo_tab.c'</TT>.


<P></P><HR>
 [<A HREF="bison_toc.html">Содержание</A>] &#160; [<A HREF="bison_11.html">Назад</A>] &#160; [<A>Пред</A>] &#160; [<A>Вверх</A>] &#160; [<A>След</A>] &#160; [<A HREF="bison_13.html">Вперед</A>] &#160;

</BODY>
</HTML>
