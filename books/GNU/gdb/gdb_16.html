<HTML>
<HEAD>
<!-- Created by texi2html 1.56k from gdb.texinfo on 1 November 2000 -->

<TITLE>Отладка с помощью GDB - Управление GDB</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="gdb_1.html">first</A>, <A HREF="gdb_15.html">previous</A>, <A HREF="gdb_17.html">next</A>, <A HREF="gdb_26.html">last</A> section, <A HREF="gdb_toc.html">table of contents</A>.
<P><HR><P>


<H1><A NAME="SEC164" HREF="gdb_toc.html#TOC164">Управление GDB</A></H1>

<P>
Вы можете изменять способы взаимодействия GDB с вами, используя
команду <CODE>set</CODE>.  Для команд, управляющих способами отображения
данных GDB, смотрите section <A HREF="gdb_9.html#SEC57">Параметры вывода</A>.
Другие установки описаны здесь.




<H2><A NAME="SEC165" HREF="gdb_toc.html#TOC165">Приглашение</A></H2>

<P>
<A NAME="IDX699"></A>


<P>
GDB демонстрирует свою готовность считать команду, выводя строку,
называемую <EM>приглашением</EM>.  Обычно это <SAMP>`(gdb)'</SAMP>.  Вы
можете изменить строку приглашения командой <CODE>set prompt</CODE>.
Например, при отладке GDB с помощью GDB, полезно
изменить приглашение в одном из сеансов так, чтобы вы всегда могли
понять, с каким из них вы общаетесь.


<P>
<EM>Замечание:</EM>  <CODE>set prompt</CODE> не добавляет пробелы после установленного
вами приглашения.  Это позволяет устанавливать приглашение,
заканчивающееся пробелом или нет.


<DL COMPACT>

<DT><CODE>set prompt <VAR>новое-пригл</VAR></CODE>
<DD>
<A NAME="IDX700"></A>
 
Указывает GDB, что с этого момента надо использовать в качестве
стpоки приглашения <VAR>новое-пригл</VAR>.

<A NAME="IDX701"></A>
<DT><CODE>show prompt</CODE>
<DD>
Печатает строку в форме: <SAMP>`Gdb's prompt is: <VAR>ваше-пригл</VAR>'</SAMP>
</DL>



<H2><A NAME="SEC166" HREF="gdb_toc.html#TOC166">Редактирование команд</A></H2>
<P>
<A NAME="IDX702"></A>
<A NAME="IDX703"></A>


<P>
GDB читает входные команды через интерфейс <EM>readline</EM>.  Эта
библиотека GNU обеспечивает согласованное поведение для программ,
которые предоставляют пользователю интерфейс командной строки.
Преимуществами являются стили редактирования командной строки GNU
Emacs или <EM>vi</EM>, <CODE>csh</CODE>-подобная подстановка истории
и сохранение и повторное использование истории команд между сеансами отладки.


<P>
Вы можете управлять поведением редактирования командной строки в
GDB командой <CODE>set</CODE>.


<DL COMPACT>

<DT><CODE>set editing</CODE>
<DD>
<A NAME="IDX704"></A>
 <A NAME="IDX705"></A>
 
<DT><CODE>set editing on</CODE>
<DD>
Включает редактирование командной строки (включено по умолчанию).

<DT><CODE>set editing off</CODE>
<DD>
Отключает редактирование командной строки.

<A NAME="IDX706"></A>
<DT><CODE>show editing</CODE>
<DD>
Показывает, включено редактирование командной строки или нет.
</DL>



<H2><A NAME="SEC167" HREF="gdb_toc.html#TOC167">История команд</A></H2>

<P>
GDB может отслеживать команды, которые вы вводите во время сеансов
отладки, чтобы вы могли точно знать, что происходило.  Используйте
следующие команды для управления возможностями истории команд GDB.


<DL COMPACT>

<DT><CODE>set history filename <VAR>имя-файла</VAR></CODE>
<DD>
<A NAME="IDX707"></A>
 <A NAME="IDX708"></A>
 <A NAME="IDX709"></A>
 <A NAME="IDX710"></A>
 
Устанавливает имя файла истории команд GDB в <VAR>имя-файла</VAR>.
Это файл, откуда GDB читает исходный список истории команд и куда он
записывает историю команд при выходе из данного сеанса.  Вы можете
обращаться к этому списку через раскрывание истории или с помощью
символов редактирования истории команд, перечисленных ниже.  По
умолчанию, этот файл есть значение переменной среды
<CODE>GDBHISTFILE</CODE>, или, если эта переменная не установлена,
<TT>`./.gdb_history'</TT> (<TT>`./_gdb_history'</TT> в MS-DOS).

<A NAME="IDX711"></A>
<A NAME="IDX712"></A>
<DT><CODE>set history save</CODE>
<DD>
<DT><CODE>set history save on</CODE>
<DD>
Записать историю команд в файл, имя которого может быть определено
командой <CODE>set history filename</CODE>.  По умолчанию, эта возможность
отключена.

<DT><CODE>set history save off</CODE>
<DD>
Прекратить запись истории команд в файл.

<A NAME="IDX713"></A>
<A NAME="IDX714"></A>
<DT><CODE>set history size <VAR>размер</VAR></CODE>
<DD>
Установить число команд, которые GDB хранит в своем списке
истории.  Значение по умолчанию берется из переменной среды
<CODE>HISTSIZE</CODE>, или приравнивается 256, если эта переменная не установлена.
</DL>

<P>
<A NAME="IDX715"></A>
Раскрывание истории назначает специальное значение знаку <KBD>!</KBD>.


<P>
Так как <KBD>!</KBD> является также оператором логического отрицания в Си,
раскрывание истории по умолчанию отключено.  Если вы решите включить
раскрывание истории командой <CODE>set history expansion on</CODE>, вы должны
будете снабдить <KBD>!</KBD> (когда он используется как логическое отрицание в
выражении) последующим пробелом или символом табуляции, чтобы предохранить
его от раскрывания.  Средства истории Readline не делают попытки подстановки
на строках <KBD>!=</KBD> и <KBD>!(</KBD>, даже когда раскрывание истории включено.


<P>
Вот команды управления раскрыванием истории:


<DL COMPACT>

<DT><CODE>set history expansion on</CODE>
<DD>
<A NAME="IDX716"></A>
 
<DT><CODE>set history expansion</CODE>
<DD>
Включить раскрывание истории.  Раскрывание по умолчанию отключено.

<DT><CODE>set history expansion off</CODE>
<DD>
Отключить раскрывание истории.

Библиотека Readline поставляется вместе с более полной
документацией по возможностям редактирования и раскрывания истории.
Пользователи, незнакомые с GNU Emacs или <CODE>vi</CODE>, могут почитать ее.

<A NAME="IDX717"></A>
<DT><CODE>show history</CODE>
<DD>
<DT><CODE>show history filename</CODE>
<DD>
<DT><CODE>show history save</CODE>
<DD>
<DT><CODE>show history size</CODE>
<DD>
<DT><CODE>show history expansion</CODE>
<DD>
Эти команды отображают состояние параметров истории GDB.
Просто <CODE>show history</CODE> показывает все четыре состояния.
</DL>

<DL COMPACT>

<DT><CODE>show commands</CODE>
<DD>
<A NAME="IDX718"></A>
 
Отобразить последние десять команд в истории.

<DT><CODE>show commands <VAR>n</VAR></CODE>
<DD>
Вывести десять команд, расположенных вокруг команды с номером <VAR>n</VAR>.

<DT><CODE>show commands +</CODE>
<DD>
Вывести десять команд, расположенных сразу после последних выведенных.
</DL>



<H2><A NAME="SEC168" HREF="gdb_toc.html#TOC168">Размер экрана</A></H2>
<P>
<A NAME="IDX719"></A>
<A NAME="IDX720"></A>


<P>
Определенные команды GDB могут выводить большое количество информации
на экран.  Чтобы помочь вам всю ее прочитать, GDB приостанавливает вывод и
запрашивает ввод в конце каждой страницы вывода.  Нажмите <KBD>RET</KBD>, когда вы
хотите продолжить вывод, или <KBD>q</KBD> для уничтожения оставшегося вывода.
Также, установка ширины экрана определяет, когда переносить строки
вывода.  В зависимости от того, что выводится, GDB пытается
разбить стpоку в удобочитаемом месте, вместо того чтобы просто
продолжить ее на следующую строчку.


<P>
Обычно GDB узнает размер экрана из программы драйвера
терминала.  Например, в Unix GDB использует базу данных
termcap, вместе со значением переменной среды <CODE>TERM</CODE> и
установками <CODE>stty rows</CODE> и <CODE>stty cols</CODE>.  Если это неправильно,
вы можете заменить эти установки командами <CODE>set height</CODE> и
<CODE>set width</CODE>:


<DL COMPACT>

<DT><CODE>set height <VAR>lpp</VAR></CODE>
<DD>
<A NAME="IDX721"></A>
 <A NAME="IDX722"></A>
 <A NAME="IDX723"></A>
 <A NAME="IDX724"></A>
 
<DT><CODE>show height</CODE>
<DD>
<DT><CODE>set width <VAR>cpl</VAR></CODE>
<DD>
<DT><CODE>show width</CODE>
<DD>
Эти команды <CODE>set</CODE> определяют высоту экрана в <VAR>lpp</VAR> строк и ширину
в <VAR>cpl</VAR> знаков.  Соответствующие команды <CODE>show</CODE> отображают
текущие установки.

Если вы определите высоту в ноль строк, GDB не будет
останавливаться при выводе, независимо от того, насколько он длинный.
Это полезно, если вывод осуществляется в файл или буфер редактора.

Аналогично, вы можете определить <SAMP>`set width 0'</SAMP>, чтобы запретить
GDB переносить строки вывода.
</DL>



<H2><A NAME="SEC169" HREF="gdb_toc.html#TOC169">Числа</A></H2>
<P>
<A NAME="IDX725"></A>
<A NAME="IDX726"></A>


<P>
Вы всегда можете вводить в GDB числа в восьмеричной,
десятичной, или шестнадцатеричной системе в соответствии c обычными
соглашениями: восьмеричные числа начинаются с <SAMP>`0'</SAMP>, десятичные числа
оканчиваются на <SAMP>`.'</SAMP> и шестнадцатеричные числа начинаются с
<SAMP>`0x'</SAMP>.  Числа, которые не начинаются ни c одного из этих знаков, по
умолчанию считаются десятичными; аналогично, отображение чисел по
умолчанию---если не определен никакой конкретный формат---осуществляется
по основанию 10.  Командой <CODE>set radix</CODE> вы можете изменять
основание, устанавливаемое по умолчанию для ввода и вывода.


<DL COMPACT>

<DT><CODE>set input-radix <VAR>основание</VAR></CODE>
<DD>
<A NAME="IDX727"></A>
 
Установить основание по умолчанию для числового ввода.
Поддерживаемые варианты для <VAR>основания</VAR>---8, 10 или 16.  Само
<VAR>основание</VAR> должно быть определено либо недвусмысленно, либо с
использованием текущего основания системы счисления по умолчанию;
например, любая из команд


<PRE>
set radix 012
set radix 10.
set radix 0xa
</PRE>

устанавливает десятичное основание.  С другой стороны, <SAMP>`set radix
10'</SAMP> оставляет основание системы счисления без изменений независимо от
того, каким оно было.

<A NAME="IDX728"></A>
<DT><CODE>set output-radix <VAR>основание</VAR></CODE>
<DD>
Установить основание по умолчанию для числового вывода.
Поддерживаемые варианты для <VAR>основания</VAR>---8, 10 или 16.  Само
<VAR>основание</VAR> должно быть определено либо недвусмысленно, либо с
использованием текущего основания системы счисления по умолчанию.

<A NAME="IDX729"></A>
<DT><CODE>show input-radix</CODE>
<DD>
Отобразить текущее основание по умолчанию для числового ввода.

<A NAME="IDX730"></A>
<DT><CODE>show output-radix</CODE>
<DD>
Отобразить текущее основание по умолчанию для числового вывода.
</DL>



<H2><A NAME="SEC170" HREF="gdb_toc.html#TOC170">Необязательные предупреждения и сообщения</A></H2>

<P>
По умолчанию, GDB ничего не сообщает о своей внутренней
деятельности.  Если вы работаете на медленной машине, то вы можете захотеть
использовать команду <CODE>set verbose</CODE>.  Она велит GDB
сообщать вам, когда он выполняет длинную внутреннюю операцию, чтобы вы
не думали, что он завис.


<P>
В настоящее время, <CODE>set verbose</CODE> управляет только
сообщениями о чтении таблиц символов исходного файла; смотрите
section <A HREF="gdb_13.html#SEC104">Команды для задания файлов</A>, описание <CODE>symbol-file</CODE>.


<DL COMPACT>

<DT><CODE>set verbose on</CODE>
<DD>
<A NAME="IDX731"></A>
 
Разрешает GDB выводить опpеделенные информационные сообщения.

<DT><CODE>set verbose off</CODE>
<DD>
Отключает вывод GDB опpеделенных информационных сообщений.

<A NAME="IDX732"></A>
<DT><CODE>show verbose</CODE>
<DD>
Сообщает, установлено <CODE>set verbose</CODE> в <CODE>on</CODE> или <CODE>off</CODE>.
</DL>

<P>
По умолчанию, если GDB сталкивается с ошибками в таблице символов
объектного файла, он не сообщает об этом; но если вы отлаживаете
компилятор, эта информация может вам пригодиться  (see section <A HREF="gdb_13.html#SEC105">Ошибки чтения файлов с символами</A>).


<DL COMPACT>

<DT><CODE>set complaints <VAR>предел</VAR></CODE>
<DD>
<A NAME="IDX733"></A>
 
Позволяет GDB выводить <VAR>предел</VAR> сообщений о каждом типе
необычных символов прежде, чем пеpестать сообщать о проблеме.  Установите
<VAR>предел</VAR> в ноль для подавления всех сообщений, или очень большим,
чтобы предотвратить подавление сообщений.

<A NAME="IDX734"></A>
<DT><CODE>show complaints</CODE>
<DD>
Выводит ограничение GDB на вывод сообщений о символах.

</DL>

<P>
По умолчанию GDB осмотрителен, и задает, как иногда кажется,
множество глупых вопросов, чтобы подтвердить определенные команды.
Например, если вы пытаетесь выполнить программу, которая уже
выполняется:



<PRE>
(gdb) run
The program being debugged has been started already.
Start it from the beginning? (y or n)
</PRE>

<P>
Если вы неуклонно желаете сами разбираться с последствиями ваших собственных
команд, вы можете отключить эту "возможность":


<DL COMPACT>

<DT><CODE>set confirm off</CODE>
<DD>
<A NAME="IDX735"></A>
 <A NAME="IDX736"></A>
 <A NAME="IDX737"></A>
 
Отключает запросы подтверждений.

<DT><CODE>set confirm on</CODE>
<DD>
Включает запросы подтверждений (по умолчанию).

<A NAME="IDX738"></A>
<DT><CODE>show confirm</CODE>
<DD>
Показывает, выводятся ли запросы подтверждений.

</DL>



<H2><A NAME="SEC171" HREF="gdb_toc.html#TOC171">Необязательные сообщения о внутренних событиях</A></H2>
<DL COMPACT>

<DT><CODE>set debug arch</CODE>
<DD>
<A NAME="IDX739"></A>
 
Включает и отключает вывод отладочной информации gdbarch.  По умолчанию
отключено.
<A NAME="IDX740"></A>
<DT><CODE>show debug arch</CODE>
<DD>
Отображает текущее состояние вывода отладочной информации gdbarch.
<A NAME="IDX741"></A>
<DT><CODE>set debug event</CODE>
<DD>
Включает и отключает вывод отладочной информации о событиях
GDB.  По умолчанию отключено.
<A NAME="IDX742"></A>
<DT><CODE>show debug event</CODE>
<DD>
Отображает текущее состояние вывода отладочной информации о событиях
GDB.
<A NAME="IDX743"></A>
<DT><CODE>set debug expression</CODE>
<DD>
Включает и отключает вывод отладочной информации о выражениях
GDB.  По умолчанию отключено.
<A NAME="IDX744"></A>
<DT><CODE>show debug expression</CODE>
<DD>
Отображает текущее состояние вывода отладочной информации о выражениях
GDB.
<A NAME="IDX745"></A>
<DT><CODE>set debug overload</CODE>
<DD>
Включает и выключает вывод GDB отладочной информации о
перегруженных символах Си++.  Это включает такую информацию, как
упорядочивание функций, и так далее.  По умолчанию отключено.
<A NAME="IDX746"></A>
<DT><CODE>show debug overload</CODE>
<DD>
Отображает текущее состояние вывода GDB отладочной информации о
перегруженных символах Си++.
<A NAME="IDX747"></A>
<A NAME="IDX748"></A>
<A NAME="IDX749"></A>
<DT><CODE>set debug remote</CODE>
<DD>
Включает и выключает вывод отчета о всех пакетах, посланных вперед и
назад по последовательной линии удаленной машине.  Информация печатается
в стандартный выходной поток GDB.  По умолчанию отключено.
<A NAME="IDX750"></A>
<DT><CODE>show debug remote</CODE>
<DD>
Выводит состояние вывода удаленных пакетов.
<A NAME="IDX751"></A>
<DT><CODE>set debug serial</CODE>
<DD>
Включает и выключает вывод GDB отладочной информации о
последовательном соединении.  По умолчанию отключено.
<A NAME="IDX752"></A>
<DT><CODE>show debug serial</CODE>
<DD>
Отображает текущее состояние вывода GDB отладочной информации о
последовательном соединении.
<A NAME="IDX753"></A>
<DT><CODE>set debug target</CODE>
<DD>
Включает и выключает вывод GDB отладочной информации о цели.
Эта включает информацию о том, что происходит на уровне цели
GDB.  По умолчанию отключено.
<A NAME="IDX754"></A>
<DT><CODE>show debug target</CODE>
<DD>
Отображает текущее состояние вывода GDB отладочной информации о
цели.
<A NAME="IDX755"></A>
<DT><CODE>set debug varobj</CODE>
<DD>
Включает и отключает вывод GDB отладочной информации о
переменных объектах.  По умолчанию отключено.
<A NAME="IDX756"></A>
<DT><CODE>show debug varobj</CODE>
<DD>
Отображает текущее состояние вывода GDB отладочной информации о
переменных объектах.
</DL>

<P><HR><P>
Go to the <A HREF="gdb_1.html">first</A>, <A HREF="gdb_15.html">previous</A>, <A HREF="gdb_17.html">next</A>, <A HREF="gdb_26.html">last</A> section, <A HREF="gdb_toc.html">table of contents</A>.
</BODY>
</HTML>
