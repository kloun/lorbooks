<HTML>
<HEAD>
<!-- Created by texi2html 1.56k from automake-ru.texi on 11 July 2000 -->

<TITLE>automake - Поддержка комплектов тестирования</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="automake-ru_1.html">first</A>, <A HREF="automake-ru_13.html">previous</A>, <A HREF="automake-ru_15.html">next</A>, <A HREF="automake-ru_25.html">last</A> section, <A HREF="automake-ru_toc.html">table of contents</A>.
<P><HR><P>


<H1><A NAME="SEC54" HREF="automake-ru_toc.html#TOC54">Поддержка комплектов тестирования</A></H1>

<P>
<A NAME="IDX421"></A>
<A NAME="IDX422"></A>


<P>
Automake поддерживает два вида комплектов тестирования.


<P>
Если определена переменная <CODE>TESTS</CODE>, то ее значение является списком
программ, которые надо запустить для проведения тестирования. Программы
могут быть либо унаследованными объектами, либо исходными объектами;
сгенерированное правило будет искать их и в <CODE>srcdir</CODE>, и в
<TT>`.'</TT>. Программы, которые нуждаются в файлах данных должны искать их
в каталоге <CODE>srcdir</CODE> (который указан в одноименных переменных среды
и make), так что они будут работать при построении в отдельном каталоге
(see section `Каталоги сборки' in <CITE>Руководство Autoconf</CITE>), и в частности для цели <CODE>distcheck</CODE>
(see section <A HREF="automake-ru_13.html#SEC53">Что войдет в дистрибутив</A>).


<P>
<A NAME="IDX423"></A>


<P>
Количество сбоев будет напечатано в конце запуска. Если заданная
тестовая программа заканчивает работу с кодом 77, то ее результаты
игнорируется в завершающем подсчете. Это свойство позволяет
игнорировать непереносимые тесты, в тех случаях когда они не имеют
значения. 


<P>
Переменная <CODE>TESTS_ENVIRONMENT</CODE> может быть использована для
установки переменных среды для запускаемых тестов; при выполнении этого
правила переменная среды <CODE>srcdir</CODE> устанавливается. Если все ваши
тестовые программы являются скриптами, то вы также можете установить
переменную <CODE>TESTS_ENVIRONMENT</CODE> для вызова командного процессора
(например, <SAMP>`$(SHELL) -x'</SAMP>); это свойство может быть полезно при
отладке тестов.
<A NAME="IDX424"></A>
<A NAME="IDX425"></A>


<P>
Если в переменной <CODE>AUTOMAKE_OPTIONS</CODE> указано
<A HREF="ftp://prep.ai.mit.edu/pub/gnu/dejagnu-1.3.tar.gz"><SAMP>`dejagnu'</SAMP></A>,
то предполагается использования комплекта тестов на базе
<CODE>dejagnu</CODE>. Значение переменной <CODE>DEJATOOL</CODE> передается как
аргумент ключа <CODE>--tool</CODE> программы <CODE>runtest</CODE>; по умолчанию это
имя пакета.


<P>
Переменная <CODE>RUNTESTDEFAULTFLAGS</CODE> содержит флаги для ключей
<CODE>--tool</CODE> и <CODE>--srcdir</CODE>, которые по умолчанию передаются
dejagnu; в случае необходимости это поведение может быть изменено.
<A NAME="IDX426"></A>


<P>
Переменные <CODE>EXPECT</CODE>, <CODE>RUNTEST</CODE> и <CODE>RUNTESTFLAGS</CODE> могут
быть переопределены для подстановки специфичных для проекта
значений. Например, если вам необходимо сделать это для тестирования
toolchain компилятора, поскольку значения по умолчанию не должны
содержать имена машины и цели.
<A NAME="IDX427"></A>
<A NAME="IDX428"></A>
<A NAME="IDX429"></A>
<A NAME="IDX430"></A>
<A NAME="IDX431"></A>


<P>
В других случаях тестирование производится через цель <SAMP>`make check'</SAMP>.


<P><HR><P>
Go to the <A HREF="automake-ru_1.html">first</A>, <A HREF="automake-ru_13.html">previous</A>, <A HREF="automake-ru_15.html">next</A>, <A HREF="automake-ru_25.html">last</A> section, <A HREF="automake-ru_toc.html">table of contents</A>.
</BODY>
</HTML>
