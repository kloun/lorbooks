<HTML>
<HEAD>
<!-- Created by texi2html 1.56k from automake-ru.texi on 11 July 2000 -->

<TITLE>automake - Создание файла Makefile.in</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="automake-ru_1.html">first</A>, <A HREF="automake-ru_3.html">previous</A>, <A HREF="automake-ru_5.html">next</A>, <A HREF="automake-ru_25.html">last</A> section, <A HREF="automake-ru_toc.html">table of contents</A>.
<P><HR><P>


<H1><A NAME="SEC12" HREF="automake-ru_toc.html#TOC12">Создание файла <TT>`Makefile.in'</TT></A></H1>

<P>
<A NAME="IDX101"></A>
<A NAME="IDX102"></A>
<A NAME="IDX103"></A>


<P>
Для создания всех файлов <TT>`Makefile.in'</TT> пакета запустите программу
<CODE>automake</CODE> в каталоге верхнего уровня без
аргументов.  <CODE>automake</CODE> автоматически найдет каждый файл
<TT>`Makefile.am'</TT> (сканируя <TT>`configure.in'</TT>;
see section <A HREF="automake-ru_5.html#SEC13">Сканирование файла <TT>`configure.in'</TT></A>) и сгенерирует соответствующий файл
<TT>`Makefile.in'</TT>. Заметьте, что <CODE>automake</CODE> имеет более простое
видение структуры пакета; он предполагает, что пакет имеет только один
файл <TT>`configure.in'</TT>, расположенный в каталоге верхнего уровня. Если
в вашем пакете имеется несколько файлов <TT>`configure.in'</TT>, то вам
необходимо запустить <CODE>automake</CODE> в каждом из каталогов, где есть
файл <TT>`configure.in'</TT>.


<P>
Также вы можете задать аргумент для <CODE>automake</CODE>; суффикс <TT>`.am'</TT>
добавляется к аргументу и результат используется как имя входного
файла.  В основном эта возможность используется для автоматической перегенерации
устаревших файлов <TT>`Makefile.in'</TT>. Заметьте, что <CODE>automake</CODE>
всегда должен запускаться из каталога верхнего уровня проекта, даже если
необходимо перегенерировать <TT>`Makefile.in'</TT> в каком-то из
подкаталогов.  Это необходимо, так как <CODE>automake</CODE> должен
просканировать файл <TT>`configure.in'</TT>, а также потому, что
<CODE>automake</CODE> в некоторых случаях изменяет свое поведение при
обработке <TT>`Makefile.in'</TT> в подкаталогах.


<P>
<A NAME="IDX104"></A>
<A NAME="IDX105"></A>


<P>
<CODE>automake</CODE> принимает следующие ключи командной строки:


<P>
<A NAME="IDX106"></A>
<A NAME="IDX107"></A>
<A NAME="IDX108"></A>
<A NAME="IDX109"></A>


<DL COMPACT>

<DT><SAMP>`-a'</SAMP>
<DD>
<DT><SAMP>`--add-missing'</SAMP>
<DD>
<A NAME="IDX110"></A>
<A NAME="IDX111"></A>
В некоторых ситуациях Automake требует наличия некоторых общих файлов;
например, если в <TT>`configure.in'</TT> выполняется макрос
<CODE>AC_CANONICAL_HOST</CODE>, то требуется наличие файла
<TT>`config.guess'</TT>.  Automake распространяется с несколькими такими
файлами; этот ключ заставит программу автоматически добавить к пакету
отсутствующие файлы, если это возможно. В общем, если Automake сообщает
вам, что какой-то файл отсутствует, то используйте этот ключ. По умолчанию Automake
пытается создать символьную ссылку на собственную копию
отсутствующего файла; это поведение может быть изменено с помощью
ключа <CODE>--copy</CODE>.

<DT><SAMP>`--amdir=<VAR>dir</VAR>'</SAMP>
<DD>
<A NAME="IDX112"></A>
Этот ключ заставляет Automake искать файлы данных в каталоге <VAR>dir</VAR>,
а не в каталоге установки. Этот ключ обычно используется при отладке.

<DT><SAMP>`--build-dir=<VAR>dir</VAR>'</SAMP>
<DD>
<A NAME="IDX113"></A>
Сообщает Automake, где располагается каталог для сборки. Этот ключ
используется при включении зависимостей в файл <TT>`Makefile.in'</TT>, 
созданный командой <CODE>make dist</CODE>; он не должен использоваться в
других случаях.

<DT><SAMP>`-c'</SAMP>
<DD>
<DT><SAMP>`--copy'</SAMP>
<DD>
При использовании с ключом <CODE>--add-missing</CODE>, заставляет копировать
недостающие файлы. По умолчанию создаются символьные ссылки.

<DT><SAMP>`--cygnus'</SAMP>
<DD>
<A NAME="IDX114"></A>
Заставляет сгенерированные файлы <TT>`Makefile.in'</TT> следовать правилам
Cygnus, вместо правил GNU или Gnits. Для дополнительной информации,
смотрите section <A HREF="automake-ru_20.html#SEC62">Эффект использования ключа <CODE>--cygnus</CODE></A>.

<DT><SAMP>`--foreign'</SAMP>
<DD>
<A NAME="IDX115"></A>
Устанавливает глобальную строгость в значение <SAMP>`foreign'</SAMP>.  За
дополнительной информацией смотрите раздел section <A HREF="automake-ru_2.html#SEC5">Ограничения</A>.

<DT><SAMP>`--gnits'</SAMP>
<DD>
<A NAME="IDX116"></A>
Устанавливает глобальную строгость в значение <SAMP>`gnits'</SAMP>.  За дополнительной
информацией смотрите раздел section <A HREF="automake-ru_19.html#SEC61">Эффект использования ключей <CODE>--gnu</CODE> и <CODE>--gnits</CODE></A>.

<DT><SAMP>`--gnu'</SAMP>
<DD>
<A NAME="IDX117"></A>
Устанавливает глобальную строгость в значение <SAMP>`gnu'</SAMP>.  За дополнительной
информацией смотрите раздел section <A HREF="automake-ru_19.html#SEC61">Эффект использования ключей <CODE>--gnu</CODE> и <CODE>--gnits</CODE></A>. По умолчанию используется
именно такая строгость.

<DT><SAMP>`--help'</SAMP>
<DD>
<A NAME="IDX118"></A>
Печатает список ключей командной строки и завершается.

<DT><SAMP>`-i'</SAMP>
<DD>
<DT><SAMP>`--include-deps'</SAMP>
<DD>
<A NAME="IDX119"></A>
<A NAME="IDX120"></A>
Включить всю автоматически генерируемую информацию о зависимостях 
(see section <A HREF="automake-ru_7.html#SEC36">Автоматическое отслеживание зависимостей</A>) в генерируемый файл <TT>`Makefile.in'</TT>. Это делается
в основном при создании дистрибутива; смотрите раздел section <A HREF="automake-ru_13.html#SEC53">Что войдет в дистрибутив</A>.

<DT><SAMP>`--generate-deps'</SAMP>
<DD>
<A NAME="IDX121"></A>
Создать файл, объединяющий всю автоматически генерируемую информацию о
зависимостях (see section <A HREF="automake-ru_7.html#SEC36">Автоматическое отслеживание зависимостей</A>), этот файл будет называться
<TT>`.dep_segment'</TT>.  В основном этот ключ используется при создании
дистрибутива; смотрите section <A HREF="automake-ru_13.html#SEC53">Что войдет в дистрибутив</A>. Он полезен при сопровождении
<TT>`SMakefile'</TT> или файлов <TT>`Makefile'</TT> для других платформ
(<TT>`Makefile.DOS'</TT>, и т. п.).  Этот ключ может использоваться только с
ключами <SAMP>`--include-deps'</SAMP>, <SAMP>`--srcdir-name'</SAMP> и
<SAMP>`--build-dir'</SAMP>. Заметьте, что если задан этот ключ, то никакой
другой обработки не выполняется.

<DT><SAMP>`--no-force'</SAMP>
<DD>
<A NAME="IDX122"></A>
Обычно <CODE>automake</CODE> создает все файлы <TT>`Makefile.in'</TT>, указанные в
<TT>`configure.in'</TT>. Этот ключ заставляет обновлять только те файлы
<TT>`Makefile.in'</TT>, которые устарели, с учетом зависимостей друг от
друга.

<DT><SAMP>`-o <VAR>dir</VAR>'</SAMP>
<DD>
<DT><SAMP>`--output-dir=<VAR>dir</VAR>'</SAMP>
<DD>
<A NAME="IDX123"></A>
<A NAME="IDX124"></A>
Поместить сгенерированный файл <TT>`Makefile.in'</TT> в каталог <VAR>dir</VAR>.
Обычно каждый файл <TT>`Makefile.in'</TT> создается в том же каталоге, что и
соответствующий файл <TT>`Makefile.am'</TT>. Этот ключ используется при
создании дистрибутивов.

<DT><SAMP>`--srcdir-name=<VAR>dir</VAR>'</SAMP>
<DD>
<A NAME="IDX125"></A>
Сообщает Automake имя каталога с исходными текстами текущего
дистрибутива.  Этот ключ используется при включении зависимостей в файл
<TT>`Makefile.in'</TT>, сгенерированный командой <CODE>make dist</CODE>; он не
должен использоваться в других случаях.

<DT><SAMP>`-v'</SAMP>
<DD>
<DT><SAMP>`--verbose'</SAMP>
<DD>
<A NAME="IDX126"></A>
<A NAME="IDX127"></A>
Заставляет Automake выдавать информацию о том, какие файлы читаются или 
создаются.

<DT><SAMP>`--version'</SAMP>
<DD>
<A NAME="IDX128"></A>
Выдает номер версии Automake и завершается.
</DL>

<P><HR><P>
Go to the <A HREF="automake-ru_1.html">first</A>, <A HREF="automake-ru_3.html">previous</A>, <A HREF="automake-ru_5.html">next</A>, <A HREF="automake-ru_25.html">last</A> section, <A HREF="automake-ru_toc.html">table of contents</A>.
</BODY>
</HTML>
