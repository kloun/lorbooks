<HTML>
<HEAD>
<!-- Created by texi2html 1.56k from automake-ru.texi on 11 July 2000 -->

<TITLE>automake - Когда не хватает возможностей Automake</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="automake-ru_1.html">first</A>, <A HREF="automake-ru_20.html">previous</A>, <A HREF="automake-ru_22.html">next</A>, <A HREF="automake-ru_25.html">last</A> section, <A HREF="automake-ru_toc.html">table of contents</A>.
<P><HR><P>


<H1><A NAME="SEC63" HREF="automake-ru_toc.html#TOC63">Когда не хватает возможностей Automake</A></H1>

<P>
Неявная семантика копирования Automake означает, что много проблем может
быть решено простым добавлением некоторых целей для <CODE>make</CODE> и правил
для <TT>`Makefile.in'</TT>. Automake будет игнорировать эти добавления.


<P>
<A NAME="IDX477"></A>
<A NAME="IDX478"></A>


<P>
Есть некоторые предостережения для этих работ. Хотя вы можете
переопределить цели, уже используемые Automake, но часто это просто
неразумно, особенно в каталоге верхнего уровня пакета не относящегося к
типу flat. Однако, вы можете указать в вашем файле <TT>`Makefile.in'</TT>
различные полезные цели, имеющие суффикс <SAMP>`-local'</SAMP>. Automake
дополнит стандартные цели этими целями пользователя.


<P>
<A NAME="IDX479"></A>
<A NAME="IDX480"></A>
<A NAME="IDX481"></A>
<A NAME="IDX482"></A>
<A NAME="IDX483"></A>
<A NAME="IDX484"></A>
<A NAME="IDX485"></A>
<A NAME="IDX486"></A>
<A NAME="IDX487"></A>
<A NAME="IDX488"></A>


<P>
К целям, поддерживающим локальную версию относятся: <CODE>all</CODE>,
<CODE>info</CODE>, <CODE>dvi</CODE>, <CODE>check</CODE>, <CODE>install-data</CODE>,
<CODE>install-exec</CODE>, <CODE>uninstall</CODE> и разные цели <CODE>clean</CODE>
(<CODE>mostlyclean</CODE>, <CODE>clean</CODE>, <CODE>distclean</CODE> и
<CODE>maintainer-clean</CODE>). Заметьте, что в этом списке нет целей
<CODE>uninstall-exec-local</CODE> или <CODE>uninstall-data-local</CODE>; есть только
<CODE>uninstall-local</CODE>. Это не имеет значения для удаления только данных
или исполняемых файлов.
<A NAME="IDX489"></A>
<A NAME="IDX490"></A>
<A NAME="IDX491"></A>
<A NAME="IDX492"></A>
<A NAME="IDX493"></A>
<A NAME="IDX494"></A>
<A NAME="IDX495"></A>


<P>
Например, вот один из способов установить файл в каталог <TT>`/etc'</TT>:



<PRE>
install-data-local:
        $(INSTALL_DATA) $(srcdir)/afile /etc/afile
</PRE>

<P>
<A NAME="IDX496"></A>
<A NAME="IDX497"></A>


<P>
Некоторые цели также имеют способ запускать другие цели после выполнения
всех своих действий, это называется <EM>ловушка (hook)</EM>. Ловушка
называется по имени цели, с добавлением суффикса <SAMP>`-hook'</SAMP>. Целями,
разрешающими использование ловушек являются <CODE>install-data</CODE>,
<CODE>install-exec</CODE>, <CODE>dist</CODE> и <CODE>distcheck</CODE>.
<A NAME="IDX498"></A>
<A NAME="IDX499"></A>
<A NAME="IDX500"></A>


<P>
Например, вот как создать жесткую ссылку на установленную программу:



<PRE>
install-exec-hook:
        ln $(bindir)/program $(bindir)/proglink
</PRE>

<P><HR><P>
Go to the <A HREF="automake-ru_1.html">first</A>, <A HREF="automake-ru_20.html">previous</A>, <A HREF="automake-ru_22.html">next</A>, <A HREF="automake-ru_25.html">last</A> section, <A HREF="automake-ru_toc.html">table of contents</A>.
</BODY>
</HTML>
