<HTML>
<HEAD>
<!-- Created by texi2html 1.56k from texinfo.texi on 31 May 2000 -->

<TITLE>Texinfo 4.0 - Меню</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="texinfo_1.html">first</A>, <A HREF="texinfo_7.html">previous</A>, <A HREF="texinfo_9.html">next</A>, <A HREF="texinfo_33.html">last</A> section, <A HREF="texinfo_toc.html">table of contents</A>.
<P><HR><P>


<H1><A NAME="SEC77" HREF="texinfo_toc.html#TOC77">Меню</A></H1>
<P>
<A NAME="IDX264"></A>
<A NAME="IDX265"></A>


<P>
<EM>Меню</EM> содержат указатели на подчиненные ноды.<A NAME="DOCF6" HREF="texinfo_foot.html#FOOT6">(6)</A>  В
Info вы можете использовать меню для перехода к этим нодам.  В печатных
руководствах меню не нужны и не появляются в них.


<P>
По соглашению, меню помещается в конце ноды, так как читатель может не
увидеть текст, следующий после меню.  Более того, в ноде, содержащей
меню, <EM>не должно быть</EM> много текста.  Если у вас есть много текста
и меню, переместите большую часть текста, кроме нескольких строк, в
новую подноду.  Иначе читатель, имеющий терминал, неспособный отобразить
сразу много строк, может пропустить меню и связанный с ним текст.  На
практике лучше помещать меню в пределах двадцати строк в начале ноды.


<P>
<A NAME="IDX266"></A>
<A NAME="IDX267"></A>
<A NAME="IDX268"></A>
<A NAME="IDX269"></A>


<P>
Короткий отрывок текста перед меню может выглядеть некрасиво в печатном
руководстве.  Чтобы избежать этого, вы можете написать меню рядом с
началом его ноды и поместить после него строку <CODE>@node</CODE>, а затем
строку <CODE>@heading</CODE> между командами <CODE>@ifinfo</CODE> и <CODE>@end
ifinfo</CODE>.  При этом меню, строка <CODE>@node</CODE> и заголовок появятся
только в Info-файле, но не в печатном документе.

<P>
Например, два предыдущих абзаца были написаны после меню, строки
<CODE>@node</CODE> и заголовка.  В исходном файле это выглядит так:


<PRE>
@menu
* Размещение меню::
* Написание меню::
* Части меню::
* Менее беспорядочный пункт меню::
* Пример меню::
* Другие Info-файлы::

@end menu

@node Размещение меню, Написание меню, , Меню
@ifinfo
@heading Меню должны быть в коротких нодах
@end ifinfo
</PRE>

<P>
Texinfo-файл для данного документа содержит более дюжины примеров
применения этой процедуры.  Один из них находится в начале этой главы,
другой -- в начале section <A HREF="texinfo_9.html#SEC83">Перекрестные ссылки</A>.




<H2><A NAME="SEC78" HREF="texinfo_toc.html#TOC78">Написание меню</A></H2>
<P>
<A NAME="IDX270"></A>
<A NAME="IDX271"></A>


<P>
Меню состоит из команды <CODE>@menu</CODE>, стоящей на отдельной строке,
последующих пунктов меню или строк комментариев к ним и команды
<CODE>@end menu</CODE> на отдельной строке.

<P>
Описание меню выглядит так:


<PRE>
@menu
Более объемные куски текста

* Файлы::                       Все об обращении с файлами.
* Множества::                   Множество буферов; редактирование
                                  нескольких файлов одновременно.
@end menu
</PRE>

<P>
Каждая строка в меню, начинающаяся с <SAMP>`* '</SAMP>, является
<EM>пунктом меню</EM>.  (Обратите внимание на пробел после звездочки.)  В
меню может появиться и строка, не начинающаяся с <SAMP>`* '</SAMP>.  Такая
строка -- это не пункт меню, а комментарий, который появляется в
Info-файле.  В примере выше строка <SAMP>`Более объемные куски текста'</SAMP>
является строкой комментария меню; две строки, начинающиеся с
<SAMP>`* '</SAMP> -- пункты меню.
<A NAME="IDX272"></A>
Пробелы в меню сохраняются как есть; это позволяет вам форматировать
меню по вашему желанию.




<H2><A NAME="SEC79" HREF="texinfo_toc.html#TOC79">Составные части меню</A></H2>
<P>
<A NAME="IDX273"></A>
<A NAME="IDX274"></A>
<A NAME="IDX275"></A>


<P>
Пункт меню состоит из трех частей, необходимой является только вторая:



<OL>
<LI>

Название пункта меню (необязательно).

<LI>

Имя ноды (обязательно).

<LI>

Описание пункта (необязательно).
</OL>

<P>
Шаблон пункта меню выглядит следующим образом:


<PRE>
* <VAR>название-пункта-меню</VAR>: <VAR>имя-ноды</VAR>.   <VAR>описание</VAR>
</PRE>

<P>
После названия пункта меню должно следовать одно двоеточие, а после имени
ноды -- символ табуляции, запятая, точка или символ новой
строки.

<P>
В Info, пользователь выбирает ноду командой <KBD>m</KBD> (<CODE>Info-menu</CODE>).
Название пункта меню -- это то, что пользователь вводит после
команды <KBD>m</KBD>.


<P>
В третьей части пункта меню пишется описывающая фраза или предложение.
Названия пунктов и имена нод часто бывают короткими; описание же
объясняет пользователю, о чем говорится в этой ноде.  Хорошее описание
дополняет имя ноды, а не просто повторяет его.  Описание может
находиться на двух или более строках; в этом случае некоторые авторы
предпочитают делать отступ во второй строке, тогда как другие
предпочитают выравнивать ее по первой (и по остальным) строкам.  Здесь
выбор за вами.




<H2><A NAME="SEC80" HREF="texinfo_toc.html#TOC80">Менее беспорядочный пункт меню</A></H2>
<P>
<A NAME="IDX276"></A>
<A NAME="IDX277"></A>
<A NAME="IDX278"></A>
<A NAME="IDX279"></A>
<A NAME="IDX280"></A>


<P>
Если название пункта меню и имя ноды одинаковы, вы можете написать имя
сразу после звездочки и пробела в начале строки и поставить после имени
два двоеточия.

<P>
Например, пишите



<PRE>
* Имя::                        <VAR>описание</VAR>
</PRE>

<P>
вместо



<PRE>
* Имя: Имя.                    <VAR>описание</VAR>
</PRE>

<P>
Вам стоит использовать имя ноды как название пункта меню везде, где это
возможно, так как это уменьшит количество ненужного текста в
меню.



<H2><A NAME="SEC81" HREF="texinfo_toc.html#TOC81">Пример меню</A></H2>
<P>
<A NAME="IDX281"></A>
<A NAME="IDX282"></A>


<P>
В Texinfo меню выглядит так:


<PRE>
@menu
* название пункта меню: имя ноды.   Короткое описание.
* Имя ноды::                        Эта форма предпочтительна.
@end menu
</PRE>

<P>
Это дает:



<PRE>
* menu:

* название пункта меню: имя ноды.   Короткое описание.
* Имя ноды::                        Эта форма предпочтительна.
</PRE>

<P>
Пример, как вы можете увидеть это в Texinfo-файле:


<PRE>
@menu
Более объемные куски текста

* Файлы::                      Все об обращении с файлами.
* Множества: Буферы.           Множество буферов; редактирование
                                  нескольких файлов одновременно.

@end menu
</PRE>

<P>
Это дает:



<PRE>
* menu:
Более объемные куски текста

* Файлы::                      Все об обращении с файлами.
* Множества: Буферы.           Множество буферов; редактирование
                                 нескольких файлов одновременно.

</PRE>

<P>
В этом примере меню имеет два пункта. <SAMP>`Файлы'</SAMP> -- это одновременно
и название пункта меню, и имя ноды, на которую ссылается этот пункт.
<SAMP>`Множества'</SAMP> -- это название пункта меню; он ссылается на ноду,
называемую <SAMP>`Буферы'</SAMP>.  Строка <SAMP>`Более объемные куски текста'</SAMP>
является комментарием; она присутствует в меню, но не является его
пунктом.

<P>
Так как ни для ноды <SAMP>`Файлы'</SAMP>, ни для ноды <SAMP>`Буферы'</SAMP> не указано
имени файла, они должны быть именами нод в том же Info-файле
(see section <A HREF="texinfo_8.html#SEC82">Ссылки на другие Info-файлы</A>).




<H2><A NAME="SEC82" HREF="texinfo_toc.html#TOC82">Ссылки на другие Info-файлы</A></H2>
<P>
<A NAME="IDX283"></A>
<A NAME="IDX284"></A>
<A NAME="IDX285"></A>
<A NAME="IDX286"></A>
<A NAME="IDX287"></A>


<P>
Вы можете создать пункт меню, который позволит пользователю перейти к
ноде в другом Info-файле, написав в круглых скобках имя файла
непосредственно перед именем ноды.  В этом случае вы должны использовать
формат пункта меню с тремя частями, что избавит пользователя от
необходимости вводить имя файла.

<P>
Формат выглядит следующим образом:


<PRE>
@menu
* <VAR>название-первого-пункта</VAR>:(<VAR>файл</VAR>)<VAR>нода</VAR>.        <VAR>описание</VAR>

* <VAR>название-второго-пункта</VAR>:(<VAR>файл</VAR>)<VAR>другая-нода</VAR>. <VAR>описание</VAR>
@end menu
</PRE>

<P>
Например, для ссылки непосредственно на ноды <SAMP>`Схема текста'</SAMP> и
<SAMP>`Перепривязка'</SAMP> в <CITE>Руководстве по Emacs</CITE>, вы написали бы такое
меню:


<PRE>
@menu
* Схема текста: (emacs)Режим Outline. Основной режим для
                                      редактирования структуры текста.
* Перепривязка: (emacs)Перепривязка.  Как переопределить
                                      значение ключа.
@end menu
</PRE>

<P>
Если вы не указали имя ноды, а только имя файла, то Info предполагает,
что это ссылка на первую (`Top') ноду.

<P>
Файл <TT>`dir'</TT>, в котором содержится главное меню для системы Info,
перечисляет в этом меню только имена файлов.  Оно переносит вас
непосредственно к первой ноде каждого документа Info.  (See section <A HREF="texinfo_21.html#SEC240">Установка Info-файла</A>.)

<P>
Например:



<PRE>
* Info: (info).         Система просмотра документации.
* Emacs: (emacs).       Расширяемый, самодокументированный
                        текстовый редактор.
</PRE>

<P>
(Каталог верхнего уровня <TT>`dir'</TT> системы Info -- не Texinfo-, а
Info-файл, но пункты меню выглядят одинаково в обоих типах файлов.)


<P>
Команды обновления режима Texinfo в GNU Emacs работают только с нодами
текущего буфера, а значит вы не можете использовать их для создания
меню, ссылающихся на другие файлы.  Вы должны писать такие меню сами.
<P><HR><P>
Go to the <A HREF="texinfo_1.html">first</A>, <A HREF="texinfo_7.html">previous</A>, <A HREF="texinfo_9.html">next</A>, <A HREF="texinfo_33.html">last</A> section, <A HREF="texinfo_toc.html">table of contents</A>.
</BODY>
</HTML>
